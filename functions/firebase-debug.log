[debug] [2025-09-03T18:12:49.788Z] ----------------------------------------------------------------------
[debug] [2025-09-03T18:12:49.792Z] Command:       /Users/hardeep/.nvm/versions/node/v20.19.4/bin/node /Users/hardeep/.nvm/versions/node/v20.19.4/bin/firebase deploy --only functions
[debug] [2025-09-03T18:12:49.793Z] CLI Version:   14.15.1
[debug] [2025-09-03T18:12:49.793Z] Platform:      darwin
[debug] [2025-09-03T18:12:49.793Z] Node Version:  v20.19.4
[debug] [2025-09-03T18:12:49.793Z] Time:          Wed Sep 03 2025 11:12:49 GMT-0700 (Pacific Daylight Time)
[debug] [2025-09-03T18:12:49.793Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-03T18:12:50.049Z] Object "/functions" in "firebase.json" has unknown property: {"additionalProperty":"gen"}
[debug] [2025-09-03T18:12:50.049Z] Field "/functions" in "firebase.json" is possibly invalid: must be array
[debug] [2025-09-03T18:12:50.050Z] Field "/functions" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-09-03T18:12:50.055Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-03T18:12:50.055Z] > authorizing via signed-in user (easietrucking@gmail.com)
[debug] [2025-09-03T18:12:50.056Z] [iam] checking project trucking-app-3e473 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-09-03T18:12:50.057Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:50.057Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:50.058Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions [none]
[debug] [2025-09-03T18:12:50.059Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions x-goog-quota-user=projects/trucking-app-3e473
[debug] [2025-09-03T18:12:50.059Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-03T18:12:50.544Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions 200
[debug] [2025-09-03T18:12:50.544Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-03T18:12:50.545Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:50.545Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:50.545Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-09-03T18:12:50.545Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-09-03T18:12:50.918Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-09-03T18:12:50.918Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'trucking-app-3e473'...
[info] 
[info] i  deploying functions 
[debug] [2025-09-03T18:12:50.922Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:50.922Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:50.922Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 [none]
[debug] [2025-09-03T18:12:51.099Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 200
[debug] [2025-09-03T18:12:51.100Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 {"projectNumber":"483740693601","projectId":"trucking-app-3e473","lifecycleState":"ACTIVE","name":"Trucking App","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-01T00:39:08.067334Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-09-03T18:12:51.102Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:51.102Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:51.102Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/trucking-app-3e473/adminSdkConfig [none]
[debug] [2025-09-03T18:12:51.587Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/trucking-app-3e473/adminSdkConfig 200
[debug] [2025-09-03T18:12:51.587Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/trucking-app-3e473/adminSdkConfig {"projectId":"trucking-app-3e473","storageBucket":"trucking-app-3e473.firebasestorage.app"}
[debug] [2025-09-03T18:12:51.587Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:51.587Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:51.587Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs [none]
[debug] [2025-09-03T18:12:52.067Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs 200
[debug] [2025-09-03T18:12:52.067Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs {"configs":[{"name":"projects/trucking-app-3e473/configs/email"}]}
[debug] [2025-09-03T18:12:52.067Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:52.068Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:52.068Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables [none]
[debug] [2025-09-03T18:12:52.230Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables 200
[debug] [2025-09-03T18:12:52.230Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables {"variables":[{"name":"projects/trucking-app-3e473/configs/email/variables/pass","updateTime":"2025-09-03T00:38:20.869548678Z"},{"name":"projects/trucking-app-3e473/configs/email/variables/user","updateTime":"2025-09-03T00:38:20.168701835Z"}]}
[debug] [2025-09-03T18:12:52.231Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:52.231Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:52.231Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:52.231Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:52.231Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/pass [none]
[debug] [2025-09-03T18:12:52.232Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/user [none]
[debug] [2025-09-03T18:12:52.406Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/pass 200
[debug] [2025-09-03T18:12:52.406Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/pass {"name":"projects/trucking-app-3e473/configs/email/variables/pass","updateTime":"2025-09-03T00:38:20.869548678Z","text":"EasieTrucking#88"}
[debug] [2025-09-03T18:12:52.575Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/user 200
[debug] [2025-09-03T18:12:52.575Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/user {"name":"projects/trucking-app-3e473/configs/email/variables/user","updateTime":"2025-09-03T00:38:20.168701835Z","text":"easietrucking@gmail.com"}
[debug] [2025-09-03T18:12:52.576Z] Validating nodejs source
[warn] ⚠  functions: Runtime Node.js 18 was deprecated on 2025-04-30 and will be decommissioned on 2025-10-30, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[debug] [2025-09-03T18:12:53.458Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "dependencies": {
    "firebase-admin": "^13.5.0",
    "firebase-functions": "^6.4.0",
    "firebase-tools": "^14.15.1",
    "nodemailer": "^7.0.6"
  },
  "devDependencies": {
    "eslint": "^5.12.0",
    "eslint-plugin-promise": "^4.0.1",
    "firebase-functions-test": "^0.1.6"
  },
  "private": true
}
[debug] [2025-09-03T18:12:53.458Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-09-03T18:12:53.460Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-09-03T18:12:53.476Z] Found firebase-functions binary at '/Users/hardeep/Personal_workspace/trucking-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8286

[debug] [2025-09-03T18:12:54.295Z] Got response from /__/functions.yaml {"endpoints":{"sendInviteEmail":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"sendInviteEmail"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-09-03T18:12:58.326Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-03T18:12:58.326Z] > authorizing via signed-in user (easietrucking@gmail.com)
[debug] [2025-09-03T18:12:58.326Z] [iam] checking project trucking-app-3e473 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-09-03T18:12:58.326Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:58.326Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:58.326Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions [none]
[debug] [2025-09-03T18:12:58.326Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions x-goog-quota-user=projects/trucking-app-3e473
[debug] [2025-09-03T18:12:58.326Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-09-03T18:12:58.622Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions 200
[debug] [2025-09-03T18:12:58.622Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-09-03T18:12:58.622Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:58.622Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:58.623Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/trucking-app-3e473/instances pageSize=100&pageToken=
[debug] [2025-09-03T18:12:59.218Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/trucking-app-3e473/instances 200
[debug] [2025-09-03T18:12:59.219Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/trucking-app-3e473/instances {"instances":[{"name":"projects/trucking-app-3e473/instances/firestore-send-email","createTime":"2025-09-02T23:23:57.052822Z","updateTime":"2025-09-02T23:27:04.750312Z","state":"ERRORED","config":{"name":"projects/trucking-app-3e473/instances/firestore-send-email/configurations/6f2ceff1-ae2c-43ab-89e7-54b62ce9d496","createTime":"2025-09-02T23:23:57.052822Z","source":{"name":"projects/firebaseextensions/sources/4cf6e429-9ccf-4d81-81e6-c7d0fb3b0256","packageUri":"https://storage.googleapis.com/firebase-extensions-packages-prod/firebase-firestore-send-email-0.2.4-0a4c1a27-b565-4f49-a4ab-3306f47e35ee.zip","hash":"65d174caa6d3cfe1b00fb3cfee9682a1dd94ac05512521e2110f78c1947cfd81","extensionRoot":"/","spec":{"specVersion":"v1beta","name":"firestore-send-email","version":"0.2.4","description":"Composes and sends an email based on the contents of a document written to a specified Cloud Firestore collection.","roles":[{"role":"datastore.user","reason":"Allows this extension to access Cloud Firestore to read and process added email documents."}],"resources":[{"name":"processQueue","type":"firebaseextensions.v1beta.v2function","propertiesYaml":"buildConfig:\n  runtime: nodejs22\neventTrigger:\n  eventFilters:\n  - attribute: database\n    value: ${DATABASE}\n  - attribute: document\n    operator: match-path-pattern\n    value: ${MAIL_COLLECTION}/{documentId}\n  eventType: google.cloud.firestore.document.v1.written\n  triggerRegion: ${DATABASE_REGION}\nserviceConfig:\n  timeoutSeconds: 120\nsourceDirectory: functions\n","description":"Processes document changes in the specified Cloud Firestore collection, delivers emails, and updates the document with delivery status information.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Firebase","url":"https://firebase.google.com"},"contributors":[{"authorName":"Michael Bleigh","url":"https://github.com/mbleigh"},{"authorName":"Invertase","email":"oss@invertase.io","url":"https://github.com/invertase"}],"license":"Apache-2.0","releaseNotesUrl":"https://github.com/firebase/extensions/blob/master/firestore-send-email/CHANGELOG.md","sourceUrl":"https://github.com/firebase/extensions/tree/master/firestore-send-email","params":[{"param":"DATABASE","label":"Firestore Instance ID","type":"STRING","description":"The Firestore database to use. Use \"(default)\" for the default database. You can view your available Firestore databases at [https://console.cloud.google.com/firestore/databases](https://console.cloud.google.com/firestore/databases).\n","required":true,"default":"(default)","example":"(default)"},{"param":"DATABASE_REGION","label":"Firestore Instance Location","type":"SELECT","description":"Where is the Firestore database located? You can check your current database location at [https://console.cloud.google.com/firestore/databases](https://console.cloud.google.com/firestore/databases).\n","required":true,"options":[{"value":"eur3","label":"Multi-region (Europe - Belgium and Netherlands)"},{"value":"nam5","label":"Multi-region (United States)"},{"value":"nam7","label":"Multi-region (Iowa, North Virginia, and Oklahoma)"},{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-west1","label":"Oregon (us-west1)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-east5","label":"Columbus (us-east5)"},{"value":"us-south1","label":"Dallas (us-south1)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"northamerica-northeast2","label":"Toronto (northamerica-northeast2)"},{"value":"northamerica-south1","label":"Queretaro (northamerica-south1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"southamerica-west1","label":"Santiago (southamerica-west1)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west4","label":"Netherlands (europe-west4)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"europe-west8","label":"Milan (europe-west8)"},{"value":"europe-west9","label":"Paris (europe-west9)"},{"value":"europe-west10","label":"Berlin (europe-west10)"},{"value":"europe-west12","label":"Turin (europe-west12)"},{"value":"europe-southwest1","label":"Madrid (europe-southwest1)"},{"value":"europe-north1","label":"Finland (europe-north1)"},{"value":"europe-north2","label":"Stockholm (europe-north2)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"me-central1","label":"Doha (me-central1)"},{"value":"me-central2","label":"Dammam (me-central2)"},{"value":"me-west1","label":"Tel Aviv (me-west1)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-south2","label":"Delhi (asia-south2)"},{"value":"asia-southeast1","label":"Singapore (asia-southeast1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"asia-east1","label":"Taiwan (asia-east1)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"},{"value":"australia-southeast2","label":"Melbourne (australia-southeast2)"},{"value":"africa-south1","label":"Johannesburg (africa-south1)"}]},{"param":"AUTH_TYPE","label":"Authentication Type","type":"SELECT","description":"The authentication type to be used for the SMTP server (e.g., OAuth2, Username & Password.","required":true,"options":[{"value":"UsernamePassword","label":"Username & Password"},{"value":"OAuth2","label":"OAuth2"}],"default":"UsernamePassword"},{"param":"SMTP_CONNECTION_URI","label":"SMTP connection URI","type":"STRING","description":"A URI representing an SMTP server this extension can use to deliver email. Note that port 25 is blocked by Google Cloud Platform, so we recommend using port 587 for SMTP connections. If you're using the SMTPS protocol, we recommend using port 465. In order to keep passwords secure, it is recommended to omit the password from the connection string while using the `SMTP Password` field for entering secrets and passwords. Passwords and secrets should now be included in `SMTP password` field.\nSecure format:\n `smtps://username@gmail.com@smtp.gmail.com:465` (username only)\n `smtps://smtp.gmail.com:465` (No username and password)\nBackwards Compatible (less secure):\n `smtps://username@gmail.com:password@smtp.gmail.com:465`. (username and\npassword)","example":"smtps://username@smtp.hostname.com:465","validationRegex":"^(smtp[s]*://(.*?(:[^:@]*)?@)?[^:@]+:[0-9]+(\\?[^ ]*)?)|^$","validationErrorMessage":"Invalid SMTP connection URI. Must be in the form `smtp(s)://username:password@hostname:port` or `smtp(s)://username@hostname:port` or to be left blank."},{"param":"SMTP_PASSWORD","label":"SMTP password","type":"SECRET","description":"User password for the SMTP server"},{"param":"HOST","label":"OAuth2 SMTP Host","type":"STRING","description":"The OAuth2 hostname of the SMTP server (e.g., smtp.gmail.com)."},{"param":"OAUTH_PORT","label":"OAuth2 SMTP Port","type":"STRING","description":"The OAuth2 port number for the SMTP server (e.g., 465 for SMTPS, 587 for STARTTLS).","default":"465"},{"param":"OAUTH_SECURE","label":"Use secure OAuth2 connection?","type":"SELECT","description":"Set to true to enable a secure connection (TLS/SSL) when using OAuth2 authentication for the SMTP server.","options":[{"value":"true","label":"Yes"},{"value":"false","label":"No"}],"default":"true"},{"param":"CLIENT_ID","label":"OAuth2 Client ID","type":"SECRET","description":"The OAuth2 Client ID for authentication with the SMTP server."},{"param":"CLIENT_SECRET","label":"OAuth2 Client Secret","type":"SECRET","description":"The OAuth2 Client Secret for authentication with the SMTP server."},{"param":"REFRESH_TOKEN","label":"OAuth2 Refresh Token","type":"SECRET","description":"The OAuth2 Refresh Token for authentication with the SMTP server."},{"param":"USER","label":"OAuth2 SMTP User","type":"STRING","description":"The OAuth2 user email or username for SMTP authentication."},{"param":"MAIL_COLLECTION","label":"Email documents collection","type":"STRING","description":"What is the path to the collection that contains the documents used to build and send the emails?","required":true,"default":"mail","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Must be a valid Cloud Firestore collection"},{"param":"DEFAULT_FROM","label":"Default FROM address","type":"STRING","description":"The email address to use as the sender's address (if it's not specified in the added email document). You can optionally include a name with the email address (`Friendly Firebaser <foobar@example.com>`). This parameter does not work with [Gmail SMTP](https://nodemailer.com/usage/using-gmail/).","required":true,"example":"foobar@example.com","validationRegex":"^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$|^.*<(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})>$","validationErrorMessage":"Must be a valid email address or valid name plus email address"},{"param":"DEFAULT_REPLY_TO","label":"Default REPLY-TO address","type":"STRING","description":"The email address to use as the reply-to address (if it's not specified in the added email document)."},{"param":"USERS_COLLECTION","label":"Users collection","type":"STRING","description":"A collection of documents keyed by user UID. If the `toUids`, `ccUids`, and/or `bccUids` recipient options are used in the added email document, this extension delivers email to the `email` field based on lookups in this collection."},{"param":"TEMPLATES_COLLECTION","label":"Templates collection","type":"STRING","description":"A collection of email templates keyed by name. This extension can render an email using a [Handlebar](https://handlebarsjs.com/) template, it's recommended to use triple curly braces `{{{  }}}` in your Handlebars templates when the substitution value is a URL or otherwise sensitive to HTML escaping."},{"param":"TTL_EXPIRE_TYPE","label":"Firestore TTL type","type":"SELECT","description":"Do you want the firestore records to be marked with an expireAt field for a TTL policy? If \"Never\" is selected then no expireAt field will be added. Otherwise you may specify the unit of time specified by the TTL_EXPIRE_VALUE parameter. Defaults to \"Never\".","required":true,"options":[{"value":"never","label":"Never"},{"value":"hour","label":"Hour"},{"value":"day","label":"Day"},{"value":"week","label":"Week"},{"value":"month","label":"Month"},{"value":"year","label":"Year"}],"default":"never"},{"param":"TTL_EXPIRE_VALUE","label":"Firestore TTL value","type":"STRING","description":"In the units specified by TTL_EXPIRE_TYPE, how long do you want records to be ineligible for deletion by a TTL policy? This parameter requires the Firestore TTL type parameter to be set to a value other than `Never`. For example, if `Firestore TTL type` is set to `Day` then setting this parameter to `1` will specify a TTL of 1 day.","required":true,"default":"1","validationRegex":"^[1-9][0-9]*$","validationErrorMessage":"The value must be an integer value greater than zero."},{"param":"TLS_OPTIONS","label":"TLS Options","type":"STRING","description":"A JSON value representing TLS options. For more information, see https://nodejs.org/api/tls.html#tls_class_tls_tlssocket"}],"preinstallContent":"Use this extension to render and send emails that contain the information from documents added to a specified Cloud Firestore collection.\n\nAdding a document triggers this extension to send an email built from the document's fields. The document's top-level fields specify the email sender and recipients, including `to`, `cc`, and `bcc` options (each supporting UIDs). The document's `message` field specifies the other email elements, like subject line and email body (either plaintext or HTML)\n\nHere's a basic example document write that would trigger this extension:\n\n```js\nadmin.firestore().collection('mail').add({\n  to: 'someone@example.com',\n  message: {\n    subject: 'Hello from Firebase!',\n    html: 'This is an <code>HTML</code> email body.',\n  },\n})\n```\n\nYou can also optionally configure this extension to render emails using [Handlebar](https://handlebarsjs.com/) templates. Each template is a document stored in a Cloud Firestore collection.\n\nWhen you configure this extension, you'll need to supply your **SMTP credentials for mail delivery**. Note that this extension is for use with bulk email service providers, like SendGrid, Mailgun, etc.\n\n#### Using custom headers\n\nYou can add custom headers to your emails by including a `headers` field in the document you add to the Firestore collection. The `headers` field should be an object where each key is the header name and the value is the header value.\n\n## Example JSON with Custom Headers:\n```json\n{\n  \"to\": [\"example@example.com\"],\n  \"message\": {\n    \"subject\": \"Test Email with Custom Headers\",\n    \"text\": \"This is a test email to see if custom headers work.\",\n    \"html\": \"<strong>This is a test email to see if custom headers work.</strong>\"\n  },\n  \"headers\": {\n    \"X-Custom-Header\": \"CustomValue\",\n    \"X-Another-Header\": \"AnotherValue\",\n  }\n}\n```\n\nAdd this document to the Firestore mail collection to send an email with custom headers.\nYou can even include headers like 'List-Unsubscribe' to allow recipients to unsubscribe from your emails.\n\n#### Firestore-Send-Email: SendGrid Categories\n\nWhen using SendGrid (`SMTP_CONNECTION_URI` includes `sendgrid.net`), you can assign categories to your emails.\n\n## Example JSON with Categories:\n```json\n{\n  \"to\": [\"example@example.com\"],\n  \"categories\": [\"Example_Category\"],\n  \"message\": {\n    \"subject\": \"Test Email with Categories\",\n    \"text\": \"This is a test email to see if categories work.\",\n    \"html\": \"<strong>This is a test email to see if categories work.</strong>\"\n  }\n}\n```\n\nAdd this document to the Firestore mail collection to send categorized emails.\n\nFor more details, see the [SendGrid Categories documentation](https://docs.sendgrid.com/ui/sending-email/categories).\n\n#### Firestore-Send-Email: SendGrid Dynamic Templates\n\nWhen using SendGrid, you can use SendGrid Dynamic Templates to create and send templated emails.\n\n## Example JSON representation of Firestore document for a Dynamic Template:\n```json\n{\n  \"to\": [\"example@example.com\"],\n  \"sendGrid\": {\n    \"templateId\": \"d-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",  // SendGrid Dynamic Template ID always starts with 'd-'\n    \"dynamicTemplateData\": {\n      \"name\": \"John Doe\",\n      \"company\": \"Example Corp\",\n      \"position\": \"Developer\"\n    }\n  }\n}\n```\n\nAdd this document to the Firestore mail collection to send an email using a SendGrid Dynamic Template. The `templateId` is required and should be your SendGrid Dynamic Template ID (always starts with 'd-'). The `dynamicTemplateData` object contains the variables that will be used in your template.\n\nFor more details, see the [SendGrid Dynamic Templates documentation](https://docs.sendgrid.com/ui/sending-email/how-to-send-an-email-with-dynamic-templates).\n\n#### Setting Up OAuth2 Authentication\n\nThis section will help you set up OAuth2 authentication for the extension, using GCP (Gmail) as an example.\n\nThe extension is agnostic with respect to OAuth2 provider. You just need to provide it with valid Client ID, Client Secret, and Refresh Token parameters.\n\n##### Step 1: Create OAuth Credentials in Google Cloud Platform\n\n1. Go to the [Google Cloud Console](https://console.cloud.google.com/)\n2. Select your project\n3. In the left sidebar, navigate to **APIs & Services > Credentials**\n4. Click Create Credentials and select **OAuth client ID**\n5. Set the application type to **Web application**\n6. Give your OAuth client a name (e.g., \"Firestore Send Email Extension\")\n7. Under **Authorized redirect URIs**, add the URI where you'll receive the OAuth callback, for example, `http://localhost:8080/oauth/callback`.\n\n   **Note**: The redirect URI in your OAuth client settings MUST match exactly the callback URL in your code.\n\n8. Click **Create**.\n\n##### Step 2: Configure OAuth Consent Screen\n\n1. In Google Cloud Console, go to **APIs & Services > OAuth consent screen**\n2. Choose the appropriate user type:\n   - **External**: For applications used by any Google user\n   - **Internal**: For applications used only by users in your organization\n\n> **Important Note**: If your OAuth consent screen is in \"Testing\" status, refresh tokens will expire after 7 days unless the User Type is set to \"Internal.\"\n\n##### Step 3: Generate a Refresh Token\n\nYou can use a standalone helper script (`oauth2-refresh-token-helper.js`) that generates a refresh token without requiring any npm installations. \n\n**Prerequisites:**\n- You must have Node.js installed on your machine\n\n**Download the script:**\n1. Download the script using curl, wget, or directly from your browser:\n   ```bash\n   # Using curl\n   curl -o oauth2-refresh-token-helper.js https://raw.githubusercontent.com/firebase/extensions/refs/heads/master/firestore-send-email/scripts/oauth2-refresh-token-helper.js\n   \n   # Using wget\n   wget https://raw.githubusercontent.com/firebase/extensions/refs/heads/master/firestore-send-email/scripts/oauth2-refresh-token-helper.js\n   ```\n\n   You can also [view the script on GitHub](https://github.com/firebase/extensions/blob/master/firestore-send-email/scripts/oauth2-refresh-token-helper.js) and download it manually.\n\n> **Note**: If you are creating your own application to obtain a refresh token, in a Node.js environment where you can use npm packages, consider using the official google-auth-library instead:\n> \n> 1. Install the library: `npm install google-auth-library`\n> 2. Then use it like this:\n>    ```javascript\n>    import { OAuth2Client } from \"google-auth-library\";\n>    \n>    // Initialize OAuth client\n>    const oAuth2Client = new OAuth2Client(CLIENT_ID, CLIENT_SECRET, REDIRECT_URI);\n>    \n>    // Generate authorization URL\n>    const authorizeUrl = oAuth2Client.generateAuthUrl({\n>      access_type: \"offline\",\n>      prompt: \"consent\",\n>      scope: [\"https://mail.google.com/\"],  // Full Gmail access\n>    });\n>    \n>    // After receiving the code from the callback:\n>    const { tokens } = await oAuth2Client.getToken(code);\n>    const refreshToken = tokens.refresh_token;\n>    ```\n\n2. Run the script with Node.js:\n\n   ```bash\n   node oauth2-refresh-token-helper.js\n   ```\n\n3. The script supports the following command-line options:\n   ```\n   --port, -p     Port to run the server on (default: 8080 or PORT env var)\n   --id, -i       Google OAuth Client ID\n   --secret, -s   Google OAuth Client Secret\n   --output, -o   Output file to save the refresh token (default: refresh_token.txt)\n   --help, -h     Show help information\n   ```\n\n4. You can either provide your credentials as command-line arguments or set them as environment variables:\n   ```bash\n   # Using environment variables\n   export CLIENT_ID=your_client_id\n   export CLIENT_SECRET=your_client_secret\n   node oauth2-refresh-token-helper.js\n\n   # Using command-line arguments\n   node oauth2-refresh-token-helper.js --id=your_client_id --secret=your_client_secret\n   ```\n\n5. The script will:\n   - Start a local web server\n   - Open your browser to the OAuth consent page\n   - Receive the authorization code\n   - Exchange the code for tokens\n   - Save the refresh token to a file (default: `refresh_token.txt`)\n   - Display the refresh token in your browser\n\n6. **Important**: The redirect URI in the script (`http://localhost:8080/oauth/callback` by default) **MUST** match exactly what you configured in the Google Cloud Console OAuth client settings.\n\n7. The script automatically requests the appropriate scope for Gmail access (`https://mail.google.com/`) and sets the authorization parameters to always receive a refresh token (`access_type: \"offline\"` and `prompt: \"consent\"`).\n\n##### Step 4: Configure the Firestore Send Email Extension\n\nWhen installing the extension, select \"OAuth2\" as the **Authentication Type** and provide the following parameters:\n\n- **OAuth2 SMTP Host**: `smtp.gmail.com` (for Gmail)\n- **OAuth2 SMTP Port**: `465` (for SMTPS) or `587` (for STARTTLS)\n- **Use Secure OAuth2 Connection**: `true` (for port 465) or `false` (for port 587)\n- **OAuth2 Client ID**: Your Client ID from GCP\n- **OAuth2 Client Secret**: Your Client Secret from GCP\n- **OAuth2 Refresh Token**: The refresh token generated in Step 3\n- **SMTP User**: Your full Gmail email address\n\nLeave `Use secure OAuth2 connection?` as the default value `true`.\n\n##### Troubleshooting\n\n###### Refresh Token Expiration\n\n- **Testing Status**: If your OAuth consent screen is in \"Testing\" status, refresh tokens expire after 7 days unless User Type is set to \"Internal\"\n- **Solution**: Either publish your app or ensure User Type is set to \"Internal\" in the OAuth consent screen settings\n\n###### No Refresh Token Received\n\n- **Problem**: If you don't receive a refresh token during the OAuth flow\n- **Solution**: Make sure you've revoked previous access or forced consent by going to [Google Account Security](https://myaccount.google.com/security) > Third-party apps with account access\n\n###### Scope Issues\n\n- **Problem**: If you see authentication errors, you might not have the correct scopes\n- **Solution**: Ensure you've added `https://mail.google.com/` as a scope in the OAuth consent screen\n\n###### Additional Resources\n\n- [Google OAuth2 Documentation](https://developers.google.com/identity/protocols/oauth2)\n- [Nodemailer OAuth2 Guide](https://nodemailer.com/smtp/oauth2/)\n- [Firebase Extensions Documentation](https://firebase.google.com/docs/extensions)\n\n#### Automatic Deletion of Email Documents\n\nTo use Firestore's TTL feature for automatic deletion of expired email documents, the extension provides several configuration parameters.\n\nThe extension will set a TTL field in the email documents, but you will need to manually configure a TTL policy for the collection/collection group the extension targets, on the `delivery.expireAt` field.\n\nDetailed instructions for creating a TTL field can be found in the [Firestore TTL Policy documentation](https://firebase.google.com/docs/firestore/ttl).\n\n#### Billing\nTo install an extension, your project must be on the [Blaze (pay as you go) plan](https://firebase.google.com/pricing)\n\n- This extension uses other Firebase and Google Cloud Platform services, which have associated charges if you exceed the service's no-cost tier:\n  - Cloud Firestore\n  - Cloud Functions (Node.js 10+ runtime. [See FAQs](https://firebase.google.com/support/faq#extensions-pricing))\n\nUsage of this extension also requires you to have SMTP credentials for mail delivery. You are responsible for any associated costs with your usage of your SMTP provider.\n\n#### Further reading & resources\n\nYou can find more information about this extension in the following articles:\n\n- [Sending Emails Using Firestore And Firebase Extensions](https://invertase.link/Y6Nu)","postinstallContent":"### See it in action\n\nYou can test out this extension right away!\n\n1.  Go to your [Cloud Firestore dashboard](https://console.firebase.google.com/project/${param:PROJECT_ID}/firestore/data) in the Firebase console. Note that, if you have configured a non-default firestore database, you may have to view it via the [Google Cloud Console](https://console.cloud.google.com/firestore/databases/${param:DATABASE}).\n\n1.  If it doesn't already exist, create the collection you specified during installation: `${param:MAIL_COLLECTION}`.\n\n1.  Add a document with a `to` field and a `message` field with the following content:\n\n    ```js\n    to: ['someone@example.com'],\n    message: {\n      subject: 'Hello from Firebase!',\n      text: 'This is the plaintext section of the email body.',\n      html: 'This is the <code>HTML</code> section of the email body.',\n    }\n    ```\n\n1.  In a few seconds, you'll see a `delivery` field appear in the document. The field will update as the extension processes the email.\n\n**Note:** You can also use the [Firebase Admin SDK][admin_sdk] to add a document:\n\n```js\nadmin\n  .firestore()\n  .collection(\"${param:MAIL_COLLECTION}\")\n  .add({\n    to: \"someone@example.com\",\n    message: {\n      subject: \"Hello from Firebase!\",\n      text: \"This is the plaintext section of the email body.\",\n      html: \"This is the <code>HTML</code> section of the email body.\",\n    },\n  })\n  .then(() => console.log(\"Queued email for delivery!\"));\n```\n\n### Using this extension\n\nSee the [official documentation](https://firebase.google.com/docs/extensions/official/firestore-send-email) for information on using this extension, including advanced use cases such as using Handlebars templates and managing email delivery status.\n\n#### Firestore-Send-Email: SendGrid Categories\n\nWhen using SendGrid (`SMTP_CONNECTION_URI` includes `sendgrid.net`), you can assign categories to your emails.\n\n##### Example JSON with Categories:\n```json\n{\n  \"to\": [\"example@example.com\"],\n  \"categories\": [\"Example_Category\"],\n  \"message\": {\n    \"subject\": \"Test Email with Categories\",\n    \"text\": \"This is a test email to see if categories work.\",\n    \"html\": \"<strong>This is a test email to see if categories work.</strong>\"\n  }\n}\n```\n\nAdd this document to the Firestore mail collection to send categorized emails.\n\nFor more details, see the [SendGrid Categories documentation](https://docs.sendgrid.com/ui/sending-email/categories).\n\n#### Firestore-Send-Email: SendGrid Dynamic Templates\n\nWhen using SendGrid, you can use SendGrid Dynamic Templates to create and send templated emails.\n\n## Example JSON representation of Firestore document for a Dynamic Template:\n```json\n{\n  \"to\": [\"example@example.com\"],\n  \"sendGrid\": {\n    \"templateId\": \"d-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",\n    \"dynamicTemplateData\": {\n      \"name\": \"John Doe\",\n      \"company\": \"Example Corp\",\n      \"position\": \"Developer\"\n    }\n  }\n}\n```\n\nAdd this document to the Firestore mail collection to send an email using a SendGrid Dynamic Template. The `templateId` is required and should be your SendGrid Dynamic Template ID (always starts with 'd-'). The `dynamicTemplateData` object contains the variables that will be used in your template.\n\nFor more details, see the [SendGrid Dynamic Templates documentation](https://docs.sendgrid.com/ui/sending-email/how-to-send-an-email-with-dynamic-templates).\n\n#### Understanding SendGrid Email IDs\n\nWhen an email is sent successfully, the extension tracks two different IDs in the delivery information:\n\n- **Queue ID**: This is SendGrid's internal queue identifier (from the `x-message-id` header). It's useful for tracking the email within SendGrid's system.\n- **Message ID**: This is the RFC-2822 Message-ID header, which is a standard email identifier used across email systems.\n\nYou can find both IDs in the `delivery.info` field of your email document after successful delivery:\n\n```json\n{\n  \"delivery\": {\n    \"info\": {\n      \"messageId\": \"<unique-message-id@your-domain.com>\",\n      \"sendgridQueueId\": \"sendgrid-queue-id\",\n      \"accepted\": [\"recipient@example.com\"],\n      \"rejected\": [],\n      \"pending\": [],\n      \"response\": \"status=202\"\n    }\n  }\n}\n```\n\n### Automatic Deletion of Email Documents\n\nTo use Firestore's TTL feature for automatic deletion of expired email documents, the extension provides several configuration parameters.\n\nThe extension will set a TTL field in the email documents, but you will need to manually configure a TTL policy for the collection/collection group the extension targets, on the `delivery.expireAt` field.\n\nDetailed instructions for creating a TTL field can be found in the [Firestore TTL Policy documentation](https://firebase.google.com/docs/firestore/ttl).\n\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n\n[mail_collection]: https://console.firebase.google.com/project/_/firestore/data~2F${param:MAIL_COLLECTION}\n[admin_sdk]: https://firebase.google.com/docs/admin/setup\n[amp4email]: https://amp.dev/documentation/guides-and-tutorials/learn/email-spec/amp-email-format/\n[handlebars]: https://handlebarsjs.com/\n\n### Further reading & resources\n\nYou can find more information about this extension in the following articles:\n\n- [Sending Emails Using Firestore And Firebase Extensions](https://invertase.link/Y6Nu)","readmeContent":"# Trigger Email from Firestore\n\n**Author**: Firebase (**[https://firebase.google.com](https://firebase.google.com)**)\n\n**Description**: Composes and sends an email based on the contents of a document written to a specified Cloud Firestore collection.\n\n\n\n**Details**: Use this extension to render and send emails that contain the information from documents added to a specified Cloud Firestore collection.\n\nAdding a document triggers this extension to send an email built from the document's fields. The document's top-level fields specify the email sender and recipients, including `to`, `cc`, and `bcc` options (each supporting UIDs). The document's `message` field specifies the other email elements, like subject line and email body (either plaintext or HTML)\n\nHere's a basic example document write that would trigger this extension:\n\n```js\nadmin.firestore().collection('mail').add({\n  to: 'someone@example.com',\n  message: {\n    subject: 'Hello from Firebase!',\n    html: 'This is an <code>HTML</code> email body.',\n  },\n})\n```\n\nYou can also optionally configure this extension to render emails using [Handlebar](https://handlebarsjs.com/) templates. Each template is a document stored in a Cloud Firestore collection.\n\nWhen you configure this extension, you'll need to supply your **SMTP credentials for mail delivery**. Note that this extension is for use with bulk email service providers, like SendGrid, Mailgun, etc.\n\n#### Using custom headers\n\nYou can add custom headers to your emails by including a `headers` field in the document you add to the Firestore collection. The `headers` field should be an object where each key is the header name and the value is the header value.\n\n## Example JSON with Custom Headers:\n```json\n{\n  \"to\": [\"example@example.com\"],\n  \"message\": {\n    \"subject\": \"Test Email with Custom Headers\",\n    \"text\": \"This is a test email to see if custom headers work.\",\n    \"html\": \"<strong>This is a test email to see if custom headers work.</strong>\"\n  },\n  \"headers\": {\n    \"X-Custom-Header\": \"CustomValue\",\n    \"X-Another-Header\": \"AnotherValue\",\n  }\n}\n```\n\nAdd this document to the Firestore mail collection to send an email with custom headers.\nYou can even include headers like 'List-Unsubscribe' to allow recipients to unsubscribe from your emails.\n\n#### Firestore-Send-Email: SendGrid Categories\n\nWhen using SendGrid (`SMTP_CONNECTION_URI` includes `sendgrid.net`), you can assign categories to your emails.\n\n## Example JSON with Categories:\n```json\n{\n  \"to\": [\"example@example.com\"],\n  \"categories\": [\"Example_Category\"],\n  \"message\": {\n    \"subject\": \"Test Email with Categories\",\n    \"text\": \"This is a test email to see if categories work.\",\n    \"html\": \"<strong>This is a test email to see if categories work.</strong>\"\n  }\n}\n```\n\nAdd this document to the Firestore mail collection to send categorized emails.\n\nFor more details, see the [SendGrid Categories documentation](https://docs.sendgrid.com/ui/sending-email/categories).\n\n#### Firestore-Send-Email: SendGrid Dynamic Templates\n\nWhen using SendGrid, you can use SendGrid Dynamic Templates to create and send templated emails.\n\n## Example JSON representation of Firestore document for a Dynamic Template:\n```json\n{\n  \"to\": [\"example@example.com\"],\n  \"sendGrid\": {\n    \"templateId\": \"d-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",  // SendGrid Dynamic Template ID always starts with 'd-'\n    \"dynamicTemplateData\": {\n      \"name\": \"John Doe\",\n      \"company\": \"Example Corp\",\n      \"position\": \"Developer\"\n    }\n  }\n}\n```\n\nAdd this document to the Firestore mail collection to send an email using a SendGrid Dynamic Template. The `templateId` is required and should be your SendGrid Dynamic Template ID (always starts with 'd-'). The `dynamicTemplateData` object contains the variables that will be used in your template.\n\nFor more details, see the [SendGrid Dynamic Templates documentation](https://docs.sendgrid.com/ui/sending-email/how-to-send-an-email-with-dynamic-templates).\n\n#### Setting Up OAuth2 Authentication\n\nThis section will help you set up OAuth2 authentication for the extension, using GCP (Gmail) as an example.\n\nThe extension is agnostic with respect to OAuth2 provider. You just need to provide it with valid Client ID, Client Secret, and Refresh Token parameters.\n\n##### Step 1: Create OAuth Credentials in Google Cloud Platform\n\n1. Go to the [Google Cloud Console](https://console.cloud.google.com/)\n2. Select your project\n3. In the left sidebar, navigate to **APIs & Services > Credentials**\n4. Click Create Credentials and select **OAuth client ID**\n5. Set the application type to **Web application**\n6. Give your OAuth client a name (e.g., \"Firestore Send Email Extension\")\n7. Under **Authorized redirect URIs**, add the URI where you'll receive the OAuth callback, for example, `http://localhost:8080/oauth/callback`.\n\n   **Note**: The redirect URI in your OAuth client settings MUST match exactly the callback URL in your code.\n\n8. Click **Create**.\n\n##### Step 2: Configure OAuth Consent Screen\n\n1. In Google Cloud Console, go to **APIs & Services > OAuth consent screen**\n2. Choose the appropriate user type:\n   - **External**: For applications used by any Google user\n   - **Internal**: For applications used only by users in your organization\n\n> **Important Note**: If your OAuth consent screen is in \"Testing\" status, refresh tokens will expire after 7 days unless the User Type is set to \"Internal.\"\n\n##### Step 3: Generate a Refresh Token\n\nYou can use a standalone helper script (`oauth2-refresh-token-helper.js`) that generates a refresh token without requiring any npm installations. \n\n**Prerequisites:**\n- You must have Node.js installed on your machine\n\n**Download the script:**\n1. Download the script using curl, wget, or directly from your browser:\n   ```bash\n   # Using curl\n   curl -o oauth2-refresh-token-helper.js https://raw.githubusercontent.com/firebase/extensions/refs/heads/master/firestore-send-email/scripts/oauth2-refresh-token-helper.js\n   \n   # Using wget\n   wget https://raw.githubusercontent.com/firebase/extensions/refs/heads/master/firestore-send-email/scripts/oauth2-refresh-token-helper.js\n   ```\n\n   You can also [view the script on GitHub](https://github.com/firebase/extensions/blob/master/firestore-send-email/scripts/oauth2-refresh-token-helper.js) and download it manually.\n\n> **Note**: If you are creating your own application to obtain a refresh token, in a Node.js environment where you can use npm packages, consider using the official google-auth-library instead:\n> \n> 1. Install the library: `npm install google-auth-library`\n> 2. Then use it like this:\n>    ```javascript\n>    import { OAuth2Client } from \"google-auth-library\";\n>    \n>    // Initialize OAuth client\n>    const oAuth2Client = new OAuth2Client(CLIENT_ID, CLIENT_SECRET, REDIRECT_URI);\n>    \n>    // Generate authorization URL\n>    const authorizeUrl = oAuth2Client.generateAuthUrl({\n>      access_type: \"offline\",\n>      prompt: \"consent\",\n>      scope: [\"https://mail.google.com/\"],  // Full Gmail access\n>    });\n>    \n>    // After receiving the code from the callback:\n>    const { tokens } = await oAuth2Client.getToken(code);\n>    const refreshToken = tokens.refresh_token;\n>    ```\n\n2. Run the script with Node.js:\n\n   ```bash\n   node oauth2-refresh-token-helper.js\n   ```\n\n3. The script supports the following command-line options:\n   ```\n   --port, -p     Port to run the server on (default: 8080 or PORT env var)\n   --id, -i       Google OAuth Client ID\n   --secret, -s   Google OAuth Client Secret\n   --output, -o   Output file to save the refresh token (default: refresh_token.txt)\n   --help, -h     Show help information\n   ```\n\n4. You can either provide your credentials as command-line arguments or set them as environment variables:\n   ```bash\n   # Using environment variables\n   export CLIENT_ID=your_client_id\n   export CLIENT_SECRET=your_client_secret\n   node oauth2-refresh-token-helper.js\n\n   # Using command-line arguments\n   node oauth2-refresh-token-helper.js --id=your_client_id --secret=your_client_secret\n   ```\n\n5. The script will:\n   - Start a local web server\n   - Open your browser to the OAuth consent page\n   - Receive the authorization code\n   - Exchange the code for tokens\n   - Save the refresh token to a file (default: `refresh_token.txt`)\n   - Display the refresh token in your browser\n\n6. **Important**: The redirect URI in the script (`http://localhost:8080/oauth/callback` by default) **MUST** match exactly what you configured in the Google Cloud Console OAuth client settings.\n\n7. The script automatically requests the appropriate scope for Gmail access (`https://mail.google.com/`) and sets the authorization parameters to always receive a refresh token (`access_type: \"offline\"` and `prompt: \"consent\"`).\n\n##### Step 4: Configure the Firestore Send Email Extension\n\nWhen installing the extension, select \"OAuth2\" as the **Authentication Type** and provide the following parameters:\n\n- **OAuth2 SMTP Host**: `smtp.gmail.com` (for Gmail)\n- **OAuth2 SMTP Port**: `465` (for SMTPS) or `587` (for STARTTLS)\n- **Use Secure OAuth2 Connection**: `true` (for port 465) or `false` (for port 587)\n- **OAuth2 Client ID**: Your Client ID from GCP\n- **OAuth2 Client Secret**: Your Client Secret from GCP\n- **OAuth2 Refresh Token**: The refresh token generated in Step 3\n- **SMTP User**: Your full Gmail email address\n\nLeave `Use secure OAuth2 connection?` as the default value `true`.\n\n##### Troubleshooting\n\n###### Refresh Token Expiration\n\n- **Testing Status**: If your OAuth consent screen is in \"Testing\" status, refresh tokens expire after 7 days unless User Type is set to \"Internal\"\n- **Solution**: Either publish your app or ensure User Type is set to \"Internal\" in the OAuth consent screen settings\n\n###### No Refresh Token Received\n\n- **Problem**: If you don't receive a refresh token during the OAuth flow\n- **Solution**: Make sure you've revoked previous access or forced consent by going to [Google Account Security](https://myaccount.google.com/security) > Third-party apps with account access\n\n###### Scope Issues\n\n- **Problem**: If you see authentication errors, you might not have the correct scopes\n- **Solution**: Ensure you've added `https://mail.google.com/` as a scope in the OAuth consent screen\n\n###### Additional Resources\n\n- [Google OAuth2 Documentation](https://developers.google.com/identity/protocols/oauth2)\n- [Nodemailer OAuth2 Guide](https://nodemailer.com/smtp/oauth2/)\n- [Firebase Extensions Documentation](https://firebase.google.com/docs/extensions)\n\n#### Automatic Deletion of Email Documents\n\nTo use Firestore's TTL feature for automatic deletion of expired email documents, the extension provides several configuration parameters.\n\nThe extension will set a TTL field in the email documents, but you will need to manually configure a TTL policy for the collection/collection group the extension targets, on the `delivery.expireAt` field.\n\nDetailed instructions for creating a TTL field can be found in the [Firestore TTL Policy documentation](https://firebase.google.com/docs/firestore/ttl).\n\n#### Billing\nTo install an extension, your project must be on the [Blaze (pay as you go) plan](https://firebase.google.com/pricing)\n\n- This extension uses other Firebase and Google Cloud Platform services, which have associated charges if you exceed the service's no-cost tier:\n  - Cloud Firestore\n  - Cloud Functions (Node.js 10+ runtime. [See FAQs](https://firebase.google.com/support/faq#extensions-pricing))\n\nUsage of this extension also requires you to have SMTP credentials for mail delivery. You are responsible for any associated costs with your usage of your SMTP provider.\n\n#### Further reading & resources\n\nYou can find more information about this extension in the following articles:\n\n- [Sending Emails Using Firestore And Firebase Extensions](https://invertase.link/Y6Nu)\n\n\n\n**Configuration Parameters:**\n\n* Firestore Instance ID: The Firestore database to use. Use \"(default)\" for the default database. You can view your available Firestore databases at [https://console.cloud.google.com/firestore/databases](https://console.cloud.google.com/firestore/databases).\n\n\n* Firestore Instance Location: Where is the Firestore database located? You can check your current database location at [https://console.cloud.google.com/firestore/databases](https://console.cloud.google.com/firestore/databases).\n\n\n* Authentication Type: The authentication type to be used for the SMTP server (e.g., OAuth2, Username & Password.\n\n* SMTP connection URI: A URI representing an SMTP server this extension can use to deliver email. Note that port 25 is blocked by Google Cloud Platform, so we recommend using port 587 for SMTP connections. If you're using the SMTPS protocol, we recommend using port 465. In order to keep passwords secure, it is recommended to omit the password from the connection string while using the `SMTP Password` field for entering secrets and passwords. Passwords and secrets should now be included in `SMTP password` field.\nSecure format:\n `smtps://username@gmail.com@smtp.gmail.com:465` (username only)\n `smtps://smtp.gmail.com:465` (No username and password)\nBackwards Compatible (less secure):\n `smtps://username@gmail.com:password@smtp.gmail.com:465`. (username and\npassword)\n\n* SMTP password: User password for the SMTP server\n\n* OAuth2 SMTP Host: The OAuth2 hostname of the SMTP server (e.g., smtp.gmail.com).\n\n* OAuth2 SMTP Port: The OAuth2 port number for the SMTP server (e.g., 465 for SMTPS, 587 for STARTTLS).\n\n* Use secure OAuth2 connection?: Set to true to enable a secure connection (TLS/SSL) when using OAuth2 authentication for the SMTP server.\n\n* OAuth2 Client ID: The OAuth2 Client ID for authentication with the SMTP server.\n\n* OAuth2 Client Secret: The OAuth2 Client Secret for authentication with the SMTP server.\n\n* OAuth2 Refresh Token: The OAuth2 Refresh Token for authentication with the SMTP server.\n\n* OAuth2 SMTP User: The OAuth2 user email or username for SMTP authentication.\n\n* Email documents collection: What is the path to the collection that contains the documents used to build and send the emails?\n\n* Default FROM address: The email address to use as the sender's address (if it's not specified in the added email document). You can optionally include a name with the email address (`Friendly Firebaser <foobar@example.com>`). This parameter does not work with [Gmail SMTP](https://nodemailer.com/usage/using-gmail/).\n\n* Default REPLY-TO address: The email address to use as the reply-to address (if it's not specified in the added email document).\n\n* Users collection: A collection of documents keyed by user UID. If the `toUids`, `ccUids`, and/or `bccUids` recipient options are used in the added email document, this extension delivers email to the `email` field based on lookups in this collection.\n\n* Templates collection: A collection of email templates keyed by name. This extension can render an email using a [Handlebar](https://handlebarsjs.com/) template, it's recommended to use triple curly braces `{{{  }}}` in your Handlebars templates when the substitution value is a URL or otherwise sensitive to HTML escaping.\n\n* Firestore TTL type: Do you want the firestore records to be marked with an expireAt field for a TTL policy? If \"Never\" is selected then no expireAt field will be added. Otherwise you may specify the unit of time specified by the TTL_EXPIRE_VALUE parameter. Defaults to \"Never\".\n\n* Firestore TTL value: In the units specified by TTL_EXPIRE_TYPE, how long do you want records to be ineligible for deletion by a TTL policy? This parameter requires the Firestore TTL type parameter to be set to a value other than `Never`. For example, if `Firestore TTL type` is set to `Day` then setting this parameter to `1` will specify a TTL of 1 day.\n\n* TLS Options: A JSON value representing TLS options. For more information, see https://nodejs.org/api/tls.html#tls_class_tls_tlssocket\n\n\n\n**Other Resources**:\n\n* processQueue (firebaseextensions.v1beta.v2function)\n\n\n\n**Access Required**:\n\n\n\nThis extension will operate with the following project IAM roles:\n\n* datastore.user (Reason: Allows this extension to access Cloud Firestore to read and process added email documents.)\n","displayName":"Trigger Email from Firestore","events":[{"type":"firebase.extensions.firestore-send-email.v1.onStart","description":"Occurs when the extension starts execution."},{"type":"firebase.extensions.firestore-send-email.v1.onProcessing","description":"Occurs when the extension attempts to process an email."},{"type":"firebase.extensions.firestore-send-email.v1.onRetry","description":"Occurs when the extension attempts to resend an email."},{"type":"firebase.extensions.firestore-send-email.v1.onPending","description":"Occurs when an email has a pending status."},{"type":"firebase.extensions.firestore-send-email.v1.onSuccess","description":"Occurs when the extension successfully sends an email."},{"type":"firebase.extensions.firestore-send-email.v1.onComplete","description":"Occurs when the extension completes execution."},{"type":"firebase.extensions.firestore-send-email.v1.onError","description":"Occurs when the extension fails to complete execution."}]},"fetchTime":"2025-07-10T13:25:15.924167Z","lastOperationName":"projects/firebaseextensions/operations/1c1a7464-c13a-48c3-b8a9-2043d1a2993c","state":"ACTIVE"},"params":{"DEFAULT_FROM":"easietrucking@gmail.com","AUTH_TYPE":"UsernamePassword","DATABASE":"(default)","DATABASE_REGION":"us-central1","OAUTH_PORT":"465","OAUTH_SECURE":"true","TTL_EXPIRE_VALUE":"1","TTL_EXPIRE_TYPE":"never","MAIL_COLLECTION":"mail"},"populatedPostinstallContent":"### See it in action\n\nYou can test out this extension right away!\n\n1.  Go to your [Cloud Firestore dashboard](https://console.firebase.google.com/project/trucking-app-3e473/firestore/data) in the Firebase console. Note that, if you have configured a non-default firestore database, you may have to view it via the [Google Cloud Console](https://console.cloud.google.com/firestore/databases/(default)).\n\n1.  If it doesn't already exist, create the collection you specified during installation: `mail`.\n\n1.  Add a document with a `to` field and a `message` field with the following content:\n\n    ```js\n    to: ['someone@example.com'],\n    message: {\n      subject: 'Hello from Firebase!',\n      text: 'This is the plaintext section of the email body.',\n      html: 'This is the <code>HTML</code> section of the email body.',\n    }\n    ```\n\n1.  In a few seconds, you'll see a `delivery` field appear in the document. The field will update as the extension processes the email.\n\n**Note:** You can also use the [Firebase Admin SDK][admin_sdk] to add a document:\n\n```js\nadmin\n  .firestore()\n  .collection(\"mail\")\n  .add({\n    to: \"someone@example.com\",\n    message: {\n      subject: \"Hello from Firebase!\",\n      text: \"This is the plaintext section of the email body.\",\n      html: \"This is the <code>HTML</code> section of the email body.\",\n    },\n  })\n  .then(() => console.log(\"Queued email for delivery!\"));\n```\n\n### Using this extension\n\nSee the [official documentation](https://firebase.google.com/docs/extensions/official/firestore-send-email) for information on using this extension, including advanced use cases such as using Handlebars templates and managing email delivery status.\n\n#### Firestore-Send-Email: SendGrid Categories\n\nWhen using SendGrid (`SMTP_CONNECTION_URI` includes `sendgrid.net`), you can assign categories to your emails.\n\n##### Example JSON with Categories:\n```json\n{\n  \"to\": [\"example@example.com\"],\n  \"categories\": [\"Example_Category\"],\n  \"message\": {\n    \"subject\": \"Test Email with Categories\",\n    \"text\": \"This is a test email to see if categories work.\",\n    \"html\": \"<strong>This is a test email to see if categories work.</strong>\"\n  }\n}\n```\n\nAdd this document to the Firestore mail collection to send categorized emails.\n\nFor more details, see the [SendGrid Categories documentation](https://docs.sendgrid.com/ui/sending-email/categories).\n\n#### Firestore-Send-Email: SendGrid Dynamic Templates\n\nWhen using SendGrid, you can use SendGrid Dynamic Templates to create and send templated emails.\n\n## Example JSON representation of Firestore document for a Dynamic Template:\n```json\n{\n  \"to\": [\"example@example.com\"],\n  \"sendGrid\": {\n    \"templateId\": \"d-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",\n    \"dynamicTemplateData\": {\n      \"name\": \"John Doe\",\n      \"company\": \"Example Corp\",\n      \"position\": \"Developer\"\n    }\n  }\n}\n```\n\nAdd this document to the Firestore mail collection to send an email using a SendGrid Dynamic Template. The `templateId` is required and should be your SendGrid Dynamic Template ID (always starts with 'd-'). The `dynamicTemplateData` object contains the variables that will be used in your template.\n\nFor more details, see the [SendGrid Dynamic Templates documentation](https://docs.sendgrid.com/ui/sending-email/how-to-send-an-email-with-dynamic-templates).\n\n#### Understanding SendGrid Email IDs\n\nWhen an email is sent successfully, the extension tracks two different IDs in the delivery information:\n\n- **Queue ID**: This is SendGrid's internal queue identifier (from the `x-message-id` header). It's useful for tracking the email within SendGrid's system.\n- **Message ID**: This is the RFC-2822 Message-ID header, which is a standard email identifier used across email systems.\n\nYou can find both IDs in the `delivery.info` field of your email document after successful delivery:\n\n```json\n{\n  \"delivery\": {\n    \"info\": {\n      \"messageId\": \"<unique-message-id@your-domain.com>\",\n      \"sendgridQueueId\": \"sendgrid-queue-id\",\n      \"accepted\": [\"recipient@example.com\"],\n      \"rejected\": [],\n      \"pending\": [],\n      \"response\": \"status=202\"\n    }\n  }\n}\n```\n\n### Automatic Deletion of Email Documents\n\nTo use Firestore's TTL feature for automatic deletion of expired email documents, the extension provides several configuration parameters.\n\nThe extension will set a TTL field in the email documents, but you will need to manually configure a TTL policy for the collection/collection group the extension targets, on the `delivery.expireAt` field.\n\nDetailed instructions for creating a TTL field can be found in the [Firestore TTL Policy documentation](https://firebase.google.com/docs/firestore/ttl).\n\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n\n[mail_collection]: https://console.firebase.google.com/project/_/firestore/data~2Fmail\n[admin_sdk]: https://firebase.google.com/docs/admin/setup\n[amp4email]: https://amp.dev/documentation/guides-and-tutorials/learn/email-spec/amp-email-format/\n[handlebars]: https://handlebarsjs.com/\n\n### Further reading & resources\n\nYou can find more information about this extension in the following articles:\n\n- [Sending Emails Using Firestore And Firebase Extensions](https://invertase.link/Y6Nu)","extensionRef":"firebase/firestore-send-email","extensionVersion":"0.2.4","systemParams":{"firebaseextensions.v1beta.function/vpcConnectorEgressSettings":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","firebaseextensions.v1beta.function/minInstances":"0","firebaseextensions.v1beta.function/location":"us-central1","firebaseextensions.v1beta.v2function/memory":"256Mi"}},"errorStatus":{"code":13,"message":"; RESOURCE_ERROR at /deployments/firebase-ext-firestore-send-email/resources/processQueue: {\"ResourceType\":\"gcp-types/cloudfunctions-v2beta:projects.locations.functions\",\"ResourceErrorCode\":\"400\",\"ResourceErrorMessage\":{\"code\":400,\"message\":\"Validation failed for trigger projects/trucking-app-3e473/locations/us-central1/triggers/ext-firestore-send-email-processqueue-356150: The request was invalid: generic::invalid_argument: Database '(default)' does not exist in region 'us-central1'. Did you mean region 'nam5'?. See 'gcloud firestore https://cloud.google.com/sdk/gcloud/reference/firestore/databases/list to list all Firestore databases under the project.\",\"status\":\"INVALID_ARGUMENT\",\"statusMessage\":\"Bad Request\",\"requestPath\":\"https://cloudfunctions.googleapis.com/v2beta/projects/trucking-app-3e473/locations/us-central1/functions\",\"httpMethod\":\"POST\"}}"},"lastOperationName":"projects/trucking-app-3e473/operations/4d38a623-0bc3-49ec-b6a1-2c8efec1917a","serviceAccountEmail":"ext-firestore-send-email@trucking-app-3e473.iam.gserviceaccount.com","lastOperationType":"CREATE","etag":"c9a76ff7183280c308420d18c671a25f02d4d380daf6bf1cb271e217fcc367cf"},{"name":"projects/trucking-app-3e473/instances/mailersend-email","createTime":"2025-09-02T23:33:37.571361Z","updateTime":"2025-09-03T00:20:29.486246Z","state":"ACTIVE","config":{"name":"projects/trucking-app-3e473/instances/mailersend-email/configurations/62a73271-210f-4251-aa1c-2c7d70d9f4f1","createTime":"2025-09-03T00:17:04.758787Z","source":{"name":"projects/mailersend-214215/sources/c3a5f134-51b2-4844-a188-10abfb0ba1d9","packageUri":"https://storage.googleapis.com/firebase-extensions-packages-prod/mailersend-mailersend-email-0.1.8-4a1a2e18-a4fe-4dff-adc0-625f4d7008e7.zip","hash":"d88dc8857db4305f35da86766005777c9763e32a5d8180b8820156a2a2c43118","extensionRoot":"/","spec":{"specVersion":"v1beta","name":"mailersend-email","version":"0.1.8","description":"Send transactional emails using MailerSend.","roles":[{"role":"datastore.user","reason":"Required to update emails in collection that have failed to send"}],"resources":[{"name":"processDocumentCreated","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.create\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${EMAIL_COLLECTION}/{documentId}\nlocation: ${LOCATION}\nruntime: nodejs18\n","description":"Processes created document in Cloud Firestore collection, sends an email and updates status information.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"MailerSend","url":"https://www.mailersend.com"},"contributors":[{"authorName":"Ramunas Pabreza","email":"ramunas@mailerlite.com"},{"authorName":"Tautvydas Tijunaitis","email":"tautvydas@mailerlite.com"}],"license":"Apache-2.0","releaseNotesUrl":"https://github.com/mailersend/mailersend-firebase/CHANGELOG.md","sourceUrl":"https://github.com/mailersend/mailersend-firebase","params":[{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true},{"param":"EMAIL_COLLECTION","label":"Emails documents collection","type":"STRING","description":"What is the path to the collection that contains the documents used to build and send the email?","required":true,"default":"emails","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Must be a valid Cloud Firestore collection."},{"param":"MAILERSEND_API_KEY","label":"MailerSend API key","type":"SECRET","description":"API tokens are used for authentication when sending emails. You can find more details how to create MailerSend API token [here](https://www.mailersend.com/help/managing-api-tokens).","required":true,"example":"eyJ*******************************"},{"param":"DEFAULT_FROM_EMAIL","label":"Default FROM email address","type":"STRING","description":"The email address to use as the sender's address (if it's not specified in the added email document or template).","example":"email@example.com","validationRegex":"^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9-.]+.[a-zA-Z0-9-]+$","validationErrorMessage":"Must be a valid email address or valid name plus email address"},{"param":"DEFAULT_FROM_NAME","label":"Default FROM name","type":"STRING","description":"The name to use as the sender's name.","example":"John doe"},{"param":"DEFAULT_REPLY_TO_EMAIL","label":"Default reply to email address","type":"STRING","description":"The email address to use as the reply to address (if it's not specified in the added email document or template).","example":"email@example.com","validationRegex":"^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9-.]+.[a-zA-Z0-9-]+$","validationErrorMessage":"Must be a valid email address or valid name plus email address"},{"param":"DEFAULT_REPLY_TO_NAME","label":"Default reply to name","type":"STRING","description":"The name to use as the reply to name.","example":"John doe"},{"param":"DEFAULT_TEMPLATE_ID","label":"Default template ID","type":"STRING","description":"The default template id to use for emails (it will be used if not specified in the added email document).","example":"o65qngk2vn3gwr12"}],"preinstallContent":"## 💪 How it works\n\nAfter its installation, this extension monitors all document writes to the `EMAIL_COLLECTION` collection. Email is sent based on the contents of the document's fields. The document's fields specify an email data.\n\n### Send an email\n<details>\n<summary>Here's a basic example document write that would trigger this extension</summary>\n\n```js\nadmin.firestore().collection('emails').add({\n  to: [\n    {\n      email: 'recipient@example.com',\n      name: 'Recipient name'\n    }\n  ],\n  from: {\n    email: 'from@example.com',\n    name: 'From name'\n  },\n  cc: [\n    {\n      email: 'cc.recipient@example.com',\n      name: 'CC recipient name'\n    }\n  ],\n  bcc: [\n    {\n      email: 'bcc.recipient@example.com',\n      name: 'Bcc recipient name'\n    }\n  ],\n  subject: 'Hello from Firebase!',\n  html: 'This is an <code>HTML</code> email body.',\n  text: 'This is an TEXT email body.',\n  template_id: 'abc123ced',\n    variables: [\n      {\n        email: 'recipient@example.com',\n        substitutions: [\n          {\n            var: 'variable_name',\n            value: 'variable value'\n          }\n        ]\n      }\n    ],\n    personalization: [\n      {\n        email: 'recipient@example.com',\n        data: {\n          personalization_name: 'personalization value'\n        }\n      }\n    ],\n    tags: ['tag1', 'tag2'],\n    reply_to: {\n      email: 'reply_to@example.com',\n        name: 'Reply to name'\n    },\n    send_at: '123465789'\n})\n```\n\n</details>\n\n### Additional setup\n\nBefore installing this extension, set up the following Firebase service in your Firebase project:\n\n- [Cloud Firestore](https://firebase.google.com/docs/firestore/quickstart) collection in your Firebase project.\n\nThen, in the MailerSend dashboard:\n\n- Add a [domain](https://app.mailersend.com/domains) and verify it editing your DNS records.\n- Create a new [API token](https://app.mailersend.com/api-tokens) with full access.\n\n\n\n### Collection fields\n\n<details>\n<summary>Find all the JSON field parameters you can add to your API call, provided in dot notation </summary>\n\n\n| JSON field parameter                | Type       | Required | Limitations                                                       | Details                                                                                                                                                                                                       |\n|-------------------------------------|------------|----------|-------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| `from`                              | `object`   | yes *    |                                                                   | Not required if set in extension config or `template_id` is present and template has default sender set.                                                                                                      |\n| `from.email`                        | `string`   | yes *    | Must be a verified domain or subdomain. | Not required if set in extension config or `template_id` is present and template has default sender set.                                                                                                      |\n| `from.name`                         | `string`   | no       |                                                                   | `from.email` will be used if not provided or, if set in extension config or `template_id` is present with default values, the default subject from that will be used.                                         |\n| `to`                                | `object[]` | yes      | Min `1`, max `50`                                                 |                                                                                                                                                                                                               |\n| `to.*.email`                        | `string`   | yes      |                                                                   |                                                                                                                                                                                                               |\n| `to.*.name`                         | `string`   | no       |                                                                   | The name of the recipient. May not contain `;` or `,`.                                                                                                                                                        |\n| `cc`                                | `object[]` | no       | Max 10                                                            |                                                                                                                                                                                                               |\n| `cc.*.email`                        | `string`   | yes      |                                                                   |                                                                                                                                                                                                               |\n| `cc.*.name`                         | `string`   | no       |                                                                   | The name of the CC recipient. May not contain `;` or `,`.                                                                                                                                                     |\n| `bcc`                               | `object[]` | no       | Max 10                                                            |                                                                                                                                                                                                               |\n| `bcc.*.email`                       | `string`   | yes      |                                                                   |                                                                                                                                                                                                               |\n| `bcc.*.name`                        | `string`   | no       |                                                                   | The name of the BCC recipient. May not contain `;` or `,`.                                                                                                                                                    |\n| `reply_to`                          | `object`   | no       |                                                                   |                                                                                                                                                                                                               |\n| `reply_to.email`                    | `string`   | no       |                                                                   | Can be set in extension config                                                                                                                                                                                |\n| `reply_to.name`                     | `string`   | no       |                                                                   | Can be set in extension config                                                                                                                                                                                |\n| `subject`                           | `string`   | yes *    |                                                                   | Not required if `template_id` is present and template has default subject set.                                                                                                                                |\n| `text`                              | `string`   | yes *    | Max size of 2 MB.                                                 | Email represented in a text (`text/plain`) format. * Only required if there's no `html` or `template_id` present.                                                                                             |\n| `html`                              | `string`   | yes *    | Max size of 2 MB.                                                 | Email represented in HTML (`text/html`) format. * Only required if there's no `text` or `template_id` present.                                                                                                |\n| `template_id`                       | `string`   | yes *    |                                                                   | * Only required if there's no `text` or `html` present.                                                                                                                                                       |\n| `tags`                              | `string[]` | no       |                                                                   | Limit is max 5 tags.                                                                                                                                                                                          |\n| `variables`                         | `object[]` | no       |                                                                   | These will be replaced in the email content using `{$var}` format. Can be used in the `subject`, `html`, `text` fields.                                                                                       |\n| `variables.*.email`                 | `string`   | yes      |                                                                   | Email address that substitutions will be applied to. Read more about [simple personalization](features.html#simple-personalization).                                                                          |\n| `variables.*.substitutions`         | `object[]` | yes      |                                                                   |                                                                                                                                                                                                               |\n| `variables.*.substitutions.*.var`   | `string`   | yes      |                                                                   | Name of the variable, will replace `{$var}` in the `subject`, `html`, `text` fields.                                                                                                                          |\n| `variables.*.substitutions.*.value` | `string`   | yes      |                                                                   | Value to be replaced, based on the `variables.*.substitutions.*.var`  name.                                                                                                                                   |\n| `personalization`                   | `object[]` | no       |                                                                   | Allows using personalization in <code v-pre>{{ var }}</code> syntax. Can be used in the `subject`, `html`, `text` fields. Read more about [advanced personalization](features.html#advanced-personalization). |\n| `personalization.*.email`           | `string`   | yes      |                                                                   | Email address that personalization will be applied to.                                                                                                                                                        |\n| `personalization.*.data`            | `object[]` | yes      |                                                                   | Object with `key: value` pairs. Values will be added to your template using <code v-pre>{{ key }}</code> syntax.                                                                                              |\n| `send_at`                           | `integer`  | no       | min: `now`, max: `now + 72hours`                                  | Has to be a [Unix timestamp](https://www.unixtimestamp.com/). **Please note that this timestamp is a minimal guarantee and that the email could be delayed due to server load.**                             |\n\n</details>\n\n### Email results\n\nAfter email sending is triggered this extension fills results into the `delivery` field.\n\n| Field      | Description                                    |\n|------------|------------------------------------------------|\n| error      | Validation error, or error from the server     |\n| message_id | Message ID in MailerSend system                |\n| state      | State of an email sending: `ERROR`, `SUCCESS`  |\n\n\n<!-- We recommend keeping the following section to explain how billing for Firebase Extensions works -->\n## 💳 Billing\n\nThis extension uses other Firebase or Google Cloud Platform services which may have associated charges:\n\n<!-- List all products the extension interacts with -->\n- Cloud Functions\n\nWhen you use Firebase Extensions, you're only charged for the underlying resources that you use. A paid-tier billing plan is only required if the extension uses a service that requires a paid-tier plan, for example calling to a Google Cloud Platform API or making outbound network requests to non-Google services. All Firebase services offer a free tier of usage. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nThis extension also uses the following third-party services:\n\n- MailerSend ([pricing information](https://mailersend.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n","postinstallContent":"<!-- \nThis file provides your users an overview of how to use your extension after they've installed it. All content is optional, but this is the recommended format. Your users will see the contents of this file in the Firebase console after they install the extension.\n\nInclude instructions for using the extension and any important functional details. Also include **detailed descriptions** for any additional post-installation setup required by the user.\n\nReference values for the extension instance using the ${param:PARAMETER_NAME} or ${function:VARIABLE_NAME} syntax.\nLearn more in the docs: https://firebase.google.com/docs/extensions/alpha/create-user-docs#reference-in-postinstall\n\nLearn more about writing a POSTINSTALL.md file in the docs:\nhttps://firebase.google.com/docs/extensions/alpha/create-user-docs#writing-postinstall\n-->\n##### Table of Contents  \n\n  * [💪 Use the extension](#-use-the-extension)\n    + [Send an email](#send-an-email)\n    + [Collection fields](#collection-fields)\n    + [Email results](#email-results)\n  * [👀 Monitoring](#-monitoring)\n\n---\n\n## 💪 Use the extension\n\nUse this extension to send emails that contain the information from documents added to a specified Cloud Firestore collection.\n\nAfter its installation, this extension monitors all document writes to the `EMAIL_COLLECTION` collection. Email is sent based on the contents of the document's fields. The document's fields specify an email data. Adding a document triggers this extension to send an email built from the document's fields.\n\n\n### Send an email\n<details>\n<summary>Here's a basic example document write that would trigger this extension</summary>\n\n```js\nadmin.firestore().collection('emails').add({\n  to: [\n    {\n      email: 'recipient@example.com',\n      name: 'Recipient name'\n    }\n  ],\n  from: {\n    email: 'from@example.com',\n    name: 'From name'\n  },\n  cc: [\n    {\n      email: 'cc.recipient@example.com',\n      name: 'CC recipient name'\n    }\n  ],\n  bcc: [\n    {\n      email: 'bcc.recipient@example.com',\n      name: 'Bcc recipient name'\n    }\n  ],\n  subject: 'Hello from Firebase!',\n  html: 'This is an <code>HTML</code> email body.',\n  text: 'This is an TEXT email body.',\n  template_id: 'abc123ced',\n    variables: [\n      {\n        email: 'recipient@example.com',\n        substitutions: [\n          {\n            var: 'variable_name',\n            value: 'variable value'\n          }\n        ]\n      }\n    ],\n    personalization: [\n      {\n        email: 'recipient@example.com',\n        data: {\n          personalization_name: 'personalization value'\n        }\n      }\n    ],\n    tags: ['tag1', 'tag2'],\n    reply_to: {\n      email: 'reply_to@example.com',\n        name: 'Reply to name'\n    },\n    send_at: '123465789'\n})\n```\n\n</details>\n\n\n### Collection fields\n\n<details>\n<summary>Find all the JSON field parameters you can add to your API call, provided in dot notation </summary>\n\n\n| JSON field parameter                | Type       | Required | Limitations                                                       | Details                                                                                                                                                                                                       |\n|-------------------------------------|------------|----------|-------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| `from`                              | `object`   | yes *    |                                                                   | Not required if set in extension config or `template_id` is present and template has default sender set.                                                                                                      |\n| `from.email`                        | `string`   | yes *    | Must be a verified domain or a subdomain from a verified domain . | Not required if set in extension config or `template_id` is present and template has default sender set.                                                                                                      |\n| `from.name`                         | `string`   | no       |                                                                   | `from.email` will be used if not provided or, if set in extension config or `template_id` is present with default values, the default subject from that will be used.                                         |\n| `to`                                | `object[]` | yes      | Min `1`, max `50`                                                 |                                                                                                                                                                                                               |\n| `to.*.email`                        | `string`   | yes      |                                                                   |                                                                                                                                                                                                               |\n| `to.*.name`                         | `string`   | no       |                                                                   | The name of the recipient. May not contain `;` or `,`.                                                                                                                                                        |\n| `cc`                                | `object[]` | no       | Max 10                                                            |                                                                                                                                                                                                               |\n| `cc.*.email`                        | `string`   | yes      |                                                                   |                                                                                                                                                                                                               |\n| `cc.*.name`                         | `string`   | no       |                                                                   | The name of the CC recipient. May not contain `;` or `,`.                                                                                                                                                     |\n| `bcc`                               | `object[]` | no       | Max 10                                                            |                                                                                                                                                                                                               |\n| `bcc.*.email`                       | `string`   | yes      |                                                                   |                                                                                                                                                                                                               |\n| `bcc.*.name`                        | `string`   | no       |                                                                   | The name of the BCC recipient. May not contain `;` or `,`.                                                                                                                                                    |\n| `reply_to`                          | `object`   | no       |                                                                   |                                                                                                                                                                                                               |\n| `reply_to.email`                    | `string`   | no       |                                                                   | Can be set in extension config                                                                                                                                                                                |\n| `reply_to.name`                     | `string`   | no       |                                                                   | Can be set in extension config                                                                                                                                                                                |\n| `subject`                           | `string`   | yes *    |                                                                   | Not required if `template_id` is present and template has default subject set.                                                                                                                                |\n| `text`                              | `string`   | yes *    | Max size of 2 MB.                                                 | Email represented in a text (`text/plain`) format. * Only required if there's no `html` or `template_id` present.                                                                                             |\n| `html`                              | `string`   | yes *    | Max size of 2 MB.                                                 | Email represented in HTML (`text/html`) format. * Only required if there's no `text` or `template_id` present.                                                                                                |\n| `template_id`                       | `string`   | yes *    |                                                                   | * Only required if there's no `text` or `html` present.                                                                                                                                                       |\n| `tags`                              | `string[]` | no       |                                                                   | Limit is max 5 tags.                                                                                                                                                                                          |\n| `variables`                         | `object[]` | no       |                                                                   | These will be replaced in the email content using `{$var}` format. Can be used in the `subject`, `html`, `text` fields.                                                                                       |\n| `variables.*.email`                 | `string`   | yes      |                                                                   | Email address that substitutions will be applied to. Read more about [simple personalization](features.html#simple-personalization).                                                                          |\n| `variables.*.substitutions`         | `object[]` | yes      |                                                                   |                                                                                                                                                                                                               |\n| `variables.*.substitutions.*.var`   | `string`   | yes      |                                                                   | Name of the variable, will replace `{$var}` in the `subject`, `html`, `text` fields.                                                                                                                          |\n| `variables.*.substitutions.*.value` | `string`   | yes      |                                                                   | Value to be replaced, based on the `variables.*.substitutions.*.var`  name.                                                                                                                                   |\n| `personalization`                   | `object[]` | no       |                                                                   | Allows using personalization in <code v-pre>{{ var }}</code> syntax. Can be used in the `subject`, `html`, `text` fields. Read more about [advanced personalization](features.html#advanced-personalization). |\n| `personalization.*.email`           | `string`   | yes      |                                                                   | Email address that personalization will be applied to.                                                                                                                                                        |\n| `personalization.*.data`            | `object[]` | yes      |                                                                   | Object with `key: value` pairs. Values will be added to your template using <code v-pre>{{ key }}</code> syntax.                                                                                              |\n| `send_at`                           | `integer`  | no       | min: `now`, max: `now + 72hours`                                  | Has to be a [Unix timestamp](https://www.unixtimestamp.com/). **Please note that this timestamp is a minimal guarantee and that the email could be delayed due to server load.**                             |\n\n</details>\n\n### Email results\n\nAfter email sending is triggered this extension fills results into the `delivery` field.\n\n| Field      | Description                                    |\n|------------|------------------------------------------------|\n| error      | Validation error, or error from the server     |\n| message_id | Message ID in MailerSend system                |\n| state      | State of an email sending: `ERROR`, `SUCCESS`  |\n\n\n\n## 👀 Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Send emails with MailerSend\n\n**Author**: [MailerSend](https://www.mailersend.com)\n\n**Description**: MailerSend is a transactional messaging service that enables developers to work faster and smarter.\n\nAn intuitively designed interface enables anyone to contribute to transactional email and SMS, while advanced sending infrastructure and flexible payment plans let you scale your sendings.\n\nBuilt by deliverability experts, your messages always get delivered, along with dedicated IP, email verification and inbound routing for a comprehensive solution.\n\nGet started right now for free!\n\n**Details**: Use this extension to send emails that contain the information from documents added to a specified Cloud Firestore collection. Adding a document triggers this extension to send an email built from the document's fields.\n\nNote that MailerSend allows you to:\n- schedule emails\n- send bulk emails\n- add attachments up to 25MB\n- organize your sendings with tags\n- track opens, clicks, and spam reports.\n\nWe welcome [bug reports and feature requests](https://github.com/mailersend/mailersend-firebase/issues/new) as well as pull requests in this GitHub repository.\n\n##### Table of Contents  \n\n  * [🧩 Install this extension](#-install-this-extension)\n    + [Console](#console)\n    + [Firebase CLI](#firebase-cli)\n  * [💪 Use the extension](#-use-the-extension)\n    + [Send an email](#send-an-email)\n    + [Additional setup](#additional-setup)\n    + [Collection fields](#collection-fields)\n    + [Email results](#email-results)\n  * [💳 Billing](#-billing)\n  * [⚙️ Configuration](#configuration)\n    + [Configuration parameters](#configuration-parameters)\n    + [Cloud Functions](#cloud-functions)\n---\n\n## 🧩 Install this extension\n\n### Console\n\n[![Install this extension in your Firebase project](https://www.gstatic.com/mobilesdk/210513_mobilesdk/install-extension.png \"Install this extension in your Firebase project\")][install-link]\n\n[install-link]: https://console.firebase.google.com/project/_/extensions/install?ref=mailersend/mailersend-email\n\n### Firebase CLI\n\n```bash\nfirebase ext:install mailersend/mailersend-email --project=[your-project-id]\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation:\n> [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console),\n> [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n\n## 💪 Use the extension\n\nAfter its installation, this extension monitors all document writes to the `EMAIL_COLLECTION` collection. Email is sent based on the contents of the document's fields. The document's fields specify an email data.\n\n### Send an email\n<details>\n<summary>Here's a basic example document write that would trigger this extension</summary>\n\n```js\nadmin.firestore().collection('emails').add({\n  to: [\n    {\n      email: 'recipient@example.com',\n      name: 'Recipient name'\n    }\n  ],\n  from: {\n    email: 'from@example.com',\n    name: 'From name'\n  },\n  cc: [\n    {\n      email: 'cc.recipient@example.com',\n      name: 'CC recipient name'\n    }\n  ],\n  bcc: [\n    {\n      email: 'bcc.recipient@example.com',\n      name: 'Bcc recipient name'\n    }\n  ],\n  subject: 'Hello from Firebase!',\n  html: 'This is an <code>HTML</code> email body.',\n  text: 'This is an TEXT email body.',\n  template_id: 'abc123ced',\n    variables: [\n      {\n        email: 'recipient@example.com',\n        substitutions: [\n          {\n            var: 'variable_name',\n            value: 'variable value'\n          }\n        ]\n      }\n    ],\n    personalization: [\n      {\n        email: 'recipient@example.com',\n        data: {\n          personalization_name: 'personalization value'\n        }\n      }\n    ],\n    tags: ['tag1', 'tag2'],\n    reply_to: {\n      email: 'reply_to@example.com',\n        name: 'Reply to name'\n    },\n    send_at: '123465789'\n})\n```\n\n</details>\n\n### Additional setup\n\nBefore installing this extension, set up the following Firebase service in your Firebase project:\n\n- [Cloud Firestore](https://firebase.google.com/docs/firestore/quickstart) collection in your Firebase project.\n\nThen, in the MailerSend dashboard:\n\n- Add a [domain](https://app.mailersend.com/domains) and verify it editing your DNS records.\n- Create a new [API token](https://app.mailersend.com/api-tokens) with full access.\n\n\n\n### Collection fields\n\n<details>\n<summary>Find all the JSON field parameters you can add to your API call, provided in dot notation </summary>\n<br>\n\n| JSON field parameter                | Type       | Required | Limitations                                                       | Details                                                                                                                                                                                                       |\n|-------------------------------------|------------|----------|-------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| `from`                              | `object`   | yes *    |                                                                   | Not required if set in extension config or `template_id` is present and template has default sender set.                                                                                                      |\n| `from.email`                        | `string`   | yes *    | Must be a verified domain or subdomain. | Not required if set in extension config or `template_id` is present and template has default sender set.                                                                                                      |\n| `from.name`                         | `string`   | no       |                                                                   | `from.email` will be used if not provided or, if set in extension config or `template_id` is present with default values, the default subject from that will be used.                                         |\n| `to`                                | `object[]` | yes      | Min `1`, max `50`                                                 |                                                                                                                                                                                                               |\n| `to.*.email`                        | `string`   | yes      |                                                                   |                                                                                                                                                                                                               |\n| `to.*.name`                         | `string`   | no       |                                                                   | The name of the recipient. May not contain `;` or `,`.                                                                                                                                                        |\n| `cc`                                | `object[]` | no       | Max 10                                                            |                                                                                                                                                                                                               |\n| `cc.*.email`                        | `string`   | yes      |                                                                   |                                                                                                                                                                                                               |\n| `cc.*.name`                         | `string`   | no       |                                                                   | The name of the CC recipient. May not contain `;` or `,`.                                                                                                                                                     |\n| `bcc`                               | `object[]` | no       | Max 10                                                            |                                                                                                                                                                                                               |\n| `bcc.*.email`                       | `string`   | yes      |                                                                   |                                                                                                                                                                                                               |\n| `bcc.*.name`                        | `string`   | no       |                                                                   | The name of the BCC recipient. May not contain `;` or `,`.                                                                                                                                                    |\n| `reply_to`                          | `object`   | no       |                                                                   |                                                                                                                                                                                                               |\n| `reply_to.email`                    | `string`   | no       |                                                                   | Can be set in extension config                                                                                                                                                                                |\n| `reply_to.name`                     | `string`   | no       |                                                                   | Can be set in extension config                                                                                                                                                                                |\n| `subject`                           | `string`   | yes *    |                                                                   | Not required if `template_id` is present and template has default subject set.                                                                                                                                |\n| `text`                              | `string`   | yes *    | Max size of 2 MB.                                                 | Email represented in a text (`text/plain`) format. * Only required if there's no `html` or `template_id` present.                                                                                             |\n| `html`                              | `string`   | yes *    | Max size of 2 MB.                                                 | Email represented in HTML (`text/html`) format. * Only required if there's no `text` or `template_id` present.                                                                                                |\n| `template_id`                       | `string`   | yes *    |                                                                   | * Only required if there's no `text` or `html` present.                                                                                                                                                       |\n| `tags`                              | `string[]` | no       |                                                                   | Limit is max 5 tags.                                                                                                                                                                                          |\n| `variables`                         | `object[]` | no       |                                                                   | These will be replaced in the email content using `{$var}` format. Can be used in the `subject`, `html`, `text` fields.                                                                                       |\n| `variables.*.email`                 | `string`   | yes      |                                                                   | Email address that substitutions will be applied to. Read more about [simple personalization](features.html#simple-personalization).                                                                          |\n| `variables.*.substitutions`         | `object[]` | yes      |                                                                   |                                                                                                                                                                                                               |\n| `variables.*.substitutions.*.var`   | `string`   | yes      |                                                                   | Name of the variable, will replace `{$var}` in the `subject`, `html`, `text` fields.                                                                                                                          |\n| `variables.*.substitutions.*.value` | `string`   | yes      |                                                                   | Value to be replaced, based on the `variables.*.substitutions.*.var`  name.                                                                                                                                   |\n| `personalization`                   | `object[]` | no       |                                                                   | Allows using personalization in <code v-pre>{{ var }}</code> syntax. Can be used in the `subject`, `html`, `text` fields. Read more about [advanced personalization](features.html#advanced-personalization). |\n| `personalization.*.email`           | `string`   | yes      |                                                                   | Email address that personalization will be applied to.                                                                                                                                                        |\n| `personalization.*.data`            | `object[]` | yes      |                                                                   | Object with `key: value` pairs. Values will be added to your template using <code v-pre>{{ key }}</code> syntax.                                                                                              |\n| `send_at`                           | `integer`  | no       | min: `now`, max: `now + 72hours`                                  | Has to be a [Unix timestamp](https://www.unixtimestamp.com/). **Please note that this timestamp is a minimal guarantee and that the email could be delayed due to server load.**                             |\n\n</details>\n\n### Email results\n\nAfter email sending is triggered this extension fills results into the `delivery` field.\n\n| Field      | Description                                    |\n|------------|------------------------------------------------|\n| error      | Validation error, or error from the server     |\n| message_id | Message ID in MailerSend system                |\n| state      | State of an email sending: `ERROR`, `SUCCESS`  |\n\n\n<!-- We recommend keeping the following section to explain how billing for Firebase Extensions works -->\n## 💳 Billing\n\nThis extension uses other Firebase or Google Cloud Platform services which may have associated charges:\n\n<!-- List all products the extension interacts with -->\n- Cloud Functions\n\nWhen you use Firebase Extensions, you're only charged for the underlying resources that you use. A paid-tier billing plan is only required if the extension uses a service that requires a paid-tier plan, for example calling to a Google Cloud Platform API or making outbound network requests to non-Google services. All Firebase services offer a free tier of usage. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nThis extension also uses the following third-party services:\n\n- MailerSend ([pricing information](https://mailersend.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n## ⚙️Configuration\n\n### Configuration Parameters\n\n* Cloud Functions location: Where do you want to deploy the functions created for this extension? For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n* Emails documents collection: What is the path to the collection that contains the documents used to build and send the email?\n\n* MailerSend API key: API tokens are used for authentication when sending emails. You can find more details how to create an API token [here](https://www.mailersend.com/help/managing-api-tokens).\n* Email parameters:\n\n    + Default FROM email address: The email address to use as the sender's address (if it's not specified in the added email document or template).\n\n    + Default FROM name: The name to use as the sender's name.\n\n    + Default reply to email address: The email address to use as the reply to address (if it's not specified in the added email document or template).(not required)\n\n    + Default reply to name: The name to use as the reply to name. (not required)\n\n    + Default template ID: The default template id to use for emails (it will be used if not specified in the added email document).\n\n\n\n### Cloud Functions\n\n* processDocumentCreated: Processes created document in Cloud Firestore collection, sends an email and updates status information.\n","displayName":"Send email with MailerSend","icon":"mailersend.png","tags":["messaging"]},"fetchTime":"2024-06-11T09:22:14.959517Z","lastOperationName":"projects/mailersend-214215/operations/85596128-84a1-410a-8052-94b07b5e3f57","state":"ACTIVE","iconUri":"https://storage.googleapis.com/firebase-extensions-icons/extension_icons/mailersend/mailersend-email_0.1.8@512.png"},"params":{"EMAIL_COLLECTION":"mail","MAILERSEND_API_KEY":"projects/483740693601/secrets/mailersend-email-MAILERSEND_API_KEY/versions/1","DEFAULT_FROM_EMAIL":"easietrucking@gmail.com","DEFAULT_FROM_NAME":"superadmin","DEFAULT_REPLY_TO_EMAIL":"easietrucking@gmail.com","DEFAULT_REPLY_TO_NAME":"Easy Trucking","LOCATION":"us-central1"},"populatedPostinstallContent":"<!-- \nThis file provides your users an overview of how to use your extension after they've installed it. All content is optional, but this is the recommended format. Your users will see the contents of this file in the Firebase console after they install the extension.\n\nInclude instructions for using the extension and any important functional details. Also include **detailed descriptions** for any additional post-installation setup required by the user.\n\nReference values for the extension instance using the ${param:PARAMETER_NAME} or ${function:VARIABLE_NAME} syntax.\nLearn more in the docs: https://firebase.google.com/docs/extensions/alpha/create-user-docs#reference-in-postinstall\n\nLearn more about writing a POSTINSTALL.md file in the docs:\nhttps://firebase.google.com/docs/extensions/alpha/create-user-docs#writing-postinstall\n-->\n##### Table of Contents  \n\n  * [💪 Use the extension](#-use-the-extension)\n    + [Send an email](#send-an-email)\n    + [Collection fields](#collection-fields)\n    + [Email results](#email-results)\n  * [👀 Monitoring](#-monitoring)\n\n---\n\n## 💪 Use the extension\n\nUse this extension to send emails that contain the information from documents added to a specified Cloud Firestore collection.\n\nAfter its installation, this extension monitors all document writes to the `EMAIL_COLLECTION` collection. Email is sent based on the contents of the document's fields. The document's fields specify an email data. Adding a document triggers this extension to send an email built from the document's fields.\n\n\n### Send an email\n<details>\n<summary>Here's a basic example document write that would trigger this extension</summary>\n\n```js\nadmin.firestore().collection('emails').add({\n  to: [\n    {\n      email: 'recipient@example.com',\n      name: 'Recipient name'\n    }\n  ],\n  from: {\n    email: 'from@example.com',\n    name: 'From name'\n  },\n  cc: [\n    {\n      email: 'cc.recipient@example.com',\n      name: 'CC recipient name'\n    }\n  ],\n  bcc: [\n    {\n      email: 'bcc.recipient@example.com',\n      name: 'Bcc recipient name'\n    }\n  ],\n  subject: 'Hello from Firebase!',\n  html: 'This is an <code>HTML</code> email body.',\n  text: 'This is an TEXT email body.',\n  template_id: 'abc123ced',\n    variables: [\n      {\n        email: 'recipient@example.com',\n        substitutions: [\n          {\n            var: 'variable_name',\n            value: 'variable value'\n          }\n        ]\n      }\n    ],\n    personalization: [\n      {\n        email: 'recipient@example.com',\n        data: {\n          personalization_name: 'personalization value'\n        }\n      }\n    ],\n    tags: ['tag1', 'tag2'],\n    reply_to: {\n      email: 'reply_to@example.com',\n        name: 'Reply to name'\n    },\n    send_at: '123465789'\n})\n```\n\n</details>\n\n\n### Collection fields\n\n<details>\n<summary>Find all the JSON field parameters you can add to your API call, provided in dot notation </summary>\n\n\n| JSON field parameter                | Type       | Required | Limitations                                                       | Details                                                                                                                                                                                                       |\n|-------------------------------------|------------|----------|-------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| `from`                              | `object`   | yes *    |                                                                   | Not required if set in extension config or `template_id` is present and template has default sender set.                                                                                                      |\n| `from.email`                        | `string`   | yes *    | Must be a verified domain or a subdomain from a verified domain . | Not required if set in extension config or `template_id` is present and template has default sender set.                                                                                                      |\n| `from.name`                         | `string`   | no       |                                                                   | `from.email` will be used if not provided or, if set in extension config or `template_id` is present with default values, the default subject from that will be used.                                         |\n| `to`                                | `object[]` | yes      | Min `1`, max `50`                                                 |                                                                                                                                                                                                               |\n| `to.*.email`                        | `string`   | yes      |                                                                   |                                                                                                                                                                                                               |\n| `to.*.name`                         | `string`   | no       |                                                                   | The name of the recipient. May not contain `;` or `,`.                                                                                                                                                        |\n| `cc`                                | `object[]` | no       | Max 10                                                            |                                                                                                                                                                                                               |\n| `cc.*.email`                        | `string`   | yes      |                                                                   |                                                                                                                                                                                                               |\n| `cc.*.name`                         | `string`   | no       |                                                                   | The name of the CC recipient. May not contain `;` or `,`.                                                                                                                                                     |\n| `bcc`                               | `object[]` | no       | Max 10                                                            |                                                                                                                                                                                                               |\n| `bcc.*.email`                       | `string`   | yes      |                                                                   |                                                                                                                                                                                                               |\n| `bcc.*.name`                        | `string`   | no       |                                                                   | The name of the BCC recipient. May not contain `;` or `,`.                                                                                                                                                    |\n| `reply_to`                          | `object`   | no       |                                                                   |                                                                                                                                                                                                               |\n| `reply_to.email`                    | `string`   | no       |                                                                   | Can be set in extension config                                                                                                                                                                                |\n| `reply_to.name`                     | `string`   | no       |                                                                   | Can be set in extension config                                                                                                                                                                                |\n| `subject`                           | `string`   | yes *    |                                                                   | Not required if `template_id` is present and template has default subject set.                                                                                                                                |\n| `text`                              | `string`   | yes *    | Max size of 2 MB.                                                 | Email represented in a text (`text/plain`) format. * Only required if there's no `html` or `template_id` present.                                                                                             |\n| `html`                              | `string`   | yes *    | Max size of 2 MB.                                                 | Email represented in HTML (`text/html`) format. * Only required if there's no `text` or `template_id` present.                                                                                                |\n| `template_id`                       | `string`   | yes *    |                                                                   | * Only required if there's no `text` or `html` present.                                                                                                                                                       |\n| `tags`                              | `string[]` | no       |                                                                   | Limit is max 5 tags.                                                                                                                                                                                          |\n| `variables`                         | `object[]` | no       |                                                                   | These will be replaced in the email content using `{$var}` format. Can be used in the `subject`, `html`, `text` fields.                                                                                       |\n| `variables.*.email`                 | `string`   | yes      |                                                                   | Email address that substitutions will be applied to. Read more about [simple personalization](features.html#simple-personalization).                                                                          |\n| `variables.*.substitutions`         | `object[]` | yes      |                                                                   |                                                                                                                                                                                                               |\n| `variables.*.substitutions.*.var`   | `string`   | yes      |                                                                   | Name of the variable, will replace `{$var}` in the `subject`, `html`, `text` fields.                                                                                                                          |\n| `variables.*.substitutions.*.value` | `string`   | yes      |                                                                   | Value to be replaced, based on the `variables.*.substitutions.*.var`  name.                                                                                                                                   |\n| `personalization`                   | `object[]` | no       |                                                                   | Allows using personalization in <code v-pre>{{ var }}</code> syntax. Can be used in the `subject`, `html`, `text` fields. Read more about [advanced personalization](features.html#advanced-personalization). |\n| `personalization.*.email`           | `string`   | yes      |                                                                   | Email address that personalization will be applied to.                                                                                                                                                        |\n| `personalization.*.data`            | `object[]` | yes      |                                                                   | Object with `key: value` pairs. Values will be added to your template using <code v-pre>{{ key }}</code> syntax.                                                                                              |\n| `send_at`                           | `integer`  | no       | min: `now`, max: `now + 72hours`                                  | Has to be a [Unix timestamp](https://www.unixtimestamp.com/). **Please note that this timestamp is a minimal guarantee and that the email could be delayed due to server load.**                             |\n\n</details>\n\n### Email results\n\nAfter email sending is triggered this extension fills results into the `delivery` field.\n\n| Field      | Description                                    |\n|------------|------------------------------------------------|\n| error      | Validation error, or error from the server     |\n| message_id | Message ID in MailerSend system                |\n| state      | State of an email sending: `ERROR`, `SUCCESS`  |\n\n\n\n## 👀 Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","extensionRef":"mailersend/mailersend-email","extensionVersion":"0.1.8","systemParams":{"firebaseextensions.v1beta.function/vpcConnectorEgressSettings":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","firebaseextensions.v1beta.function/minInstances":"0","firebaseextensions.v1beta.function/memory":"256"}},"lastOperationName":"projects/trucking-app-3e473/operations/5825e6dd-fc39-49f3-8f2b-efec1fcfde08","serviceAccountEmail":"ext-mailersend-email@trucking-app-3e473.iam.gserviceaccount.com","lastOperationType":"CONFIGURE","etag":"4cb9e5289a90680b7481be60063b0f99e56703378d7e00a35495ce9c9567fe9b"}]}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/hardeep/Personal_workspace/trucking-app/functions (114.35 KB) for uploading 
[debug] [2025-09-03T18:12:59.288Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:59.288Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:59.288Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/-/functions [none]
[debug] [2025-09-03T18:12:59.939Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/-/functions 200
[debug] [2025-09-03T18:12:59.939Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/-/functions {"functions":[{"name":"projects/trucking-app-3e473/locations/us-central1/functions/ext-mailersend-email-processDocumentCreated","description":"Processes created document in Cloud Firestore collection, sends an email and updates status information.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/822cf1fda144b2655c5d69be067044e6655801a548b1ea3b55e66bf4aa6d3937","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/trucking-app-3e473/databases/(default)/documents/mail/{documentId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"processDocumentCreated","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-mailersend-email@trucking-app-3e473.iam.gserviceaccount.com","updateTime":"2025-09-03T00:20:15.645Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-mailersend-email","goog-firebase-ext":"mailersend-email","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"mailersend-email"},"environmentVariables":{"DATABASE_INSTANCE":"","DATABASE_URL":"","DEFAULT_FROM_EMAIL":"easietrucking@gmail.com","DEFAULT_FROM_NAME":"superadmin","DEFAULT_REPLY_TO_EMAIL":"easietrucking@gmail.com","DEFAULT_REPLY_TO_NAME":"Easy Trucking","EMAIL_COLLECTION":"mail","EXT_INSTANCE_ID":"mailersend-email","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"databaseURL\":\"\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","LOCATION":"us-central1","PROJECT_ID":"trucking-app-3e473","STORAGE_BUCKET":"trucking-app-3e473.firebasestorage.app"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"eefc39ae-6aa2-4d4b-a6ea-23fade319b96","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"MAILERSEND_API_KEY","projectId":"483740693601","secret":"mailersend-email-MAILERSEND_API_KEY","version":"1"}],"buildName":"projects/483740693601/locations/us-central1/builds/eefc39ae-6aa2-4d4b-a6ea-23fade319b96","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"trucking-app-3e473@appspot.gserviceaccount.com","updateTime":"2025-09-03T02:56:48.274570155Z","versionId":"1","labels":{"firebase-functions-hash":"e15cadd8950d7e647dddc31bb31966b3d700d1a5","deployment-tool":"cli-firebase","deployment-callable":"true"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/99628053-96c4-40e4-9bd8-8d7ca088fd73.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com","satisfiesPzi":true}]}
[debug] [2025-09-03T18:12:59.940Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:59.940Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:12:59.940Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/trucking-app-3e473/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-09-03T18:13:00.395Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/trucking-app-3e473/locations/-/functions 200
[debug] [2025-09-03T18:13:00.395Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/trucking-app-3e473/locations/-/functions {}
[debug] [2025-09-03T18:13:00.400Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:00.400Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:00.400Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 [none]
[debug] [2025-09-03T18:13:00.543Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 200
[debug] [2025-09-03T18:13:00.543Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 {"projectNumber":"483740693601","projectId":"trucking-app-3e473","lifecycleState":"ACTIVE","name":"Trucking App","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-01T00:39:08.067334Z"}
[debug] [2025-09-03T18:13:00.545Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:00.545Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:00.545Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/trucking-app-3e473/billingInfo [none]
[debug] [2025-09-03T18:13:00.935Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/trucking-app-3e473/billingInfo 200
[debug] [2025-09-03T18:13:00.935Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/trucking-app-3e473/billingInfo {"name":"projects/trucking-app-3e473/billingInfo","projectId":"trucking-app-3e473","billingAccountName":"billingAccounts/012D7F-B8A001-137144","billingEnabled":true}
[debug] [2025-09-03T18:13:00.936Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:00.936Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:00.937Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-09-03T18:13:00.937Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl {}
[debug] [2025-09-03T18:13:01.640Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-09-03T18:13:01.641Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/1124140f-bec5-42b9-8e63-68062c18da0e.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756924981&Signature=KqjdTTuTzPxUgdkSm5ZR8u8DfEOqJSI%2F%2B02L62DaYCk8ks9bVZZaxrXFRq5rVJlsX0CLisT1CsPRITcyLEUw8psjQ0EdZ4qlsOqouxDjFrgZSggoTZzTvcfaNOJbHIujIqlEJLgbOH28l0C2VUM%2BYUks0a9lBH3Gi7pto8sCJjfJUcFBJzpCFXiCsQE0qGA6GtCuYYzrj7gvDs3w4mmIhB48pJhFzqmp0ybjJ2O37wisTuaGRAuKT9ft%2B7uFrqrcChxgtreLlSKf3pNAP7Ln%2Bm1W2PG9zH%2BR3SBr4FwHtc2kLrzEuVJfI7zzQf2VmF5NZvyB6EhChM%2FhyIc3rM1yiw%3D%3D"}
[debug] [2025-09-03T18:13:01.642Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/1124140f-bec5-42b9-8e63-68062c18da0e.zip GoogleAccessId=service-483740693601%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1756924981&Signature=KqjdTTuTzPxUgdkSm5ZR8u8DfEOqJSI%2F%2B02L62DaYCk8ks9bVZZaxrXFRq5rVJlsX0CLisT1CsPRITcyLEUw8psjQ0EdZ4qlsOqouxDjFrgZSggoTZzTvcfaNOJbHIujIqlEJLgbOH28l0C2VUM%2BYUks0a9lBH3Gi7pto8sCJjfJUcFBJzpCFXiCsQE0qGA6GtCuYYzrj7gvDs3w4mmIhB48pJhFzqmp0ybjJ2O37wisTuaGRAuKT9ft%2B7uFrqrcChxgtreLlSKf3pNAP7Ln%2Bm1W2PG9zH%2BR3SBr4FwHtc2kLrzEuVJfI7zzQf2VmF5NZvyB6EhChM%2FhyIc3rM1yiw%3D%3D
[debug] [2025-09-03T18:13:01.642Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/1124140f-bec5-42b9-8e63-68062c18da0e.zip [stream]
[debug] [2025-09-03T18:13:02.285Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/1124140f-bec5-42b9-8e63-68062c18da0e.zip 200
[debug] [2025-09-03T18:13:02.285Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/1124140f-bec5-42b9-8e63-68062c18da0e.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (1st Gen) function sendInviteEmail(us-central1)... 
[debug] [2025-09-03T18:13:02.290Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:02.290Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:02.290Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-09-03T18:13:02.290Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail {"name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/1124140f-bec5-42b9-8e63-68062c18da0e.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756924981&Signature=KqjdTTuTzPxUgdkSm5ZR8u8DfEOqJSI%2F%2B02L62DaYCk8ks9bVZZaxrXFRq5rVJlsX0CLisT1CsPRITcyLEUw8psjQ0EdZ4qlsOqouxDjFrgZSggoTZzTvcfaNOJbHIujIqlEJLgbOH28l0C2VUM%2BYUks0a9lBH3Gi7pto8sCJjfJUcFBJzpCFXiCsQE0qGA6GtCuYYzrj7gvDs3w4mmIhB48pJhFzqmp0ybjJ2O37wisTuaGRAuKT9ft%2B7uFrqrcChxgtreLlSKf3pNAP7Ln%2Bm1W2PG9zH%2BR3SBr4FwHtc2kLrzEuVJfI7zzQf2VmF5NZvyB6EhChM%2FhyIc3rM1yiw%3D%3D","entryPoint":"sendInviteEmail","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"e84153142a90f487b5968d995565073ed071f828"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-09-03T18:13:02.767Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail 200
[debug] [2025-09-03T18:13:02.768Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"e84153142a90f487b5968d995565073ed071f828"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/1124140f-bec5-42b9-8e63-68062c18da0e.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756924981&Signature=KqjdTTuTzPxUgdkSm5ZR8u8DfEOqJSI%2F%2B02L62DaYCk8ks9bVZZaxrXFRq5rVJlsX0CLisT1CsPRITcyLEUw8psjQ0EdZ4qlsOqouxDjFrgZSggoTZzTvcfaNOJbHIujIqlEJLgbOH28l0C2VUM%2BYUks0a9lBH3Gi7pto8sCJjfJUcFBJzpCFXiCsQE0qGA6GtCuYYzrj7gvDs3w4mmIhB48pJhFzqmp0ybjJ2O37wisTuaGRAuKT9ft%2B7uFrqrcChxgtreLlSKf3pNAP7Ln%2Bm1W2PG9zH%2BR3SBr4FwHtc2kLrzEuVJfI7zzQf2VmF5NZvyB6EhChM%2FhyIc3rM1yiw%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-03T18:13:02Z"}}
[debug] [2025-09-03T18:13:02.768Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:02.768Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:02.769Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw [none]
[debug] [2025-09-03T18:13:02.962Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw 200
[debug] [2025-09-03T18:13:02.963Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"e84153142a90f487b5968d995565073ed071f828"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/1124140f-bec5-42b9-8e63-68062c18da0e.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756924981&Signature=KqjdTTuTzPxUgdkSm5ZR8u8DfEOqJSI%2F%2B02L62DaYCk8ks9bVZZaxrXFRq5rVJlsX0CLisT1CsPRITcyLEUw8psjQ0EdZ4qlsOqouxDjFrgZSggoTZzTvcfaNOJbHIujIqlEJLgbOH28l0C2VUM%2BYUks0a9lBH3Gi7pto8sCJjfJUcFBJzpCFXiCsQE0qGA6GtCuYYzrj7gvDs3w4mmIhB48pJhFzqmp0ybjJ2O37wisTuaGRAuKT9ft%2B7uFrqrcChxgtreLlSKf3pNAP7Ln%2Bm1W2PG9zH%2BR3SBr4FwHtc2kLrzEuVJfI7zzQf2VmF5NZvyB6EhChM%2FhyIc3rM1yiw%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-03T18:13:02Z"}}
[debug] [2025-09-03T18:13:03.464Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:13:03.465Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:03.465Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:03.465Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw [none]
[debug] [2025-09-03T18:13:03.635Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw 200
[debug] [2025-09-03T18:13:03.635Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"e84153142a90f487b5968d995565073ed071f828"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/1124140f-bec5-42b9-8e63-68062c18da0e.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756924981&Signature=KqjdTTuTzPxUgdkSm5ZR8u8DfEOqJSI%2F%2B02L62DaYCk8ks9bVZZaxrXFRq5rVJlsX0CLisT1CsPRITcyLEUw8psjQ0EdZ4qlsOqouxDjFrgZSggoTZzTvcfaNOJbHIujIqlEJLgbOH28l0C2VUM%2BYUks0a9lBH3Gi7pto8sCJjfJUcFBJzpCFXiCsQE0qGA6GtCuYYzrj7gvDs3w4mmIhB48pJhFzqmp0ybjJ2O37wisTuaGRAuKT9ft%2B7uFrqrcChxgtreLlSKf3pNAP7Ln%2Bm1W2PG9zH%2BR3SBr4FwHtc2kLrzEuVJfI7zzQf2VmF5NZvyB6EhChM%2FhyIc3rM1yiw%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-03T18:13:02Z","buildId":"a4dd98e6-28c1-4057-b5a6-8e15f3d1affd","buildName":"projects/483740693601/locations/us-central1/builds/a4dd98e6-28c1-4057-b5a6-8e15f3d1affd"}}
[debug] [2025-09-03T18:13:04.636Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:13:04.636Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:04.636Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:04.636Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw [none]
[debug] [2025-09-03T18:13:04.847Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw 200
[debug] [2025-09-03T18:13:04.848Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"e84153142a90f487b5968d995565073ed071f828"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/1124140f-bec5-42b9-8e63-68062c18da0e.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756924981&Signature=KqjdTTuTzPxUgdkSm5ZR8u8DfEOqJSI%2F%2B02L62DaYCk8ks9bVZZaxrXFRq5rVJlsX0CLisT1CsPRITcyLEUw8psjQ0EdZ4qlsOqouxDjFrgZSggoTZzTvcfaNOJbHIujIqlEJLgbOH28l0C2VUM%2BYUks0a9lBH3Gi7pto8sCJjfJUcFBJzpCFXiCsQE0qGA6GtCuYYzrj7gvDs3w4mmIhB48pJhFzqmp0ybjJ2O37wisTuaGRAuKT9ft%2B7uFrqrcChxgtreLlSKf3pNAP7Ln%2Bm1W2PG9zH%2BR3SBr4FwHtc2kLrzEuVJfI7zzQf2VmF5NZvyB6EhChM%2FhyIc3rM1yiw%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-03T18:13:02Z","buildId":"a4dd98e6-28c1-4057-b5a6-8e15f3d1affd","buildName":"projects/483740693601/locations/us-central1/builds/a4dd98e6-28c1-4057-b5a6-8e15f3d1affd"}}
[debug] [2025-09-03T18:13:06.849Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:13:06.849Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:06.850Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:06.850Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw [none]
[debug] [2025-09-03T18:13:07.135Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw 200
[debug] [2025-09-03T18:13:07.136Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"e84153142a90f487b5968d995565073ed071f828"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/1124140f-bec5-42b9-8e63-68062c18da0e.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756924981&Signature=KqjdTTuTzPxUgdkSm5ZR8u8DfEOqJSI%2F%2B02L62DaYCk8ks9bVZZaxrXFRq5rVJlsX0CLisT1CsPRITcyLEUw8psjQ0EdZ4qlsOqouxDjFrgZSggoTZzTvcfaNOJbHIujIqlEJLgbOH28l0C2VUM%2BYUks0a9lBH3Gi7pto8sCJjfJUcFBJzpCFXiCsQE0qGA6GtCuYYzrj7gvDs3w4mmIhB48pJhFzqmp0ybjJ2O37wisTuaGRAuKT9ft%2B7uFrqrcChxgtreLlSKf3pNAP7Ln%2Bm1W2PG9zH%2BR3SBr4FwHtc2kLrzEuVJfI7zzQf2VmF5NZvyB6EhChM%2FhyIc3rM1yiw%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-03T18:13:02Z","buildId":"a4dd98e6-28c1-4057-b5a6-8e15f3d1affd","buildName":"projects/483740693601/locations/us-central1/builds/a4dd98e6-28c1-4057-b5a6-8e15f3d1affd"}}
[debug] [2025-09-03T18:13:11.138Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:13:11.138Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:11.138Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:11.138Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw [none]
[debug] [2025-09-03T18:13:11.314Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw 200
[debug] [2025-09-03T18:13:11.314Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"e84153142a90f487b5968d995565073ed071f828"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/1124140f-bec5-42b9-8e63-68062c18da0e.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756924981&Signature=KqjdTTuTzPxUgdkSm5ZR8u8DfEOqJSI%2F%2B02L62DaYCk8ks9bVZZaxrXFRq5rVJlsX0CLisT1CsPRITcyLEUw8psjQ0EdZ4qlsOqouxDjFrgZSggoTZzTvcfaNOJbHIujIqlEJLgbOH28l0C2VUM%2BYUks0a9lBH3Gi7pto8sCJjfJUcFBJzpCFXiCsQE0qGA6GtCuYYzrj7gvDs3w4mmIhB48pJhFzqmp0ybjJ2O37wisTuaGRAuKT9ft%2B7uFrqrcChxgtreLlSKf3pNAP7Ln%2Bm1W2PG9zH%2BR3SBr4FwHtc2kLrzEuVJfI7zzQf2VmF5NZvyB6EhChM%2FhyIc3rM1yiw%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-03T18:13:02Z","buildId":"a4dd98e6-28c1-4057-b5a6-8e15f3d1affd","buildName":"projects/483740693601/locations/us-central1/builds/a4dd98e6-28c1-4057-b5a6-8e15f3d1affd"}}
[debug] [2025-09-03T18:13:19.315Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:13:19.315Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:19.315Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:19.315Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw [none]
[debug] [2025-09-03T18:13:19.664Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw 200
[debug] [2025-09-03T18:13:19.664Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"e84153142a90f487b5968d995565073ed071f828"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/1124140f-bec5-42b9-8e63-68062c18da0e.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756924981&Signature=KqjdTTuTzPxUgdkSm5ZR8u8DfEOqJSI%2F%2B02L62DaYCk8ks9bVZZaxrXFRq5rVJlsX0CLisT1CsPRITcyLEUw8psjQ0EdZ4qlsOqouxDjFrgZSggoTZzTvcfaNOJbHIujIqlEJLgbOH28l0C2VUM%2BYUks0a9lBH3Gi7pto8sCJjfJUcFBJzpCFXiCsQE0qGA6GtCuYYzrj7gvDs3w4mmIhB48pJhFzqmp0ybjJ2O37wisTuaGRAuKT9ft%2B7uFrqrcChxgtreLlSKf3pNAP7Ln%2Bm1W2PG9zH%2BR3SBr4FwHtc2kLrzEuVJfI7zzQf2VmF5NZvyB6EhChM%2FhyIc3rM1yiw%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-03T18:13:02Z","buildId":"a4dd98e6-28c1-4057-b5a6-8e15f3d1affd","buildName":"projects/483740693601/locations/us-central1/builds/a4dd98e6-28c1-4057-b5a6-8e15f3d1affd"}}
[debug] [2025-09-03T18:13:29.665Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:13:29.666Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:29.666Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:29.667Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw [none]
[debug] [2025-09-03T18:13:30.029Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw 200
[debug] [2025-09-03T18:13:30.029Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"e84153142a90f487b5968d995565073ed071f828"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/1124140f-bec5-42b9-8e63-68062c18da0e.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756924981&Signature=KqjdTTuTzPxUgdkSm5ZR8u8DfEOqJSI%2F%2B02L62DaYCk8ks9bVZZaxrXFRq5rVJlsX0CLisT1CsPRITcyLEUw8psjQ0EdZ4qlsOqouxDjFrgZSggoTZzTvcfaNOJbHIujIqlEJLgbOH28l0C2VUM%2BYUks0a9lBH3Gi7pto8sCJjfJUcFBJzpCFXiCsQE0qGA6GtCuYYzrj7gvDs3w4mmIhB48pJhFzqmp0ybjJ2O37wisTuaGRAuKT9ft%2B7uFrqrcChxgtreLlSKf3pNAP7Ln%2Bm1W2PG9zH%2BR3SBr4FwHtc2kLrzEuVJfI7zzQf2VmF5NZvyB6EhChM%2FhyIc3rM1yiw%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-03T18:13:02Z","buildId":"a4dd98e6-28c1-4057-b5a6-8e15f3d1affd","buildName":"projects/483740693601/locations/us-central1/builds/a4dd98e6-28c1-4057-b5a6-8e15f3d1affd"}}
[debug] [2025-09-03T18:13:40.030Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:13:40.031Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:40.031Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:40.031Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw [none]
[debug] [2025-09-03T18:13:40.368Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw 200
[debug] [2025-09-03T18:13:40.368Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9CNnctc0ppZng5cw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"e84153142a90f487b5968d995565073ed071f828"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/1124140f-bec5-42b9-8e63-68062c18da0e.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756924981&Signature=KqjdTTuTzPxUgdkSm5ZR8u8DfEOqJSI%2F%2B02L62DaYCk8ks9bVZZaxrXFRq5rVJlsX0CLisT1CsPRITcyLEUw8psjQ0EdZ4qlsOqouxDjFrgZSggoTZzTvcfaNOJbHIujIqlEJLgbOH28l0C2VUM%2BYUks0a9lBH3Gi7pto8sCJjfJUcFBJzpCFXiCsQE0qGA6GtCuYYzrj7gvDs3w4mmIhB48pJhFzqmp0ybjJ2O37wisTuaGRAuKT9ft%2B7uFrqrcChxgtreLlSKf3pNAP7Ln%2Bm1W2PG9zH%2BR3SBr4FwHtc2kLrzEuVJfI7zzQf2VmF5NZvyB6EhChM%2FhyIc3rM1yiw%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-03T18:13:31Z","buildId":"a4dd98e6-28c1-4057-b5a6-8e15f3d1affd","buildName":"projects/483740693601/locations/us-central1/builds/a4dd98e6-28c1-4057-b5a6-8e15f3d1affd"},"done":true,"error":{"code":3,"message":"Build failed: npm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: '@firebase/component@0.7.0',\nnpm warn EBADENGINE   required: { node: '>=20.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: '@firebase/database@1.1.0',\nnpm warn EBADENGINE   required: { node: '>=20.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: '@firebase/database-compat@2.1.0',\nnpm warn EBADENGINE   required: { node: '>=20.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: '@firebase/logger@0.5.0',\nnpm warn EBADENGINE   required: { node: '>=20.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: '@firebase/util@1.13.0',\nnpm warn EBADENGINE   required: { node: '>=20.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: 'firebase-tools@14.15.1',\nnpm warn EBADENGINE   required: { node: '>=20.0.0 || >=22.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_13_26_876Z-debug-0.log; Error ID: 7fa33aaa"}}
[debug] [2025-09-03T18:13:40.368Z] Got source token undefined for region us-central1
[error] Build failed: npm warn EBADENGINE Unsupported engine {
npm warn EBADENGINE   package: '@firebase/component@0.7.0',
npm warn EBADENGINE   required: { node: '>=20.0.0' },
npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }
npm warn EBADENGINE }
npm warn EBADENGINE Unsupported engine {
npm warn EBADENGINE   package: '@firebase/database@1.1.0',
npm warn EBADENGINE   required: { node: '>=20.0.0' },
npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }
npm warn EBADENGINE }
npm warn EBADENGINE Unsupported engine {
npm warn EBADENGINE   package: '@firebase/database-compat@2.1.0',
npm warn EBADENGINE   required: { node: '>=20.0.0' },
npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }
npm warn EBADENGINE }
npm warn EBADENGINE Unsupported engine {
npm warn EBADENGINE   package: '@firebase/logger@0.5.0',
npm warn EBADENGINE   required: { node: '>=20.0.0' },
npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }
npm warn EBADENGINE }
npm warn EBADENGINE Unsupported engine {
npm warn EBADENGINE   package: '@firebase/util@1.13.0',
npm warn EBADENGINE   required: { node: '>=20.0.0' },
npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }
npm warn EBADENGINE }
npm warn EBADENGINE Unsupported engine {
npm warn EBADENGINE   package: 'firebase-tools@14.15.1',
npm warn EBADENGINE   required: { node: '>=20.0.0 || >=22.0.0' },
npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }
npm warn EBADENGINE }
npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3
npm error Missing: picomatch@2.3.1 from lock file
npm error Missing: picomatch@2.3.1 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_13_26_876Z-debug-0.log; Error ID: 7fa33aaa
[debug] [2025-09-03T18:13:40.377Z] Total Function Deployment time: 38082
[debug] [2025-09-03T18:13:40.377Z] 1 Functions Deployed
[debug] [2025-09-03T18:13:40.377Z] 1 Functions Errored
[debug] [2025-09-03T18:13:40.378Z] 0 Function Deployments Aborted
[debug] [2025-09-03T18:13:40.378Z] Average Function Deployment time: 38081
[info] 
[info] Functions deploy had errors with the following functions:
	sendInviteEmail(us-central1)
[debug] [2025-09-03T18:13:40.647Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:40.647Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:13:40.647Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-09-03T18:13:41.235Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-09-03T18:13:41.235Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts {"name":"projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-09-02T23:34:29.347346Z","updateTime":"2025-09-03T02:57:15.262652Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"sizeBytes":"535653920","vulnerabilityScanningConfig":{"lastEnableTime":"2025-09-02T23:34:14.605559835Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/trucking-app-3e473/gcf-artifacts"}
[debug] [2025-09-03T18:13:41.235Z] Functions deploy failed.
[debug] [2025-09-03T18:13:41.235Z] {
  "endpoint": {
    "id": "sendInviteEmail",
    "project": "trucking-app-3e473",
    "region": "us-central1",
    "entryPoint": "sendInviteEmail",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "EMAIL_USER": "easietrucking@gmail.com",
      "EMAIL_PASS": "EasieTrucking",
      "FIREBASE_CONFIG": "{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "trucking-app-3e473",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "e84153142a90f487b5968d995565073ed071f828"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: '@firebase/component@0.7.0',\nnpm warn EBADENGINE   required: { node: '>=20.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: '@firebase/database@1.1.0',\nnpm warn EBADENGINE   required: { node: '>=20.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: '@firebase/database-compat@2.1.0',\nnpm warn EBADENGINE   required: { node: '>=20.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: '@firebase/logger@0.5.0',\nnpm warn EBADENGINE   required: { node: '>=20.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: '@firebase/util@1.13.0',\nnpm warn EBADENGINE   required: { node: '>=20.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: 'firebase-tools@14.15.1',\nnpm warn EBADENGINE   required: { node: '>=20.0.0 || >=22.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_13_26_876Z-debug-0.log; Error ID: 7fa33aaa",
    "original": {
      "code": 3,
      "message": "Build failed: npm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: '@firebase/component@0.7.0',\nnpm warn EBADENGINE   required: { node: '>=20.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: '@firebase/database@1.1.0',\nnpm warn EBADENGINE   required: { node: '>=20.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: '@firebase/database-compat@2.1.0',\nnpm warn EBADENGINE   required: { node: '>=20.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: '@firebase/logger@0.5.0',\nnpm warn EBADENGINE   required: { node: '>=20.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: '@firebase/util@1.13.0',\nnpm warn EBADENGINE   required: { node: '>=20.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: 'firebase-tools@14.15.1',\nnpm warn EBADENGINE   required: { node: '>=20.0.0 || >=22.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_13_26_876Z-debug-0.log; Error ID: 7fa33aaa"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-09-03T18:13:41.327Z] Error: Failed to update function sendInviteEmail in region us-central1
    at /Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:52:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV1Function (/Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:364:32)
    at async Fabricator.updateEndpoint (/Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:157:13)
    at async handle (/Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-09-03T18:17:07.142Z] ----------------------------------------------------------------------
[debug] [2025-09-03T18:17:07.152Z] Command:       /Users/hardeep/.nvm/versions/node/v20.19.4/bin/node /Users/hardeep/.nvm/versions/node/v20.19.4/bin/firebase deploy --only functions
[debug] [2025-09-03T18:17:07.153Z] CLI Version:   14.15.1
[debug] [2025-09-03T18:17:07.153Z] Platform:      darwin
[debug] [2025-09-03T18:17:07.153Z] Node Version:  v20.19.4
[debug] [2025-09-03T18:17:07.154Z] Time:          Wed Sep 03 2025 11:17:07 GMT-0700 (Pacific Daylight Time)
[debug] [2025-09-03T18:17:07.154Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-03T18:17:07.583Z] Object "/functions" in "firebase.json" has unknown property: {"additionalProperty":"gen"}
[debug] [2025-09-03T18:17:07.584Z] Field "/functions" in "firebase.json" is possibly invalid: must be array
[debug] [2025-09-03T18:17:07.584Z] Field "/functions" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-09-03T18:17:07.592Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-03T18:17:07.592Z] > authorizing via signed-in user (easietrucking@gmail.com)
[debug] [2025-09-03T18:17:07.592Z] [iam] checking project trucking-app-3e473 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-09-03T18:17:07.594Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:07.595Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:07.596Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions [none]
[debug] [2025-09-03T18:17:07.597Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions x-goog-quota-user=projects/trucking-app-3e473
[debug] [2025-09-03T18:17:07.597Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-03T18:17:08.128Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions 200
[debug] [2025-09-03T18:17:08.130Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-03T18:17:08.131Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:08.131Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:08.131Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-09-03T18:17:08.131Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-09-03T18:17:08.597Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-09-03T18:17:08.597Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'trucking-app-3e473'...
[info] 
[info] i  deploying functions 
[debug] [2025-09-03T18:17:08.601Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:08.601Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:08.601Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 [none]
[debug] [2025-09-03T18:17:08.785Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 200
[debug] [2025-09-03T18:17:08.786Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 {"projectNumber":"483740693601","projectId":"trucking-app-3e473","lifecycleState":"ACTIVE","name":"Trucking App","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-01T00:39:08.067334Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-09-03T18:17:08.789Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:08.789Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:08.789Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/trucking-app-3e473/adminSdkConfig [none]
[debug] [2025-09-03T18:17:09.362Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/trucking-app-3e473/adminSdkConfig 200
[debug] [2025-09-03T18:17:09.362Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/trucking-app-3e473/adminSdkConfig {"projectId":"trucking-app-3e473","storageBucket":"trucking-app-3e473.firebasestorage.app"}
[debug] [2025-09-03T18:17:09.363Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:09.363Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:09.363Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs [none]
[debug] [2025-09-03T18:17:09.853Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs 200
[debug] [2025-09-03T18:17:09.854Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs {"configs":[{"name":"projects/trucking-app-3e473/configs/email"}]}
[debug] [2025-09-03T18:17:09.855Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:09.855Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:09.855Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables [none]
[debug] [2025-09-03T18:17:10.039Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables 200
[debug] [2025-09-03T18:17:10.039Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables {"variables":[{"name":"projects/trucking-app-3e473/configs/email/variables/user","updateTime":"2025-09-03T00:38:20.168701835Z"},{"name":"projects/trucking-app-3e473/configs/email/variables/pass","updateTime":"2025-09-03T00:38:20.869548678Z"}]}
[debug] [2025-09-03T18:17:10.039Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:10.040Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:10.040Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:10.040Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:10.040Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/user [none]
[debug] [2025-09-03T18:17:10.040Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/pass [none]
[debug] [2025-09-03T18:17:10.221Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/user 200
[debug] [2025-09-03T18:17:10.221Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/user {"name":"projects/trucking-app-3e473/configs/email/variables/user","updateTime":"2025-09-03T00:38:20.168701835Z","text":"easietrucking@gmail.com"}
[debug] [2025-09-03T18:17:10.390Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/pass 200
[debug] [2025-09-03T18:17:10.391Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/pass {"name":"projects/trucking-app-3e473/configs/email/variables/pass","updateTime":"2025-09-03T00:38:20.869548678Z","text":"EasieTrucking#88"}
[debug] [2025-09-03T18:17:10.392Z] Validating nodejs source
[warn] ⚠  functions: Runtime Node.js 18 was deprecated on 2025-04-30 and will be decommissioned on 2025-10-30, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-09-03T18:17:11.704Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "dependencies": {
    "firebase-admin": "^13.5.0",
    "firebase-functions": "^4.4.1",
    "firebase-tools": "^14.15.1",
    "nodemailer": "^7.0.6"
  },
  "devDependencies": {
    "eslint": "^5.12.0",
    "eslint-plugin-promise": "^4.0.1",
    "firebase-functions-test": "^0.1.6"
  },
  "private": true
}
[debug] [2025-09-03T18:17:11.704Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-09-03T18:17:11.706Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-09-03T18:17:11.722Z] Found firebase-functions binary at '/Users/hardeep/Personal_workspace/trucking-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8497

[debug] [2025-09-03T18:17:14.544Z] Got response from /__/functions.yaml {"endpoints":{"sendInviteEmail":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"sendInviteEmail"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/hardeep/Personal_workspace/trucking-app/functions (115.16 KB) for uploading 
[debug] [2025-09-03T18:17:18.651Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:18.651Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:18.651Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/-/functions [none]
[debug] [2025-09-03T18:17:19.397Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/-/functions 200
[debug] [2025-09-03T18:17:19.398Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/-/functions {"functions":[{"name":"projects/trucking-app-3e473/locations/us-central1/functions/ext-mailersend-email-processDocumentCreated","description":"Processes created document in Cloud Firestore collection, sends an email and updates status information.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/822cf1fda144b2655c5d69be067044e6655801a548b1ea3b55e66bf4aa6d3937","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/trucking-app-3e473/databases/(default)/documents/mail/{documentId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"processDocumentCreated","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-mailersend-email@trucking-app-3e473.iam.gserviceaccount.com","updateTime":"2025-09-03T00:20:15.645Z","versionId":"2","labels":{"deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"mailersend-email","firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-mailersend-email","goog-firebase-ext":"mailersend-email"},"environmentVariables":{"DATABASE_INSTANCE":"","DATABASE_URL":"","DEFAULT_FROM_EMAIL":"easietrucking@gmail.com","DEFAULT_FROM_NAME":"superadmin","DEFAULT_REPLY_TO_EMAIL":"easietrucking@gmail.com","DEFAULT_REPLY_TO_NAME":"Easy Trucking","EMAIL_COLLECTION":"mail","EXT_INSTANCE_ID":"mailersend-email","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"databaseURL\":\"\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","LOCATION":"us-central1","PROJECT_ID":"trucking-app-3e473","STORAGE_BUCKET":"trucking-app-3e473.firebasestorage.app"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"eefc39ae-6aa2-4d4b-a6ea-23fade319b96","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"MAILERSEND_API_KEY","projectId":"483740693601","secret":"mailersend-email-MAILERSEND_API_KEY","version":"1"}],"buildName":"projects/483740693601/locations/us-central1/builds/eefc39ae-6aa2-4d4b-a6ea-23fade319b96","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"trucking-app-3e473@appspot.gserviceaccount.com","updateTime":"2025-09-03T02:56:48.274570155Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"e15cadd8950d7e647dddc31bb31966b3d700d1a5"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/99628053-96c4-40e4-9bd8-8d7ca088fd73.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com","satisfiesPzi":true}]}
[debug] [2025-09-03T18:17:19.399Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:19.399Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:19.399Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/trucking-app-3e473/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-09-03T18:17:19.891Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/trucking-app-3e473/locations/-/functions 200
[debug] [2025-09-03T18:17:19.891Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/trucking-app-3e473/locations/-/functions {}
[debug] [2025-09-03T18:17:19.895Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:19.895Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:19.895Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 [none]
[debug] [2025-09-03T18:17:20.242Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 200
[debug] [2025-09-03T18:17:20.242Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 {"projectNumber":"483740693601","projectId":"trucking-app-3e473","lifecycleState":"ACTIVE","name":"Trucking App","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-01T00:39:08.067334Z"}
[debug] [2025-09-03T18:17:20.243Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:20.243Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:20.244Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-09-03T18:17:20.244Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl {}
[debug] [2025-09-03T18:17:20.945Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-09-03T18:17:20.945Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/87349298-0f18-4e5f-b50a-04db8df503cd.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925240&Signature=oqGt9mptHxZ0PirqczEcNRf%2Fz0fuIl9g5LBvk7dDM%2BDHjDAowkfBNcI%2F%2FjIDsKeVC0Mq%2FQ9Fvq1YR6KGLf40WAP8uXHbglF16LJqErVDpulJsEJ9%2B9hNajQ%2B9%2Fqh1fGgFX6kxcBQbTEUTnhDws0IGBN2UYJVKpjo3lwTWmeeKnExSUptI7k1Mu6Fo0C3EFWoyciula6l7X9%2FlNlEJM3IrrXFL0cgIpPrBXqeqkHab6yHAuoUpxn21RzQ4NQcQskPlk2cd%2BofX%2Fz7AvMfrUmhFaq0ANuSKVwZoF6NTZh%2FCcWhL7pnginWJwHA5pKlzpismpLwgL1UKH3todFDSjLtPg%3D%3D"}
[debug] [2025-09-03T18:17:20.947Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/87349298-0f18-4e5f-b50a-04db8df503cd.zip GoogleAccessId=service-483740693601%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925240&Signature=oqGt9mptHxZ0PirqczEcNRf%2Fz0fuIl9g5LBvk7dDM%2BDHjDAowkfBNcI%2F%2FjIDsKeVC0Mq%2FQ9Fvq1YR6KGLf40WAP8uXHbglF16LJqErVDpulJsEJ9%2B9hNajQ%2B9%2Fqh1fGgFX6kxcBQbTEUTnhDws0IGBN2UYJVKpjo3lwTWmeeKnExSUptI7k1Mu6Fo0C3EFWoyciula6l7X9%2FlNlEJM3IrrXFL0cgIpPrBXqeqkHab6yHAuoUpxn21RzQ4NQcQskPlk2cd%2BofX%2Fz7AvMfrUmhFaq0ANuSKVwZoF6NTZh%2FCcWhL7pnginWJwHA5pKlzpismpLwgL1UKH3todFDSjLtPg%3D%3D
[debug] [2025-09-03T18:17:20.947Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/87349298-0f18-4e5f-b50a-04db8df503cd.zip [stream]
[debug] [2025-09-03T18:17:22.155Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/87349298-0f18-4e5f-b50a-04db8df503cd.zip 200
[debug] [2025-09-03T18:17:22.155Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/87349298-0f18-4e5f-b50a-04db8df503cd.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (1st Gen) function sendInviteEmail(us-central1)... 
[debug] [2025-09-03T18:17:22.160Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:22.160Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:22.160Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-09-03T18:17:22.160Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail {"name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/87349298-0f18-4e5f-b50a-04db8df503cd.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925240&Signature=oqGt9mptHxZ0PirqczEcNRf%2Fz0fuIl9g5LBvk7dDM%2BDHjDAowkfBNcI%2F%2FjIDsKeVC0Mq%2FQ9Fvq1YR6KGLf40WAP8uXHbglF16LJqErVDpulJsEJ9%2B9hNajQ%2B9%2Fqh1fGgFX6kxcBQbTEUTnhDws0IGBN2UYJVKpjo3lwTWmeeKnExSUptI7k1Mu6Fo0C3EFWoyciula6l7X9%2FlNlEJM3IrrXFL0cgIpPrBXqeqkHab6yHAuoUpxn21RzQ4NQcQskPlk2cd%2BofX%2Fz7AvMfrUmhFaq0ANuSKVwZoF6NTZh%2FCcWhL7pnginWJwHA5pKlzpismpLwgL1UKH3todFDSjLtPg%3D%3D","entryPoint":"sendInviteEmail","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"c4feefad092a25180646e080b42cd3f145e5203c"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-09-03T18:17:22.669Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail 200
[debug] [2025-09-03T18:17:22.670Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"c4feefad092a25180646e080b42cd3f145e5203c"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/87349298-0f18-4e5f-b50a-04db8df503cd.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925240&Signature=oqGt9mptHxZ0PirqczEcNRf%2Fz0fuIl9g5LBvk7dDM%2BDHjDAowkfBNcI%2F%2FjIDsKeVC0Mq%2FQ9Fvq1YR6KGLf40WAP8uXHbglF16LJqErVDpulJsEJ9%2B9hNajQ%2B9%2Fqh1fGgFX6kxcBQbTEUTnhDws0IGBN2UYJVKpjo3lwTWmeeKnExSUptI7k1Mu6Fo0C3EFWoyciula6l7X9%2FlNlEJM3IrrXFL0cgIpPrBXqeqkHab6yHAuoUpxn21RzQ4NQcQskPlk2cd%2BofX%2Fz7AvMfrUmhFaq0ANuSKVwZoF6NTZh%2FCcWhL7pnginWJwHA5pKlzpismpLwgL1UKH3todFDSjLtPg%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"3","updateTime":"2025-09-03T18:17:22Z"}}
[debug] [2025-09-03T18:17:22.670Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:22.670Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:22.671Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ [none]
[debug] [2025-09-03T18:17:22.901Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ 200
[debug] [2025-09-03T18:17:22.902Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"c4feefad092a25180646e080b42cd3f145e5203c"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/87349298-0f18-4e5f-b50a-04db8df503cd.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925240&Signature=oqGt9mptHxZ0PirqczEcNRf%2Fz0fuIl9g5LBvk7dDM%2BDHjDAowkfBNcI%2F%2FjIDsKeVC0Mq%2FQ9Fvq1YR6KGLf40WAP8uXHbglF16LJqErVDpulJsEJ9%2B9hNajQ%2B9%2Fqh1fGgFX6kxcBQbTEUTnhDws0IGBN2UYJVKpjo3lwTWmeeKnExSUptI7k1Mu6Fo0C3EFWoyciula6l7X9%2FlNlEJM3IrrXFL0cgIpPrBXqeqkHab6yHAuoUpxn21RzQ4NQcQskPlk2cd%2BofX%2Fz7AvMfrUmhFaq0ANuSKVwZoF6NTZh%2FCcWhL7pnginWJwHA5pKlzpismpLwgL1UKH3todFDSjLtPg%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"3","updateTime":"2025-09-03T18:17:22Z"}}
[debug] [2025-09-03T18:17:23.402Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:17:23.403Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:23.403Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:23.403Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ [none]
[debug] [2025-09-03T18:17:23.597Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ 200
[debug] [2025-09-03T18:17:23.597Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"c4feefad092a25180646e080b42cd3f145e5203c"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/87349298-0f18-4e5f-b50a-04db8df503cd.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925240&Signature=oqGt9mptHxZ0PirqczEcNRf%2Fz0fuIl9g5LBvk7dDM%2BDHjDAowkfBNcI%2F%2FjIDsKeVC0Mq%2FQ9Fvq1YR6KGLf40WAP8uXHbglF16LJqErVDpulJsEJ9%2B9hNajQ%2B9%2Fqh1fGgFX6kxcBQbTEUTnhDws0IGBN2UYJVKpjo3lwTWmeeKnExSUptI7k1Mu6Fo0C3EFWoyciula6l7X9%2FlNlEJM3IrrXFL0cgIpPrBXqeqkHab6yHAuoUpxn21RzQ4NQcQskPlk2cd%2BofX%2Fz7AvMfrUmhFaq0ANuSKVwZoF6NTZh%2FCcWhL7pnginWJwHA5pKlzpismpLwgL1UKH3todFDSjLtPg%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"3","updateTime":"2025-09-03T18:17:22Z"}}
[debug] [2025-09-03T18:17:24.598Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:17:24.598Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:24.598Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:24.598Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ [none]
[debug] [2025-09-03T18:17:24.867Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ 200
[debug] [2025-09-03T18:17:24.867Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"c4feefad092a25180646e080b42cd3f145e5203c"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/87349298-0f18-4e5f-b50a-04db8df503cd.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925240&Signature=oqGt9mptHxZ0PirqczEcNRf%2Fz0fuIl9g5LBvk7dDM%2BDHjDAowkfBNcI%2F%2FjIDsKeVC0Mq%2FQ9Fvq1YR6KGLf40WAP8uXHbglF16LJqErVDpulJsEJ9%2B9hNajQ%2B9%2Fqh1fGgFX6kxcBQbTEUTnhDws0IGBN2UYJVKpjo3lwTWmeeKnExSUptI7k1Mu6Fo0C3EFWoyciula6l7X9%2FlNlEJM3IrrXFL0cgIpPrBXqeqkHab6yHAuoUpxn21RzQ4NQcQskPlk2cd%2BofX%2Fz7AvMfrUmhFaq0ANuSKVwZoF6NTZh%2FCcWhL7pnginWJwHA5pKlzpismpLwgL1UKH3todFDSjLtPg%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"3","updateTime":"2025-09-03T18:17:22Z","buildId":"5b0ab28c-393f-41c3-8ff4-54b9cdd6ba63","buildName":"projects/483740693601/locations/us-central1/builds/5b0ab28c-393f-41c3-8ff4-54b9cdd6ba63"}}
[debug] [2025-09-03T18:17:26.868Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:17:26.868Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:26.868Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:26.868Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ [none]
[debug] [2025-09-03T18:17:27.060Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ 200
[debug] [2025-09-03T18:17:27.060Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"c4feefad092a25180646e080b42cd3f145e5203c"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/87349298-0f18-4e5f-b50a-04db8df503cd.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925240&Signature=oqGt9mptHxZ0PirqczEcNRf%2Fz0fuIl9g5LBvk7dDM%2BDHjDAowkfBNcI%2F%2FjIDsKeVC0Mq%2FQ9Fvq1YR6KGLf40WAP8uXHbglF16LJqErVDpulJsEJ9%2B9hNajQ%2B9%2Fqh1fGgFX6kxcBQbTEUTnhDws0IGBN2UYJVKpjo3lwTWmeeKnExSUptI7k1Mu6Fo0C3EFWoyciula6l7X9%2FlNlEJM3IrrXFL0cgIpPrBXqeqkHab6yHAuoUpxn21RzQ4NQcQskPlk2cd%2BofX%2Fz7AvMfrUmhFaq0ANuSKVwZoF6NTZh%2FCcWhL7pnginWJwHA5pKlzpismpLwgL1UKH3todFDSjLtPg%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"3","updateTime":"2025-09-03T18:17:22Z","buildId":"5b0ab28c-393f-41c3-8ff4-54b9cdd6ba63","buildName":"projects/483740693601/locations/us-central1/builds/5b0ab28c-393f-41c3-8ff4-54b9cdd6ba63"}}
[debug] [2025-09-03T18:17:31.061Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:17:31.062Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:31.062Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:31.062Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ [none]
[debug] [2025-09-03T18:17:31.262Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ 200
[debug] [2025-09-03T18:17:31.262Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"c4feefad092a25180646e080b42cd3f145e5203c"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/87349298-0f18-4e5f-b50a-04db8df503cd.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925240&Signature=oqGt9mptHxZ0PirqczEcNRf%2Fz0fuIl9g5LBvk7dDM%2BDHjDAowkfBNcI%2F%2FjIDsKeVC0Mq%2FQ9Fvq1YR6KGLf40WAP8uXHbglF16LJqErVDpulJsEJ9%2B9hNajQ%2B9%2Fqh1fGgFX6kxcBQbTEUTnhDws0IGBN2UYJVKpjo3lwTWmeeKnExSUptI7k1Mu6Fo0C3EFWoyciula6l7X9%2FlNlEJM3IrrXFL0cgIpPrBXqeqkHab6yHAuoUpxn21RzQ4NQcQskPlk2cd%2BofX%2Fz7AvMfrUmhFaq0ANuSKVwZoF6NTZh%2FCcWhL7pnginWJwHA5pKlzpismpLwgL1UKH3todFDSjLtPg%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"3","updateTime":"2025-09-03T18:17:22Z","buildId":"5b0ab28c-393f-41c3-8ff4-54b9cdd6ba63","buildName":"projects/483740693601/locations/us-central1/builds/5b0ab28c-393f-41c3-8ff4-54b9cdd6ba63"}}
[debug] [2025-09-03T18:17:39.264Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:17:39.264Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:39.264Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:39.264Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ [none]
[debug] [2025-09-03T18:17:39.662Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ 200
[debug] [2025-09-03T18:17:39.662Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"c4feefad092a25180646e080b42cd3f145e5203c"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/87349298-0f18-4e5f-b50a-04db8df503cd.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925240&Signature=oqGt9mptHxZ0PirqczEcNRf%2Fz0fuIl9g5LBvk7dDM%2BDHjDAowkfBNcI%2F%2FjIDsKeVC0Mq%2FQ9Fvq1YR6KGLf40WAP8uXHbglF16LJqErVDpulJsEJ9%2B9hNajQ%2B9%2Fqh1fGgFX6kxcBQbTEUTnhDws0IGBN2UYJVKpjo3lwTWmeeKnExSUptI7k1Mu6Fo0C3EFWoyciula6l7X9%2FlNlEJM3IrrXFL0cgIpPrBXqeqkHab6yHAuoUpxn21RzQ4NQcQskPlk2cd%2BofX%2Fz7AvMfrUmhFaq0ANuSKVwZoF6NTZh%2FCcWhL7pnginWJwHA5pKlzpismpLwgL1UKH3todFDSjLtPg%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"3","updateTime":"2025-09-03T18:17:22Z","buildId":"5b0ab28c-393f-41c3-8ff4-54b9cdd6ba63","buildName":"projects/483740693601/locations/us-central1/builds/5b0ab28c-393f-41c3-8ff4-54b9cdd6ba63"}}
[debug] [2025-09-03T18:17:49.664Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:17:49.664Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:49.664Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:49.664Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ [none]
[debug] [2025-09-03T18:17:49.996Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ 200
[debug] [2025-09-03T18:17:49.996Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"c4feefad092a25180646e080b42cd3f145e5203c"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/87349298-0f18-4e5f-b50a-04db8df503cd.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925240&Signature=oqGt9mptHxZ0PirqczEcNRf%2Fz0fuIl9g5LBvk7dDM%2BDHjDAowkfBNcI%2F%2FjIDsKeVC0Mq%2FQ9Fvq1YR6KGLf40WAP8uXHbglF16LJqErVDpulJsEJ9%2B9hNajQ%2B9%2Fqh1fGgFX6kxcBQbTEUTnhDws0IGBN2UYJVKpjo3lwTWmeeKnExSUptI7k1Mu6Fo0C3EFWoyciula6l7X9%2FlNlEJM3IrrXFL0cgIpPrBXqeqkHab6yHAuoUpxn21RzQ4NQcQskPlk2cd%2BofX%2Fz7AvMfrUmhFaq0ANuSKVwZoF6NTZh%2FCcWhL7pnginWJwHA5pKlzpismpLwgL1UKH3todFDSjLtPg%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"3","updateTime":"2025-09-03T18:17:22Z","buildId":"5b0ab28c-393f-41c3-8ff4-54b9cdd6ba63","buildName":"projects/483740693601/locations/us-central1/builds/5b0ab28c-393f-41c3-8ff4-54b9cdd6ba63"}}
[debug] [2025-09-03T18:17:59.997Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:17:59.998Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:59.998Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:17:59.998Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ [none]
[debug] [2025-09-03T18:18:00.481Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ 200
[debug] [2025-09-03T18:18:00.481Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9IOXA2QVpVZ0c3TQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"c4feefad092a25180646e080b42cd3f145e5203c"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/87349298-0f18-4e5f-b50a-04db8df503cd.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925240&Signature=oqGt9mptHxZ0PirqczEcNRf%2Fz0fuIl9g5LBvk7dDM%2BDHjDAowkfBNcI%2F%2FjIDsKeVC0Mq%2FQ9Fvq1YR6KGLf40WAP8uXHbglF16LJqErVDpulJsEJ9%2B9hNajQ%2B9%2Fqh1fGgFX6kxcBQbTEUTnhDws0IGBN2UYJVKpjo3lwTWmeeKnExSUptI7k1Mu6Fo0C3EFWoyciula6l7X9%2FlNlEJM3IrrXFL0cgIpPrBXqeqkHab6yHAuoUpxn21RzQ4NQcQskPlk2cd%2BofX%2Fz7AvMfrUmhFaq0ANuSKVwZoF6NTZh%2FCcWhL7pnginWJwHA5pKlzpismpLwgL1UKH3todFDSjLtPg%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"3","updateTime":"2025-09-03T18:17:58Z","buildId":"5b0ab28c-393f-41c3-8ff4-54b9cdd6ba63","buildName":"projects/483740693601/locations/us-central1/builds/5b0ab28c-393f-41c3-8ff4-54b9cdd6ba63"},"done":true,"error":{"code":3,"message":"Build failed: npm error code ERESOLVE\nnpm error ERESOLVE could not resolve\nnpm error\nnpm error While resolving: firebase-functions@4.9.0\nnpm error Found: firebase-admin@13.5.0\nnpm error node_modules/firebase-admin\nnpm error   firebase-admin@\"^13.5.0\" from the root project\nnpm error   peer firebase-admin@\">5.12.0\" from firebase-functions-test@0.1.7\nnpm error   node_modules/firebase-functions-test\nnpm error     dev firebase-functions-test@\"^0.1.6\" from the root project\nnpm error\nnpm error Could not resolve dependency:\nnpm error peer firebase-admin@\"^10.0.0 || ^11.0.0 || ^12.0.0\" from firebase-functions@4.9.0\nnpm error node_modules/firebase-functions\nnpm error   firebase-functions@\"^4.4.1\" from the root project\nnpm error   peer firebase-functions@\">1.0.1\" from firebase-functions-test@0.1.7\nnpm error   node_modules/firebase-functions-test\nnpm error     dev firebase-functions-test@\"^0.1.6\" from the root project\nnpm error\nnpm error Conflicting peer dependency: firebase-admin@12.7.0\nnpm error node_modules/firebase-admin\nnpm error   peer firebase-admin@\"^10.0.0 || ^11.0.0 || ^12.0.0\" from firebase-functions@4.9.0\nnpm error   node_modules/firebase-functions\nnpm error     firebase-functions@\"^4.4.1\" from the root project\nnpm error     peer firebase-functions@\">1.0.1\" from firebase-functions-test@0.1.7\nnpm error     node_modules/firebase-functions-test\nnpm error       dev firebase-functions-test@\"^0.1.6\" from the root project\nnpm error\nnpm error Fix the upstream dependency conflict, or retry\nnpm error this command with --force or --legacy-peer-deps\nnpm error to accept an incorrect (and potentially broken) dependency resolution.\nnpm error\nnpm error\nnpm error For a full report see:\nnpm error /www-data-home/.npm/_logs/2025-09-03T18_17_49_075Z-eresolve-report.txt\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_17_49_075Z-debug-0.log; Error ID: 7fa33aaa"}}
[debug] [2025-09-03T18:18:00.482Z] Got source token undefined for region us-central1
[error] Build failed: npm error code ERESOLVE
npm error ERESOLVE could not resolve
npm error
npm error While resolving: firebase-functions@4.9.0
npm error Found: firebase-admin@13.5.0
npm error node_modules/firebase-admin
npm error   firebase-admin@"^13.5.0" from the root project
npm error   peer firebase-admin@">5.12.0" from firebase-functions-test@0.1.7
npm error   node_modules/firebase-functions-test
npm error     dev firebase-functions-test@"^0.1.6" from the root project
npm error
npm error Could not resolve dependency:
npm error peer firebase-admin@"^10.0.0 || ^11.0.0 || ^12.0.0" from firebase-functions@4.9.0
npm error node_modules/firebase-functions
npm error   firebase-functions@"^4.4.1" from the root project
npm error   peer firebase-functions@">1.0.1" from firebase-functions-test@0.1.7
npm error   node_modules/firebase-functions-test
npm error     dev firebase-functions-test@"^0.1.6" from the root project
npm error
npm error Conflicting peer dependency: firebase-admin@12.7.0
npm error node_modules/firebase-admin
npm error   peer firebase-admin@"^10.0.0 || ^11.0.0 || ^12.0.0" from firebase-functions@4.9.0
npm error   node_modules/firebase-functions
npm error     firebase-functions@"^4.4.1" from the root project
npm error     peer firebase-functions@">1.0.1" from firebase-functions-test@0.1.7
npm error     node_modules/firebase-functions-test
npm error       dev firebase-functions-test@"^0.1.6" from the root project
npm error
npm error Fix the upstream dependency conflict, or retry
npm error this command with --force or --legacy-peer-deps
npm error to accept an incorrect (and potentially broken) dependency resolution.
npm error
npm error
npm error For a full report see:
npm error /www-data-home/.npm/_logs/2025-09-03T18_17_49_075Z-eresolve-report.txt
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_17_49_075Z-debug-0.log; Error ID: 7fa33aaa
[debug] [2025-09-03T18:18:00.510Z] Total Function Deployment time: 38326
[debug] [2025-09-03T18:18:00.511Z] 1 Functions Deployed
[debug] [2025-09-03T18:18:00.511Z] 1 Functions Errored
[debug] [2025-09-03T18:18:00.513Z] 0 Function Deployments Aborted
[debug] [2025-09-03T18:18:00.513Z] Average Function Deployment time: 38326
[info] 
[info] Functions deploy had errors with the following functions:
	sendInviteEmail(us-central1)
[debug] [2025-09-03T18:18:00.887Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:18:00.887Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:18:00.887Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-09-03T18:18:01.557Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-09-03T18:18:01.557Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts {"name":"projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-09-02T23:34:29.347346Z","updateTime":"2025-09-03T02:57:15.262652Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"sizeBytes":"535653920","vulnerabilityScanningConfig":{"lastEnableTime":"2025-09-02T23:34:14.605559835Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/trucking-app-3e473/gcf-artifacts"}
[debug] [2025-09-03T18:18:01.558Z] Functions deploy failed.
[debug] [2025-09-03T18:18:01.558Z] {
  "endpoint": {
    "id": "sendInviteEmail",
    "project": "trucking-app-3e473",
    "region": "us-central1",
    "entryPoint": "sendInviteEmail",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "EMAIL_USER": "easietrucking@gmail.com",
      "EMAIL_PASS": "EasieTrucking",
      "FIREBASE_CONFIG": "{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "trucking-app-3e473",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "c4feefad092a25180646e080b42cd3f145e5203c"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm error code ERESOLVE\nnpm error ERESOLVE could not resolve\nnpm error\nnpm error While resolving: firebase-functions@4.9.0\nnpm error Found: firebase-admin@13.5.0\nnpm error node_modules/firebase-admin\nnpm error   firebase-admin@\"^13.5.0\" from the root project\nnpm error   peer firebase-admin@\">5.12.0\" from firebase-functions-test@0.1.7\nnpm error   node_modules/firebase-functions-test\nnpm error     dev firebase-functions-test@\"^0.1.6\" from the root project\nnpm error\nnpm error Could not resolve dependency:\nnpm error peer firebase-admin@\"^10.0.0 || ^11.0.0 || ^12.0.0\" from firebase-functions@4.9.0\nnpm error node_modules/firebase-functions\nnpm error   firebase-functions@\"^4.4.1\" from the root project\nnpm error   peer firebase-functions@\">1.0.1\" from firebase-functions-test@0.1.7\nnpm error   node_modules/firebase-functions-test\nnpm error     dev firebase-functions-test@\"^0.1.6\" from the root project\nnpm error\nnpm error Conflicting peer dependency: firebase-admin@12.7.0\nnpm error node_modules/firebase-admin\nnpm error   peer firebase-admin@\"^10.0.0 || ^11.0.0 || ^12.0.0\" from firebase-functions@4.9.0\nnpm error   node_modules/firebase-functions\nnpm error     firebase-functions@\"^4.4.1\" from the root project\nnpm error     peer firebase-functions@\">1.0.1\" from firebase-functions-test@0.1.7\nnpm error     node_modules/firebase-functions-test\nnpm error       dev firebase-functions-test@\"^0.1.6\" from the root project\nnpm error\nnpm error Fix the upstream dependency conflict, or retry\nnpm error this command with --force or --legacy-peer-deps\nnpm error to accept an incorrect (and potentially broken) dependency resolution.\nnpm error\nnpm error\nnpm error For a full report see:\nnpm error /www-data-home/.npm/_logs/2025-09-03T18_17_49_075Z-eresolve-report.txt\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_17_49_075Z-debug-0.log; Error ID: 7fa33aaa",
    "original": {
      "code": 3,
      "message": "Build failed: npm error code ERESOLVE\nnpm error ERESOLVE could not resolve\nnpm error\nnpm error While resolving: firebase-functions@4.9.0\nnpm error Found: firebase-admin@13.5.0\nnpm error node_modules/firebase-admin\nnpm error   firebase-admin@\"^13.5.0\" from the root project\nnpm error   peer firebase-admin@\">5.12.0\" from firebase-functions-test@0.1.7\nnpm error   node_modules/firebase-functions-test\nnpm error     dev firebase-functions-test@\"^0.1.6\" from the root project\nnpm error\nnpm error Could not resolve dependency:\nnpm error peer firebase-admin@\"^10.0.0 || ^11.0.0 || ^12.0.0\" from firebase-functions@4.9.0\nnpm error node_modules/firebase-functions\nnpm error   firebase-functions@\"^4.4.1\" from the root project\nnpm error   peer firebase-functions@\">1.0.1\" from firebase-functions-test@0.1.7\nnpm error   node_modules/firebase-functions-test\nnpm error     dev firebase-functions-test@\"^0.1.6\" from the root project\nnpm error\nnpm error Conflicting peer dependency: firebase-admin@12.7.0\nnpm error node_modules/firebase-admin\nnpm error   peer firebase-admin@\"^10.0.0 || ^11.0.0 || ^12.0.0\" from firebase-functions@4.9.0\nnpm error   node_modules/firebase-functions\nnpm error     firebase-functions@\"^4.4.1\" from the root project\nnpm error     peer firebase-functions@\">1.0.1\" from firebase-functions-test@0.1.7\nnpm error     node_modules/firebase-functions-test\nnpm error       dev firebase-functions-test@\"^0.1.6\" from the root project\nnpm error\nnpm error Fix the upstream dependency conflict, or retry\nnpm error this command with --force or --legacy-peer-deps\nnpm error to accept an incorrect (and potentially broken) dependency resolution.\nnpm error\nnpm error\nnpm error For a full report see:\nnpm error /www-data-home/.npm/_logs/2025-09-03T18_17_49_075Z-eresolve-report.txt\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_17_49_075Z-debug-0.log; Error ID: 7fa33aaa"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-09-03T18:18:01.663Z] Error: Failed to update function sendInviteEmail in region us-central1
    at /Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:52:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV1Function (/Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:364:32)
    at async Fabricator.updateEndpoint (/Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:157:13)
    at async handle (/Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-09-03T18:20:22.442Z] ----------------------------------------------------------------------
[debug] [2025-09-03T18:20:22.447Z] Command:       /Users/hardeep/.nvm/versions/node/v20.19.4/bin/node /Users/hardeep/.nvm/versions/node/v20.19.4/bin/firebase deploy --only functions
[debug] [2025-09-03T18:20:22.447Z] CLI Version:   14.15.1
[debug] [2025-09-03T18:20:22.447Z] Platform:      darwin
[debug] [2025-09-03T18:20:22.448Z] Node Version:  v20.19.4
[debug] [2025-09-03T18:20:22.448Z] Time:          Wed Sep 03 2025 11:20:22 GMT-0700 (Pacific Daylight Time)
[debug] [2025-09-03T18:20:22.448Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-03T18:20:22.723Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-03T18:20:22.723Z] > authorizing via signed-in user (easietrucking@gmail.com)
[debug] [2025-09-03T18:20:22.724Z] [iam] checking project trucking-app-3e473 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-09-03T18:20:22.725Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:22.725Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:22.726Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions [none]
[debug] [2025-09-03T18:20:22.727Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions x-goog-quota-user=projects/trucking-app-3e473
[debug] [2025-09-03T18:20:22.727Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-03T18:20:23.197Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions 200
[debug] [2025-09-03T18:20:23.198Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-03T18:20:23.198Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:23.198Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:23.198Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-09-03T18:20:23.198Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-09-03T18:20:23.669Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-09-03T18:20:23.669Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'trucking-app-3e473'...
[info] 
[info] i  deploying functions 
[debug] [2025-09-03T18:20:23.673Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:23.673Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:23.673Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 [none]
[debug] [2025-09-03T18:20:23.847Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 200
[debug] [2025-09-03T18:20:23.847Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 {"projectNumber":"483740693601","projectId":"trucking-app-3e473","lifecycleState":"ACTIVE","name":"Trucking App","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-01T00:39:08.067334Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-09-03T18:20:23.849Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:23.849Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:23.849Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/trucking-app-3e473/adminSdkConfig [none]
[debug] [2025-09-03T18:20:24.415Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/trucking-app-3e473/adminSdkConfig 200
[debug] [2025-09-03T18:20:24.415Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/trucking-app-3e473/adminSdkConfig {"projectId":"trucking-app-3e473","storageBucket":"trucking-app-3e473.firebasestorage.app"}
[debug] [2025-09-03T18:20:24.416Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:24.416Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:24.416Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs [none]
[debug] [2025-09-03T18:20:24.872Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs 200
[debug] [2025-09-03T18:20:24.873Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs {"configs":[{"name":"projects/trucking-app-3e473/configs/email"}]}
[debug] [2025-09-03T18:20:24.873Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:24.873Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:24.873Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables [none]
[debug] [2025-09-03T18:20:25.056Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables 200
[debug] [2025-09-03T18:20:25.056Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables {"variables":[{"name":"projects/trucking-app-3e473/configs/email/variables/user","updateTime":"2025-09-03T00:38:20.168701835Z"},{"name":"projects/trucking-app-3e473/configs/email/variables/pass","updateTime":"2025-09-03T00:38:20.869548678Z"}]}
[debug] [2025-09-03T18:20:25.056Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:25.056Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:25.056Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:25.056Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:25.056Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/user [none]
[debug] [2025-09-03T18:20:25.057Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/pass [none]
[debug] [2025-09-03T18:20:25.217Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/user 200
[debug] [2025-09-03T18:20:25.217Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/user {"name":"projects/trucking-app-3e473/configs/email/variables/user","updateTime":"2025-09-03T00:38:20.168701835Z","text":"easietrucking@gmail.com"}
[debug] [2025-09-03T18:20:25.380Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/pass 200
[debug] [2025-09-03T18:20:25.380Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/pass {"name":"projects/trucking-app-3e473/configs/email/variables/pass","updateTime":"2025-09-03T00:38:20.869548678Z","text":"EasieTrucking#88"}
[debug] [2025-09-03T18:20:25.381Z] Validating nodejs source
[warn] ⚠  functions: Runtime Node.js 18 was deprecated on 2025-04-30 and will be decommissioned on 2025-10-30, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-09-03T18:20:26.436Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "dependencies": {
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^4.4.1",
    "firebase-functions-test": "^0.4.0",
    "firebase-tools": "^14.15.1",
    "nodemailer": "^7.0.6"
  },
  "devDependencies": {
    "eslint": "^5.12.0",
    "eslint-plugin-promise": "^4.0.1",
    "firebase-functions-test": "^0.1.6"
  },
  "private": true
}
[debug] [2025-09-03T18:20:26.436Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-09-03T18:20:26.437Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-09-03T18:20:26.457Z] Found firebase-functions binary at '/Users/hardeep/Personal_workspace/trucking-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8438

[debug] [2025-09-03T18:20:27.834Z] Got response from /__/functions.yaml {"endpoints":{"sendInviteEmail":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"sendInviteEmail"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/hardeep/Personal_workspace/trucking-app/functions (124.63 KB) for uploading 
[debug] [2025-09-03T18:20:31.948Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:31.948Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:31.948Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/-/functions [none]
[debug] [2025-09-03T18:20:32.615Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/-/functions 200
[debug] [2025-09-03T18:20:32.616Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/-/functions {"functions":[{"name":"projects/trucking-app-3e473/locations/us-central1/functions/ext-mailersend-email-processDocumentCreated","description":"Processes created document in Cloud Firestore collection, sends an email and updates status information.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/822cf1fda144b2655c5d69be067044e6655801a548b1ea3b55e66bf4aa6d3937","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/trucking-app-3e473/databases/(default)/documents/mail/{documentId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"processDocumentCreated","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-mailersend-email@trucking-app-3e473.iam.gserviceaccount.com","updateTime":"2025-09-03T00:20:15.645Z","versionId":"2","labels":{"goog-firebase-ext-iid":"mailersend-email","firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-mailersend-email","goog-firebase-ext":"mailersend-email","deployment-tool":"firebase-extensions"},"environmentVariables":{"DATABASE_INSTANCE":"","DATABASE_URL":"","DEFAULT_FROM_EMAIL":"easietrucking@gmail.com","DEFAULT_FROM_NAME":"superadmin","DEFAULT_REPLY_TO_EMAIL":"easietrucking@gmail.com","DEFAULT_REPLY_TO_NAME":"Easy Trucking","EMAIL_COLLECTION":"mail","EXT_INSTANCE_ID":"mailersend-email","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"databaseURL\":\"\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","LOCATION":"us-central1","PROJECT_ID":"trucking-app-3e473","STORAGE_BUCKET":"trucking-app-3e473.firebasestorage.app"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"eefc39ae-6aa2-4d4b-a6ea-23fade319b96","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"MAILERSEND_API_KEY","projectId":"483740693601","secret":"mailersend-email-MAILERSEND_API_KEY","version":"1"}],"buildName":"projects/483740693601/locations/us-central1/builds/eefc39ae-6aa2-4d4b-a6ea-23fade319b96","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"trucking-app-3e473@appspot.gserviceaccount.com","updateTime":"2025-09-03T02:56:48.274570155Z","versionId":"1","labels":{"deployment-callable":"true","firebase-functions-hash":"e15cadd8950d7e647dddc31bb31966b3d700d1a5","deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/99628053-96c4-40e4-9bd8-8d7ca088fd73.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com","satisfiesPzi":true}]}
[debug] [2025-09-03T18:20:32.617Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:32.617Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:32.617Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/trucking-app-3e473/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-09-03T18:20:33.186Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/trucking-app-3e473/locations/-/functions 200
[debug] [2025-09-03T18:20:33.186Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/trucking-app-3e473/locations/-/functions {}
[debug] [2025-09-03T18:20:33.191Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:33.191Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:33.191Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 [none]
[debug] [2025-09-03T18:20:33.557Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 200
[debug] [2025-09-03T18:20:33.557Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 {"projectNumber":"483740693601","projectId":"trucking-app-3e473","lifecycleState":"ACTIVE","name":"Trucking App","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-01T00:39:08.067334Z"}
[debug] [2025-09-03T18:20:33.559Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:33.559Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:33.559Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-09-03T18:20:33.560Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl {}
[debug] [2025-09-03T18:20:34.159Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-09-03T18:20:34.159Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/e56c4258-7093-4f4c-a53a-45bd4f03b5d2.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925434&Signature=H7wn%2FbdY0qGD9f%2FU%2BSXV0NdJjsSxIKh4Qg6Xa1bQJ%2FvnEMseKUAIaHZHpJOgbkPRdSn91OrWzEleHWLfm9Ri6El97mEiCzofmXrMl6yK8tqA8KRdDmv0zrl2oG9rUXFuygaJRFI59pyf%2BlIWnQjC0U6tbUBq1%2FIuSnZjT5sD8xXJaktC3QT7ejlxwocViP2vkp92TX%2Beoy6%2F8oSylcJOPyhUIchk5GoKuxMLwhXIHDB6plOA2Q5i%2BoIhv4%2Fz7Dgs61xsxqTWrklhgj9%2FTMBDzL8DEdvBEK9dP%2BnYR7CVIgds7ZWPXKoHkVTgnVIKaSPTEK0z0doFcEHPs%2BX6zf%2FrnA%3D%3D"}
[debug] [2025-09-03T18:20:34.161Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/e56c4258-7093-4f4c-a53a-45bd4f03b5d2.zip GoogleAccessId=service-483740693601%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925434&Signature=H7wn%2FbdY0qGD9f%2FU%2BSXV0NdJjsSxIKh4Qg6Xa1bQJ%2FvnEMseKUAIaHZHpJOgbkPRdSn91OrWzEleHWLfm9Ri6El97mEiCzofmXrMl6yK8tqA8KRdDmv0zrl2oG9rUXFuygaJRFI59pyf%2BlIWnQjC0U6tbUBq1%2FIuSnZjT5sD8xXJaktC3QT7ejlxwocViP2vkp92TX%2Beoy6%2F8oSylcJOPyhUIchk5GoKuxMLwhXIHDB6plOA2Q5i%2BoIhv4%2Fz7Dgs61xsxqTWrklhgj9%2FTMBDzL8DEdvBEK9dP%2BnYR7CVIgds7ZWPXKoHkVTgnVIKaSPTEK0z0doFcEHPs%2BX6zf%2FrnA%3D%3D
[debug] [2025-09-03T18:20:34.162Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/e56c4258-7093-4f4c-a53a-45bd4f03b5d2.zip [stream]
[debug] [2025-09-03T18:20:34.774Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/e56c4258-7093-4f4c-a53a-45bd4f03b5d2.zip 200
[debug] [2025-09-03T18:20:34.774Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/e56c4258-7093-4f4c-a53a-45bd4f03b5d2.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (1st Gen) function sendInviteEmail(us-central1)... 
[debug] [2025-09-03T18:20:34.782Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:34.782Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:34.783Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-09-03T18:20:34.783Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail {"name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/e56c4258-7093-4f4c-a53a-45bd4f03b5d2.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925434&Signature=H7wn%2FbdY0qGD9f%2FU%2BSXV0NdJjsSxIKh4Qg6Xa1bQJ%2FvnEMseKUAIaHZHpJOgbkPRdSn91OrWzEleHWLfm9Ri6El97mEiCzofmXrMl6yK8tqA8KRdDmv0zrl2oG9rUXFuygaJRFI59pyf%2BlIWnQjC0U6tbUBq1%2FIuSnZjT5sD8xXJaktC3QT7ejlxwocViP2vkp92TX%2Beoy6%2F8oSylcJOPyhUIchk5GoKuxMLwhXIHDB6plOA2Q5i%2BoIhv4%2Fz7Dgs61xsxqTWrklhgj9%2FTMBDzL8DEdvBEK9dP%2BnYR7CVIgds7ZWPXKoHkVTgnVIKaSPTEK0z0doFcEHPs%2BX6zf%2FrnA%3D%3D","entryPoint":"sendInviteEmail","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"364143b8f0a1e956822ad5835768e1452d568c61"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-09-03T18:20:35.242Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail 200
[debug] [2025-09-03T18:20:35.242Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"364143b8f0a1e956822ad5835768e1452d568c61"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/e56c4258-7093-4f4c-a53a-45bd4f03b5d2.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925434&Signature=H7wn%2FbdY0qGD9f%2FU%2BSXV0NdJjsSxIKh4Qg6Xa1bQJ%2FvnEMseKUAIaHZHpJOgbkPRdSn91OrWzEleHWLfm9Ri6El97mEiCzofmXrMl6yK8tqA8KRdDmv0zrl2oG9rUXFuygaJRFI59pyf%2BlIWnQjC0U6tbUBq1%2FIuSnZjT5sD8xXJaktC3QT7ejlxwocViP2vkp92TX%2Beoy6%2F8oSylcJOPyhUIchk5GoKuxMLwhXIHDB6plOA2Q5i%2BoIhv4%2Fz7Dgs61xsxqTWrklhgj9%2FTMBDzL8DEdvBEK9dP%2BnYR7CVIgds7ZWPXKoHkVTgnVIKaSPTEK0z0doFcEHPs%2BX6zf%2FrnA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"4","updateTime":"2025-09-03T18:20:35Z"}}
[debug] [2025-09-03T18:20:35.243Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:35.243Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:35.243Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ [none]
[debug] [2025-09-03T18:20:35.433Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ 200
[debug] [2025-09-03T18:20:35.433Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"364143b8f0a1e956822ad5835768e1452d568c61"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/e56c4258-7093-4f4c-a53a-45bd4f03b5d2.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925434&Signature=H7wn%2FbdY0qGD9f%2FU%2BSXV0NdJjsSxIKh4Qg6Xa1bQJ%2FvnEMseKUAIaHZHpJOgbkPRdSn91OrWzEleHWLfm9Ri6El97mEiCzofmXrMl6yK8tqA8KRdDmv0zrl2oG9rUXFuygaJRFI59pyf%2BlIWnQjC0U6tbUBq1%2FIuSnZjT5sD8xXJaktC3QT7ejlxwocViP2vkp92TX%2Beoy6%2F8oSylcJOPyhUIchk5GoKuxMLwhXIHDB6plOA2Q5i%2BoIhv4%2Fz7Dgs61xsxqTWrklhgj9%2FTMBDzL8DEdvBEK9dP%2BnYR7CVIgds7ZWPXKoHkVTgnVIKaSPTEK0z0doFcEHPs%2BX6zf%2FrnA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"4","updateTime":"2025-09-03T18:20:35Z"}}
[debug] [2025-09-03T18:20:35.943Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:20:35.944Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:35.944Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:35.944Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ [none]
[debug] [2025-09-03T18:20:36.109Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ 200
[debug] [2025-09-03T18:20:36.109Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"364143b8f0a1e956822ad5835768e1452d568c61"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/e56c4258-7093-4f4c-a53a-45bd4f03b5d2.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925434&Signature=H7wn%2FbdY0qGD9f%2FU%2BSXV0NdJjsSxIKh4Qg6Xa1bQJ%2FvnEMseKUAIaHZHpJOgbkPRdSn91OrWzEleHWLfm9Ri6El97mEiCzofmXrMl6yK8tqA8KRdDmv0zrl2oG9rUXFuygaJRFI59pyf%2BlIWnQjC0U6tbUBq1%2FIuSnZjT5sD8xXJaktC3QT7ejlxwocViP2vkp92TX%2Beoy6%2F8oSylcJOPyhUIchk5GoKuxMLwhXIHDB6plOA2Q5i%2BoIhv4%2Fz7Dgs61xsxqTWrklhgj9%2FTMBDzL8DEdvBEK9dP%2BnYR7CVIgds7ZWPXKoHkVTgnVIKaSPTEK0z0doFcEHPs%2BX6zf%2FrnA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"4","updateTime":"2025-09-03T18:20:35Z","buildId":"c7a69d38-929b-4c4a-936b-dcfda8512987","buildName":"projects/483740693601/locations/us-central1/builds/c7a69d38-929b-4c4a-936b-dcfda8512987"}}
[debug] [2025-09-03T18:20:37.109Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:20:37.109Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:37.109Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:37.110Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ [none]
[debug] [2025-09-03T18:20:37.313Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ 200
[debug] [2025-09-03T18:20:37.313Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"364143b8f0a1e956822ad5835768e1452d568c61"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/e56c4258-7093-4f4c-a53a-45bd4f03b5d2.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925434&Signature=H7wn%2FbdY0qGD9f%2FU%2BSXV0NdJjsSxIKh4Qg6Xa1bQJ%2FvnEMseKUAIaHZHpJOgbkPRdSn91OrWzEleHWLfm9Ri6El97mEiCzofmXrMl6yK8tqA8KRdDmv0zrl2oG9rUXFuygaJRFI59pyf%2BlIWnQjC0U6tbUBq1%2FIuSnZjT5sD8xXJaktC3QT7ejlxwocViP2vkp92TX%2Beoy6%2F8oSylcJOPyhUIchk5GoKuxMLwhXIHDB6plOA2Q5i%2BoIhv4%2Fz7Dgs61xsxqTWrklhgj9%2FTMBDzL8DEdvBEK9dP%2BnYR7CVIgds7ZWPXKoHkVTgnVIKaSPTEK0z0doFcEHPs%2BX6zf%2FrnA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"4","updateTime":"2025-09-03T18:20:35Z","buildId":"c7a69d38-929b-4c4a-936b-dcfda8512987","buildName":"projects/483740693601/locations/us-central1/builds/c7a69d38-929b-4c4a-936b-dcfda8512987"}}
[debug] [2025-09-03T18:20:39.313Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:20:39.313Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:39.313Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:39.313Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ [none]
[debug] [2025-09-03T18:20:39.549Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ 200
[debug] [2025-09-03T18:20:39.550Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"364143b8f0a1e956822ad5835768e1452d568c61"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/e56c4258-7093-4f4c-a53a-45bd4f03b5d2.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925434&Signature=H7wn%2FbdY0qGD9f%2FU%2BSXV0NdJjsSxIKh4Qg6Xa1bQJ%2FvnEMseKUAIaHZHpJOgbkPRdSn91OrWzEleHWLfm9Ri6El97mEiCzofmXrMl6yK8tqA8KRdDmv0zrl2oG9rUXFuygaJRFI59pyf%2BlIWnQjC0U6tbUBq1%2FIuSnZjT5sD8xXJaktC3QT7ejlxwocViP2vkp92TX%2Beoy6%2F8oSylcJOPyhUIchk5GoKuxMLwhXIHDB6plOA2Q5i%2BoIhv4%2Fz7Dgs61xsxqTWrklhgj9%2FTMBDzL8DEdvBEK9dP%2BnYR7CVIgds7ZWPXKoHkVTgnVIKaSPTEK0z0doFcEHPs%2BX6zf%2FrnA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"4","updateTime":"2025-09-03T18:20:35Z","buildId":"c7a69d38-929b-4c4a-936b-dcfda8512987","buildName":"projects/483740693601/locations/us-central1/builds/c7a69d38-929b-4c4a-936b-dcfda8512987"}}
[debug] [2025-09-03T18:20:43.551Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:20:43.551Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:43.551Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:43.551Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ [none]
[debug] [2025-09-03T18:20:43.715Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ 200
[debug] [2025-09-03T18:20:43.715Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"364143b8f0a1e956822ad5835768e1452d568c61"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/e56c4258-7093-4f4c-a53a-45bd4f03b5d2.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925434&Signature=H7wn%2FbdY0qGD9f%2FU%2BSXV0NdJjsSxIKh4Qg6Xa1bQJ%2FvnEMseKUAIaHZHpJOgbkPRdSn91OrWzEleHWLfm9Ri6El97mEiCzofmXrMl6yK8tqA8KRdDmv0zrl2oG9rUXFuygaJRFI59pyf%2BlIWnQjC0U6tbUBq1%2FIuSnZjT5sD8xXJaktC3QT7ejlxwocViP2vkp92TX%2Beoy6%2F8oSylcJOPyhUIchk5GoKuxMLwhXIHDB6plOA2Q5i%2BoIhv4%2Fz7Dgs61xsxqTWrklhgj9%2FTMBDzL8DEdvBEK9dP%2BnYR7CVIgds7ZWPXKoHkVTgnVIKaSPTEK0z0doFcEHPs%2BX6zf%2FrnA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"4","updateTime":"2025-09-03T18:20:35Z","buildId":"c7a69d38-929b-4c4a-936b-dcfda8512987","buildName":"projects/483740693601/locations/us-central1/builds/c7a69d38-929b-4c4a-936b-dcfda8512987"}}
[debug] [2025-09-03T18:20:51.715Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:20:51.715Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:51.715Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:20:51.715Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ [none]
[debug] [2025-09-03T18:20:52.066Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ 200
[debug] [2025-09-03T18:20:52.066Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"364143b8f0a1e956822ad5835768e1452d568c61"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/e56c4258-7093-4f4c-a53a-45bd4f03b5d2.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925434&Signature=H7wn%2FbdY0qGD9f%2FU%2BSXV0NdJjsSxIKh4Qg6Xa1bQJ%2FvnEMseKUAIaHZHpJOgbkPRdSn91OrWzEleHWLfm9Ri6El97mEiCzofmXrMl6yK8tqA8KRdDmv0zrl2oG9rUXFuygaJRFI59pyf%2BlIWnQjC0U6tbUBq1%2FIuSnZjT5sD8xXJaktC3QT7ejlxwocViP2vkp92TX%2Beoy6%2F8oSylcJOPyhUIchk5GoKuxMLwhXIHDB6plOA2Q5i%2BoIhv4%2Fz7Dgs61xsxqTWrklhgj9%2FTMBDzL8DEdvBEK9dP%2BnYR7CVIgds7ZWPXKoHkVTgnVIKaSPTEK0z0doFcEHPs%2BX6zf%2FrnA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"4","updateTime":"2025-09-03T18:20:35Z","buildId":"c7a69d38-929b-4c4a-936b-dcfda8512987","buildName":"projects/483740693601/locations/us-central1/builds/c7a69d38-929b-4c4a-936b-dcfda8512987"}}
[debug] [2025-09-03T18:21:02.067Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:21:02.068Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:21:02.068Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:21:02.068Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ [none]
[debug] [2025-09-03T18:21:02.420Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ 200
[debug] [2025-09-03T18:21:02.420Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"364143b8f0a1e956822ad5835768e1452d568c61"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/e56c4258-7093-4f4c-a53a-45bd4f03b5d2.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925434&Signature=H7wn%2FbdY0qGD9f%2FU%2BSXV0NdJjsSxIKh4Qg6Xa1bQJ%2FvnEMseKUAIaHZHpJOgbkPRdSn91OrWzEleHWLfm9Ri6El97mEiCzofmXrMl6yK8tqA8KRdDmv0zrl2oG9rUXFuygaJRFI59pyf%2BlIWnQjC0U6tbUBq1%2FIuSnZjT5sD8xXJaktC3QT7ejlxwocViP2vkp92TX%2Beoy6%2F8oSylcJOPyhUIchk5GoKuxMLwhXIHDB6plOA2Q5i%2BoIhv4%2Fz7Dgs61xsxqTWrklhgj9%2FTMBDzL8DEdvBEK9dP%2BnYR7CVIgds7ZWPXKoHkVTgnVIKaSPTEK0z0doFcEHPs%2BX6zf%2FrnA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"4","updateTime":"2025-09-03T18:20:35Z","buildId":"c7a69d38-929b-4c4a-936b-dcfda8512987","buildName":"projects/483740693601/locations/us-central1/builds/c7a69d38-929b-4c4a-936b-dcfda8512987"}}
[debug] [2025-09-03T18:21:12.421Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:21:12.421Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:21:12.421Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:21:12.421Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ [none]
[debug] [2025-09-03T18:21:12.858Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ 200
[debug] [2025-09-03T18:21:12.858Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC94cVFIX0JVaW9QVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"364143b8f0a1e956822ad5835768e1452d568c61"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/e56c4258-7093-4f4c-a53a-45bd4f03b5d2.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925434&Signature=H7wn%2FbdY0qGD9f%2FU%2BSXV0NdJjsSxIKh4Qg6Xa1bQJ%2FvnEMseKUAIaHZHpJOgbkPRdSn91OrWzEleHWLfm9Ri6El97mEiCzofmXrMl6yK8tqA8KRdDmv0zrl2oG9rUXFuygaJRFI59pyf%2BlIWnQjC0U6tbUBq1%2FIuSnZjT5sD8xXJaktC3QT7ejlxwocViP2vkp92TX%2Beoy6%2F8oSylcJOPyhUIchk5GoKuxMLwhXIHDB6plOA2Q5i%2BoIhv4%2Fz7Dgs61xsxqTWrklhgj9%2FTMBDzL8DEdvBEK9dP%2BnYR7CVIgds7ZWPXKoHkVTgnVIKaSPTEK0z0doFcEHPs%2BX6zf%2FrnA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"4","updateTime":"2025-09-03T18:21:04Z","buildId":"c7a69d38-929b-4c4a-936b-dcfda8512987","buildName":"projects/483740693601/locations/us-central1/builds/c7a69d38-929b-4c4a-936b-dcfda8512987"},"done":true,"error":{"code":3,"message":"Build failed: npm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: 'firebase-tools@14.15.1',\nnpm warn EBADENGINE   required: { node: '>=20.0.0 || >=22.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_20_58_790Z-debug-0.log; Error ID: 7fa33aaa"}}
[debug] [2025-09-03T18:21:12.858Z] Got source token undefined for region us-central1
[error] Build failed: npm warn EBADENGINE Unsupported engine {
npm warn EBADENGINE   package: 'firebase-tools@14.15.1',
npm warn EBADENGINE   required: { node: '>=20.0.0 || >=22.0.0' },
npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }
npm warn EBADENGINE }
npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3
npm error Missing: picomatch@2.3.1 from lock file
npm error Missing: picomatch@2.3.1 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_20_58_790Z-debug-0.log; Error ID: 7fa33aaa
[debug] [2025-09-03T18:21:12.864Z] Total Function Deployment time: 38079
[debug] [2025-09-03T18:21:12.865Z] 1 Functions Deployed
[debug] [2025-09-03T18:21:12.865Z] 1 Functions Errored
[debug] [2025-09-03T18:21:12.865Z] 0 Function Deployments Aborted
[debug] [2025-09-03T18:21:12.865Z] Average Function Deployment time: 38078
[info] 
[info] Functions deploy had errors with the following functions:
	sendInviteEmail(us-central1)
[debug] [2025-09-03T18:21:13.216Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:21:13.217Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:21:13.217Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-09-03T18:21:13.800Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-09-03T18:21:13.800Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts {"name":"projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-09-02T23:34:29.347346Z","updateTime":"2025-09-03T02:57:15.262652Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"sizeBytes":"535653920","vulnerabilityScanningConfig":{"lastEnableTime":"2025-09-02T23:34:14.605559835Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/trucking-app-3e473/gcf-artifacts"}
[debug] [2025-09-03T18:21:13.800Z] Functions deploy failed.
[debug] [2025-09-03T18:21:13.800Z] {
  "endpoint": {
    "id": "sendInviteEmail",
    "project": "trucking-app-3e473",
    "region": "us-central1",
    "entryPoint": "sendInviteEmail",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "EMAIL_USER": "easietrucking@gmail.com",
      "EMAIL_PASS": "EasieTrucking",
      "FIREBASE_CONFIG": "{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "trucking-app-3e473",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "364143b8f0a1e956822ad5835768e1452d568c61"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: 'firebase-tools@14.15.1',\nnpm warn EBADENGINE   required: { node: '>=20.0.0 || >=22.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_20_58_790Z-debug-0.log; Error ID: 7fa33aaa",
    "original": {
      "code": 3,
      "message": "Build failed: npm warn EBADENGINE Unsupported engine {\nnpm warn EBADENGINE   package: 'firebase-tools@14.15.1',\nnpm warn EBADENGINE   required: { node: '>=20.0.0 || >=22.0.0' },\nnpm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\nnpm warn EBADENGINE }\nnpm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_20_58_790Z-debug-0.log; Error ID: 7fa33aaa"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-09-03T18:21:13.896Z] Error: Failed to update function sendInviteEmail in region us-central1
    at /Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:52:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV1Function (/Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:364:32)
    at async Fabricator.updateEndpoint (/Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:157:13)
    at async handle (/Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-09-03T18:23:28.786Z] ----------------------------------------------------------------------
[debug] [2025-09-03T18:23:28.790Z] Command:       /Users/hardeep/.nvm/versions/node/v20.19.4/bin/node /Users/hardeep/.nvm/versions/node/v20.19.4/bin/firebase deploy --only functions
[debug] [2025-09-03T18:23:28.791Z] CLI Version:   14.15.1
[debug] [2025-09-03T18:23:28.791Z] Platform:      darwin
[debug] [2025-09-03T18:23:28.791Z] Node Version:  v20.19.4
[debug] [2025-09-03T18:23:28.791Z] Time:          Wed Sep 03 2025 11:23:28 GMT-0700 (Pacific Daylight Time)
[debug] [2025-09-03T18:23:28.791Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-03T18:23:29.064Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-03T18:23:29.064Z] > authorizing via signed-in user (easietrucking@gmail.com)
[debug] [2025-09-03T18:23:29.065Z] [iam] checking project trucking-app-3e473 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-09-03T18:23:29.066Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:29.066Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:29.068Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions [none]
[debug] [2025-09-03T18:23:29.068Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions x-goog-quota-user=projects/trucking-app-3e473
[debug] [2025-09-03T18:23:29.068Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-03T18:23:29.635Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions 200
[debug] [2025-09-03T18:23:29.635Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-03T18:23:29.635Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:29.636Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:29.636Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-09-03T18:23:29.636Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-09-03T18:23:30.012Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-09-03T18:23:30.012Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'trucking-app-3e473'...
[info] 
[info] i  deploying functions 
[debug] [2025-09-03T18:23:30.016Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:30.016Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:30.016Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 [none]
[debug] [2025-09-03T18:23:30.180Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 200
[debug] [2025-09-03T18:23:30.180Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 {"projectNumber":"483740693601","projectId":"trucking-app-3e473","lifecycleState":"ACTIVE","name":"Trucking App","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-01T00:39:08.067334Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-09-03T18:23:30.183Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:30.183Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:30.183Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/trucking-app-3e473/adminSdkConfig [none]
[debug] [2025-09-03T18:23:30.750Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/trucking-app-3e473/adminSdkConfig 200
[debug] [2025-09-03T18:23:30.750Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/trucking-app-3e473/adminSdkConfig {"projectId":"trucking-app-3e473","storageBucket":"trucking-app-3e473.firebasestorage.app"}
[debug] [2025-09-03T18:23:30.751Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:30.751Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:30.751Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs [none]
[debug] [2025-09-03T18:23:31.180Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs 200
[debug] [2025-09-03T18:23:31.180Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs {"configs":[{"name":"projects/trucking-app-3e473/configs/email"}]}
[debug] [2025-09-03T18:23:31.180Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:31.180Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:31.181Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables [none]
[debug] [2025-09-03T18:23:31.369Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables 200
[debug] [2025-09-03T18:23:31.369Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables {"variables":[{"name":"projects/trucking-app-3e473/configs/email/variables/pass","updateTime":"2025-09-03T00:38:20.869548678Z"},{"name":"projects/trucking-app-3e473/configs/email/variables/user","updateTime":"2025-09-03T00:38:20.168701835Z"}]}
[debug] [2025-09-03T18:23:31.369Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:31.369Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:31.369Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:31.370Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:31.370Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/pass [none]
[debug] [2025-09-03T18:23:31.370Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/user [none]
[debug] [2025-09-03T18:23:31.561Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/pass 200
[debug] [2025-09-03T18:23:31.561Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/pass {"name":"projects/trucking-app-3e473/configs/email/variables/pass","updateTime":"2025-09-03T00:38:20.869548678Z","text":"EasieTrucking#88"}
[debug] [2025-09-03T18:23:31.720Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/user 200
[debug] [2025-09-03T18:23:31.720Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/user {"name":"projects/trucking-app-3e473/configs/email/variables/user","updateTime":"2025-09-03T00:38:20.168701835Z","text":"easietrucking@gmail.com"}
[debug] [2025-09-03T18:23:31.724Z] Validating nodejs source
[warn] ⚠  functions: Runtime Node.js 18 was deprecated on 2025-04-30 and will be decommissioned on 2025-10-30, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-09-03T18:23:32.863Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "dependencies": {
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^4.4.1",
    "firebase-tools": "^13.20.2",
    "nodemailer": "^7.0.6"
  },
  "devDependencies": {
    "eslint": "^5.12.0",
    "eslint-plugin-promise": "^4.0.1",
    "firebase-functions-test": "^0.1.6"
  },
  "private": true
}
[debug] [2025-09-03T18:23:32.863Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-09-03T18:23:32.866Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-09-03T18:23:32.893Z] Found firebase-functions binary at '/Users/hardeep/Personal_workspace/trucking-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8001

[debug] [2025-09-03T18:23:34.222Z] Got response from /__/functions.yaml {"endpoints":{"sendInviteEmail":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"sendInviteEmail"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/hardeep/Personal_workspace/trucking-app/functions (120.47 KB) for uploading 
[debug] [2025-09-03T18:23:38.335Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:38.335Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:38.335Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/-/functions [none]
[debug] [2025-09-03T18:23:39.109Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/-/functions 200
[debug] [2025-09-03T18:23:39.109Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/-/functions {"functions":[{"name":"projects/trucking-app-3e473/locations/us-central1/functions/ext-mailersend-email-processDocumentCreated","description":"Processes created document in Cloud Firestore collection, sends an email and updates status information.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/822cf1fda144b2655c5d69be067044e6655801a548b1ea3b55e66bf4aa6d3937","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/trucking-app-3e473/databases/(default)/documents/mail/{documentId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"processDocumentCreated","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-mailersend-email@trucking-app-3e473.iam.gserviceaccount.com","updateTime":"2025-09-03T00:20:15.645Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-mailersend-email","goog-firebase-ext":"mailersend-email","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"mailersend-email"},"environmentVariables":{"DATABASE_INSTANCE":"","DATABASE_URL":"","DEFAULT_FROM_EMAIL":"easietrucking@gmail.com","DEFAULT_FROM_NAME":"superadmin","DEFAULT_REPLY_TO_EMAIL":"easietrucking@gmail.com","DEFAULT_REPLY_TO_NAME":"Easy Trucking","EMAIL_COLLECTION":"mail","EXT_INSTANCE_ID":"mailersend-email","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"databaseURL\":\"\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","LOCATION":"us-central1","PROJECT_ID":"trucking-app-3e473","STORAGE_BUCKET":"trucking-app-3e473.firebasestorage.app"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"eefc39ae-6aa2-4d4b-a6ea-23fade319b96","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"MAILERSEND_API_KEY","projectId":"483740693601","secret":"mailersend-email-MAILERSEND_API_KEY","version":"1"}],"buildName":"projects/483740693601/locations/us-central1/builds/eefc39ae-6aa2-4d4b-a6ea-23fade319b96","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"trucking-app-3e473@appspot.gserviceaccount.com","updateTime":"2025-09-03T02:56:48.274570155Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"e15cadd8950d7e647dddc31bb31966b3d700d1a5"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/99628053-96c4-40e4-9bd8-8d7ca088fd73.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com","satisfiesPzi":true}]}
[debug] [2025-09-03T18:23:39.110Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:39.111Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:39.112Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/trucking-app-3e473/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-09-03T18:23:39.627Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/trucking-app-3e473/locations/-/functions 200
[debug] [2025-09-03T18:23:39.627Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/trucking-app-3e473/locations/-/functions {}
[debug] [2025-09-03T18:23:39.631Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:39.631Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:39.632Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 [none]
[debug] [2025-09-03T18:23:40.082Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 200
[debug] [2025-09-03T18:23:40.082Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 {"projectNumber":"483740693601","projectId":"trucking-app-3e473","lifecycleState":"ACTIVE","name":"Trucking App","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-01T00:39:08.067334Z"}
[debug] [2025-09-03T18:23:40.084Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:40.084Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:40.084Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-09-03T18:23:40.084Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl {}
[debug] [2025-09-03T18:23:40.746Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-09-03T18:23:40.746Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/a2b6e10b-4aca-496b-a015-ab26ac4c3f03.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925620&Signature=JaC4q8cdBJ5jloxgz%2BfTFyUGXTahFsLodjB5XxvlN%2B1aKJP56f0CSVxULFJREfYAhymGi5HVstxcxZHJqdB0DWk5EfLvttNHFzIGQ2zLZVWy4Nm1H7UjY83844UEifKa3YRVBlfTWcVcz6YCaML%2BGw4kEqoY8RQU4orGdKp3qGJfQs7cvtY0g6FyP6nI1cB1sWYBo0bHtWiH5gggUlwH%2FWTsdcOp3xrybqVVr6m0FaNF5lAseCIi7cdBLKTXk4lDomqJzGYIPgl7DoQzRvJ7bsn4A6W65%2Bj2P3jd0QNNq%2F%2BwZMun0jNIZOvfI8XG9BFQxuXnBYcTYIN%2F6%2FoE%2FMKkIA%3D%3D"}
[debug] [2025-09-03T18:23:40.748Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/a2b6e10b-4aca-496b-a015-ab26ac4c3f03.zip GoogleAccessId=service-483740693601%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925620&Signature=JaC4q8cdBJ5jloxgz%2BfTFyUGXTahFsLodjB5XxvlN%2B1aKJP56f0CSVxULFJREfYAhymGi5HVstxcxZHJqdB0DWk5EfLvttNHFzIGQ2zLZVWy4Nm1H7UjY83844UEifKa3YRVBlfTWcVcz6YCaML%2BGw4kEqoY8RQU4orGdKp3qGJfQs7cvtY0g6FyP6nI1cB1sWYBo0bHtWiH5gggUlwH%2FWTsdcOp3xrybqVVr6m0FaNF5lAseCIi7cdBLKTXk4lDomqJzGYIPgl7DoQzRvJ7bsn4A6W65%2Bj2P3jd0QNNq%2F%2BwZMun0jNIZOvfI8XG9BFQxuXnBYcTYIN%2F6%2FoE%2FMKkIA%3D%3D
[debug] [2025-09-03T18:23:40.748Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/a2b6e10b-4aca-496b-a015-ab26ac4c3f03.zip [stream]
[debug] [2025-09-03T18:23:41.489Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/a2b6e10b-4aca-496b-a015-ab26ac4c3f03.zip 200
[debug] [2025-09-03T18:23:41.489Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/a2b6e10b-4aca-496b-a015-ab26ac4c3f03.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (1st Gen) function sendInviteEmail(us-central1)... 
[debug] [2025-09-03T18:23:41.495Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:41.495Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:41.496Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-09-03T18:23:41.496Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail {"name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/a2b6e10b-4aca-496b-a015-ab26ac4c3f03.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925620&Signature=JaC4q8cdBJ5jloxgz%2BfTFyUGXTahFsLodjB5XxvlN%2B1aKJP56f0CSVxULFJREfYAhymGi5HVstxcxZHJqdB0DWk5EfLvttNHFzIGQ2zLZVWy4Nm1H7UjY83844UEifKa3YRVBlfTWcVcz6YCaML%2BGw4kEqoY8RQU4orGdKp3qGJfQs7cvtY0g6FyP6nI1cB1sWYBo0bHtWiH5gggUlwH%2FWTsdcOp3xrybqVVr6m0FaNF5lAseCIi7cdBLKTXk4lDomqJzGYIPgl7DoQzRvJ7bsn4A6W65%2Bj2P3jd0QNNq%2F%2BwZMun0jNIZOvfI8XG9BFQxuXnBYcTYIN%2F6%2FoE%2FMKkIA%3D%3D","entryPoint":"sendInviteEmail","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-09-03T18:23:41.956Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail 200
[debug] [2025-09-03T18:23:41.956Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/a2b6e10b-4aca-496b-a015-ab26ac4c3f03.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925620&Signature=JaC4q8cdBJ5jloxgz%2BfTFyUGXTahFsLodjB5XxvlN%2B1aKJP56f0CSVxULFJREfYAhymGi5HVstxcxZHJqdB0DWk5EfLvttNHFzIGQ2zLZVWy4Nm1H7UjY83844UEifKa3YRVBlfTWcVcz6YCaML%2BGw4kEqoY8RQU4orGdKp3qGJfQs7cvtY0g6FyP6nI1cB1sWYBo0bHtWiH5gggUlwH%2FWTsdcOp3xrybqVVr6m0FaNF5lAseCIi7cdBLKTXk4lDomqJzGYIPgl7DoQzRvJ7bsn4A6W65%2Bj2P3jd0QNNq%2F%2BwZMun0jNIZOvfI8XG9BFQxuXnBYcTYIN%2F6%2FoE%2FMKkIA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"5","updateTime":"2025-09-03T18:23:42Z"}}
[debug] [2025-09-03T18:23:41.956Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:41.957Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:41.957Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw [none]
[debug] [2025-09-03T18:23:42.134Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw 200
[debug] [2025-09-03T18:23:42.134Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/a2b6e10b-4aca-496b-a015-ab26ac4c3f03.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925620&Signature=JaC4q8cdBJ5jloxgz%2BfTFyUGXTahFsLodjB5XxvlN%2B1aKJP56f0CSVxULFJREfYAhymGi5HVstxcxZHJqdB0DWk5EfLvttNHFzIGQ2zLZVWy4Nm1H7UjY83844UEifKa3YRVBlfTWcVcz6YCaML%2BGw4kEqoY8RQU4orGdKp3qGJfQs7cvtY0g6FyP6nI1cB1sWYBo0bHtWiH5gggUlwH%2FWTsdcOp3xrybqVVr6m0FaNF5lAseCIi7cdBLKTXk4lDomqJzGYIPgl7DoQzRvJ7bsn4A6W65%2Bj2P3jd0QNNq%2F%2BwZMun0jNIZOvfI8XG9BFQxuXnBYcTYIN%2F6%2FoE%2FMKkIA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"5","updateTime":"2025-09-03T18:23:42Z"}}
[debug] [2025-09-03T18:23:42.637Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:23:42.637Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:42.638Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:42.638Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw [none]
[debug] [2025-09-03T18:23:42.843Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw 200
[debug] [2025-09-03T18:23:42.843Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/a2b6e10b-4aca-496b-a015-ab26ac4c3f03.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925620&Signature=JaC4q8cdBJ5jloxgz%2BfTFyUGXTahFsLodjB5XxvlN%2B1aKJP56f0CSVxULFJREfYAhymGi5HVstxcxZHJqdB0DWk5EfLvttNHFzIGQ2zLZVWy4Nm1H7UjY83844UEifKa3YRVBlfTWcVcz6YCaML%2BGw4kEqoY8RQU4orGdKp3qGJfQs7cvtY0g6FyP6nI1cB1sWYBo0bHtWiH5gggUlwH%2FWTsdcOp3xrybqVVr6m0FaNF5lAseCIi7cdBLKTXk4lDomqJzGYIPgl7DoQzRvJ7bsn4A6W65%2Bj2P3jd0QNNq%2F%2BwZMun0jNIZOvfI8XG9BFQxuXnBYcTYIN%2F6%2FoE%2FMKkIA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"5","updateTime":"2025-09-03T18:23:42Z","buildId":"b697bfc6-1692-469c-ba89-f2812e89e005","buildName":"projects/483740693601/locations/us-central1/builds/b697bfc6-1692-469c-ba89-f2812e89e005"}}
[debug] [2025-09-03T18:23:43.844Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:23:43.844Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:43.844Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:43.844Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw [none]
[debug] [2025-09-03T18:23:44.046Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw 200
[debug] [2025-09-03T18:23:44.046Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/a2b6e10b-4aca-496b-a015-ab26ac4c3f03.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925620&Signature=JaC4q8cdBJ5jloxgz%2BfTFyUGXTahFsLodjB5XxvlN%2B1aKJP56f0CSVxULFJREfYAhymGi5HVstxcxZHJqdB0DWk5EfLvttNHFzIGQ2zLZVWy4Nm1H7UjY83844UEifKa3YRVBlfTWcVcz6YCaML%2BGw4kEqoY8RQU4orGdKp3qGJfQs7cvtY0g6FyP6nI1cB1sWYBo0bHtWiH5gggUlwH%2FWTsdcOp3xrybqVVr6m0FaNF5lAseCIi7cdBLKTXk4lDomqJzGYIPgl7DoQzRvJ7bsn4A6W65%2Bj2P3jd0QNNq%2F%2BwZMun0jNIZOvfI8XG9BFQxuXnBYcTYIN%2F6%2FoE%2FMKkIA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"5","updateTime":"2025-09-03T18:23:42Z","buildId":"b697bfc6-1692-469c-ba89-f2812e89e005","buildName":"projects/483740693601/locations/us-central1/builds/b697bfc6-1692-469c-ba89-f2812e89e005"}}
[debug] [2025-09-03T18:23:46.048Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:23:46.048Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:46.048Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:46.048Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw [none]
[debug] [2025-09-03T18:23:46.230Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw 200
[debug] [2025-09-03T18:23:46.230Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/a2b6e10b-4aca-496b-a015-ab26ac4c3f03.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925620&Signature=JaC4q8cdBJ5jloxgz%2BfTFyUGXTahFsLodjB5XxvlN%2B1aKJP56f0CSVxULFJREfYAhymGi5HVstxcxZHJqdB0DWk5EfLvttNHFzIGQ2zLZVWy4Nm1H7UjY83844UEifKa3YRVBlfTWcVcz6YCaML%2BGw4kEqoY8RQU4orGdKp3qGJfQs7cvtY0g6FyP6nI1cB1sWYBo0bHtWiH5gggUlwH%2FWTsdcOp3xrybqVVr6m0FaNF5lAseCIi7cdBLKTXk4lDomqJzGYIPgl7DoQzRvJ7bsn4A6W65%2Bj2P3jd0QNNq%2F%2BwZMun0jNIZOvfI8XG9BFQxuXnBYcTYIN%2F6%2FoE%2FMKkIA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"5","updateTime":"2025-09-03T18:23:42Z","buildId":"b697bfc6-1692-469c-ba89-f2812e89e005","buildName":"projects/483740693601/locations/us-central1/builds/b697bfc6-1692-469c-ba89-f2812e89e005"}}
[debug] [2025-09-03T18:23:50.230Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:23:50.231Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:50.231Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:50.231Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw [none]
[debug] [2025-09-03T18:23:50.410Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw 200
[debug] [2025-09-03T18:23:50.410Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/a2b6e10b-4aca-496b-a015-ab26ac4c3f03.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925620&Signature=JaC4q8cdBJ5jloxgz%2BfTFyUGXTahFsLodjB5XxvlN%2B1aKJP56f0CSVxULFJREfYAhymGi5HVstxcxZHJqdB0DWk5EfLvttNHFzIGQ2zLZVWy4Nm1H7UjY83844UEifKa3YRVBlfTWcVcz6YCaML%2BGw4kEqoY8RQU4orGdKp3qGJfQs7cvtY0g6FyP6nI1cB1sWYBo0bHtWiH5gggUlwH%2FWTsdcOp3xrybqVVr6m0FaNF5lAseCIi7cdBLKTXk4lDomqJzGYIPgl7DoQzRvJ7bsn4A6W65%2Bj2P3jd0QNNq%2F%2BwZMun0jNIZOvfI8XG9BFQxuXnBYcTYIN%2F6%2FoE%2FMKkIA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"5","updateTime":"2025-09-03T18:23:42Z","buildId":"b697bfc6-1692-469c-ba89-f2812e89e005","buildName":"projects/483740693601/locations/us-central1/builds/b697bfc6-1692-469c-ba89-f2812e89e005"}}
[debug] [2025-09-03T18:23:58.410Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:23:58.411Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:58.411Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:23:58.411Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw [none]
[debug] [2025-09-03T18:23:58.746Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw 200
[debug] [2025-09-03T18:23:58.746Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/a2b6e10b-4aca-496b-a015-ab26ac4c3f03.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925620&Signature=JaC4q8cdBJ5jloxgz%2BfTFyUGXTahFsLodjB5XxvlN%2B1aKJP56f0CSVxULFJREfYAhymGi5HVstxcxZHJqdB0DWk5EfLvttNHFzIGQ2zLZVWy4Nm1H7UjY83844UEifKa3YRVBlfTWcVcz6YCaML%2BGw4kEqoY8RQU4orGdKp3qGJfQs7cvtY0g6FyP6nI1cB1sWYBo0bHtWiH5gggUlwH%2FWTsdcOp3xrybqVVr6m0FaNF5lAseCIi7cdBLKTXk4lDomqJzGYIPgl7DoQzRvJ7bsn4A6W65%2Bj2P3jd0QNNq%2F%2BwZMun0jNIZOvfI8XG9BFQxuXnBYcTYIN%2F6%2FoE%2FMKkIA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"5","updateTime":"2025-09-03T18:23:42Z","buildId":"b697bfc6-1692-469c-ba89-f2812e89e005","buildName":"projects/483740693601/locations/us-central1/builds/b697bfc6-1692-469c-ba89-f2812e89e005"}}
[debug] [2025-09-03T18:24:08.747Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:24:08.747Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:24:08.747Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:24:08.747Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw [none]
[debug] [2025-09-03T18:24:09.096Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw 200
[debug] [2025-09-03T18:24:09.096Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/a2b6e10b-4aca-496b-a015-ab26ac4c3f03.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925620&Signature=JaC4q8cdBJ5jloxgz%2BfTFyUGXTahFsLodjB5XxvlN%2B1aKJP56f0CSVxULFJREfYAhymGi5HVstxcxZHJqdB0DWk5EfLvttNHFzIGQ2zLZVWy4Nm1H7UjY83844UEifKa3YRVBlfTWcVcz6YCaML%2BGw4kEqoY8RQU4orGdKp3qGJfQs7cvtY0g6FyP6nI1cB1sWYBo0bHtWiH5gggUlwH%2FWTsdcOp3xrybqVVr6m0FaNF5lAseCIi7cdBLKTXk4lDomqJzGYIPgl7DoQzRvJ7bsn4A6W65%2Bj2P3jd0QNNq%2F%2BwZMun0jNIZOvfI8XG9BFQxuXnBYcTYIN%2F6%2FoE%2FMKkIA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"5","updateTime":"2025-09-03T18:23:42Z","buildId":"b697bfc6-1692-469c-ba89-f2812e89e005","buildName":"projects/483740693601/locations/us-central1/builds/b697bfc6-1692-469c-ba89-f2812e89e005"}}
[debug] [2025-09-03T18:24:19.098Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:24:19.098Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:24:19.098Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:24:19.098Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw [none]
[debug] [2025-09-03T18:24:19.447Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw 200
[debug] [2025-09-03T18:24:19.447Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9UOVp3blZabTNaYw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/a2b6e10b-4aca-496b-a015-ab26ac4c3f03.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925620&Signature=JaC4q8cdBJ5jloxgz%2BfTFyUGXTahFsLodjB5XxvlN%2B1aKJP56f0CSVxULFJREfYAhymGi5HVstxcxZHJqdB0DWk5EfLvttNHFzIGQ2zLZVWy4Nm1H7UjY83844UEifKa3YRVBlfTWcVcz6YCaML%2BGw4kEqoY8RQU4orGdKp3qGJfQs7cvtY0g6FyP6nI1cB1sWYBo0bHtWiH5gggUlwH%2FWTsdcOp3xrybqVVr6m0FaNF5lAseCIi7cdBLKTXk4lDomqJzGYIPgl7DoQzRvJ7bsn4A6W65%2Bj2P3jd0QNNq%2F%2BwZMun0jNIZOvfI8XG9BFQxuXnBYcTYIN%2F6%2FoE%2FMKkIA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"5","updateTime":"2025-09-03T18:24:18Z","buildId":"b697bfc6-1692-469c-ba89-f2812e89e005","buildName":"projects/483740693601/locations/us-central1/builds/b697bfc6-1692-469c-ba89-f2812e89e005"},"done":true,"error":{"code":3,"message":"Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Invalid: lock file's inquirer@6.5.2 does not satisfy inquirer@8.2.7\nnpm error Missing: inquirer@6.5.2 from lock file\nnpm error Invalid: lock file's ansi-escapes@3.2.0 does not satisfy ansi-escapes@4.3.2\nnpm error Missing: chalk@4.1.2 from lock file\nnpm error Invalid: lock file's cli-cursor@2.1.0 does not satisfy cli-cursor@3.1.0\nnpm error Invalid: lock file's cli-width@2.2.1 does not satisfy cli-width@3.0.0\nnpm error Invalid: lock file's figures@2.0.0 does not satisfy figures@3.2.0\nnpm error Invalid: lock file's mute-stream@0.0.7 does not satisfy mute-stream@0.0.8\nnpm error Invalid: lock file's rxjs@6.6.7 does not satisfy rxjs@7.8.2\nnpm error Invalid: lock file's strip-ansi@5.2.0 does not satisfy strip-ansi@6.0.1\nnpm error Missing: wrap-ansi@6.2.0 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Invalid: lock file's restore-cursor@2.0.0 does not satisfy restore-cursor@3.1.0\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Invalid: lock file's onetime@2.0.1 does not satisfy onetime@5.1.2\nnpm error Invalid: lock file's mimic-fn@1.2.0 does not satisfy mimic-fn@2.1.0\nnpm error Missing: ansi-escapes@3.2.0 from lock file\nnpm error Missing: cli-cursor@2.1.0 from lock file\nnpm error Missing: cli-width@2.2.1 from lock file\nnpm error Missing: figures@2.0.0 from lock file\nnpm error Missing: mute-stream@0.0.7 from lock file\nnpm error Missing: rxjs@6.6.7 from lock file\nnpm error Missing: string-width@2.1.1 from lock file\nnpm error Missing: strip-ansi@5.2.0 from lock file\nnpm error Missing: restore-cursor@2.0.0 from lock file\nnpm error Missing: onetime@2.0.1 from lock file\nnpm error Missing: mimic-fn@1.2.0 from lock file\nnpm error Missing: tslib@1.14.1 from lock file\nnpm error Missing: is-fullwidth-code-point@2.0.0 from lock file\nnpm error Missing: ansi-styles@4.3.0 from lock file\nnpm error Missing: supports-color@7.2.0 from lock file\nnpm error Missing: color-convert@2.0.1 from lock file\nnpm error Missing: color-name@1.1.4 from lock file\nnpm error Invalid: lock file's ansi-regex@4.1.1 does not satisfy ansi-regex@5.0.1\nnpm error Missing: has-flag@4.0.0 from lock file\nnpm error Missing: ansi-regex@4.1.1 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_24_07_614Z-debug-0.log; Error ID: 7fa33aaa"}}
[debug] [2025-09-03T18:24:19.447Z] Got source token undefined for region us-central1
[error] Build failed: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3
npm error Missing: picomatch@2.3.1 from lock file
npm error Invalid: lock file's inquirer@6.5.2 does not satisfy inquirer@8.2.7
npm error Missing: inquirer@6.5.2 from lock file
npm error Invalid: lock file's ansi-escapes@3.2.0 does not satisfy ansi-escapes@4.3.2
npm error Missing: chalk@4.1.2 from lock file
npm error Invalid: lock file's cli-cursor@2.1.0 does not satisfy cli-cursor@3.1.0
npm error Invalid: lock file's cli-width@2.2.1 does not satisfy cli-width@3.0.0
npm error Invalid: lock file's figures@2.0.0 does not satisfy figures@3.2.0
npm error Invalid: lock file's mute-stream@0.0.7 does not satisfy mute-stream@0.0.8
npm error Invalid: lock file's rxjs@6.6.7 does not satisfy rxjs@7.8.2
npm error Invalid: lock file's strip-ansi@5.2.0 does not satisfy strip-ansi@6.0.1
npm error Missing: wrap-ansi@6.2.0 from lock file
npm error Missing: type-fest@0.21.3 from lock file
npm error Invalid: lock file's restore-cursor@2.0.0 does not satisfy restore-cursor@3.1.0
npm error Missing: picomatch@2.3.1 from lock file
npm error Invalid: lock file's onetime@2.0.1 does not satisfy onetime@5.1.2
npm error Invalid: lock file's mimic-fn@1.2.0 does not satisfy mimic-fn@2.1.0
npm error Missing: ansi-escapes@3.2.0 from lock file
npm error Missing: cli-cursor@2.1.0 from lock file
npm error Missing: cli-width@2.2.1 from lock file
npm error Missing: figures@2.0.0 from lock file
npm error Missing: mute-stream@0.0.7 from lock file
npm error Missing: rxjs@6.6.7 from lock file
npm error Missing: string-width@2.1.1 from lock file
npm error Missing: strip-ansi@5.2.0 from lock file
npm error Missing: restore-cursor@2.0.0 from lock file
npm error Missing: onetime@2.0.1 from lock file
npm error Missing: mimic-fn@1.2.0 from lock file
npm error Missing: tslib@1.14.1 from lock file
npm error Missing: is-fullwidth-code-point@2.0.0 from lock file
npm error Missing: ansi-styles@4.3.0 from lock file
npm error Missing: supports-color@7.2.0 from lock file
npm error Missing: color-convert@2.0.1 from lock file
npm error Missing: color-name@1.1.4 from lock file
npm error Invalid: lock file's ansi-regex@4.1.1 does not satisfy ansi-regex@5.0.1
npm error Missing: has-flag@4.0.0 from lock file
npm error Missing: ansi-regex@4.1.1 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_24_07_614Z-debug-0.log; Error ID: 7fa33aaa
[debug] [2025-09-03T18:24:19.454Z] Total Function Deployment time: 37955
[debug] [2025-09-03T18:24:19.454Z] 1 Functions Deployed
[debug] [2025-09-03T18:24:19.454Z] 1 Functions Errored
[debug] [2025-09-03T18:24:19.454Z] 0 Function Deployments Aborted
[debug] [2025-09-03T18:24:19.454Z] Average Function Deployment time: 37955
[info] 
[info] Functions deploy had errors with the following functions:
	sendInviteEmail(us-central1)
[debug] [2025-09-03T18:24:19.828Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:24:19.828Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:24:19.829Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-09-03T18:24:20.389Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-09-03T18:24:20.389Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts {"name":"projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-09-02T23:34:29.347346Z","updateTime":"2025-09-03T02:57:15.262652Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"sizeBytes":"535653920","vulnerabilityScanningConfig":{"lastEnableTime":"2025-09-02T23:34:14.605559835Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/trucking-app-3e473/gcf-artifacts"}
[debug] [2025-09-03T18:24:20.389Z] Functions deploy failed.
[debug] [2025-09-03T18:24:20.389Z] {
  "endpoint": {
    "id": "sendInviteEmail",
    "project": "trucking-app-3e473",
    "region": "us-central1",
    "entryPoint": "sendInviteEmail",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "EMAIL_USER": "easietrucking@gmail.com",
      "EMAIL_PASS": "EasieTrucking",
      "FIREBASE_CONFIG": "{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "trucking-app-3e473",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "60cb8b852aba598d6f1f4c427dca1ef508c3f244"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Invalid: lock file's inquirer@6.5.2 does not satisfy inquirer@8.2.7\nnpm error Missing: inquirer@6.5.2 from lock file\nnpm error Invalid: lock file's ansi-escapes@3.2.0 does not satisfy ansi-escapes@4.3.2\nnpm error Missing: chalk@4.1.2 from lock file\nnpm error Invalid: lock file's cli-cursor@2.1.0 does not satisfy cli-cursor@3.1.0\nnpm error Invalid: lock file's cli-width@2.2.1 does not satisfy cli-width@3.0.0\nnpm error Invalid: lock file's figures@2.0.0 does not satisfy figures@3.2.0\nnpm error Invalid: lock file's mute-stream@0.0.7 does not satisfy mute-stream@0.0.8\nnpm error Invalid: lock file's rxjs@6.6.7 does not satisfy rxjs@7.8.2\nnpm error Invalid: lock file's strip-ansi@5.2.0 does not satisfy strip-ansi@6.0.1\nnpm error Missing: wrap-ansi@6.2.0 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Invalid: lock file's restore-cursor@2.0.0 does not satisfy restore-cursor@3.1.0\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Invalid: lock file's onetime@2.0.1 does not satisfy onetime@5.1.2\nnpm error Invalid: lock file's mimic-fn@1.2.0 does not satisfy mimic-fn@2.1.0\nnpm error Missing: ansi-escapes@3.2.0 from lock file\nnpm error Missing: cli-cursor@2.1.0 from lock file\nnpm error Missing: cli-width@2.2.1 from lock file\nnpm error Missing: figures@2.0.0 from lock file\nnpm error Missing: mute-stream@0.0.7 from lock file\nnpm error Missing: rxjs@6.6.7 from lock file\nnpm error Missing: string-width@2.1.1 from lock file\nnpm error Missing: strip-ansi@5.2.0 from lock file\nnpm error Missing: restore-cursor@2.0.0 from lock file\nnpm error Missing: onetime@2.0.1 from lock file\nnpm error Missing: mimic-fn@1.2.0 from lock file\nnpm error Missing: tslib@1.14.1 from lock file\nnpm error Missing: is-fullwidth-code-point@2.0.0 from lock file\nnpm error Missing: ansi-styles@4.3.0 from lock file\nnpm error Missing: supports-color@7.2.0 from lock file\nnpm error Missing: color-convert@2.0.1 from lock file\nnpm error Missing: color-name@1.1.4 from lock file\nnpm error Invalid: lock file's ansi-regex@4.1.1 does not satisfy ansi-regex@5.0.1\nnpm error Missing: has-flag@4.0.0 from lock file\nnpm error Missing: ansi-regex@4.1.1 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_24_07_614Z-debug-0.log; Error ID: 7fa33aaa",
    "original": {
      "code": 3,
      "message": "Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Invalid: lock file's inquirer@6.5.2 does not satisfy inquirer@8.2.7\nnpm error Missing: inquirer@6.5.2 from lock file\nnpm error Invalid: lock file's ansi-escapes@3.2.0 does not satisfy ansi-escapes@4.3.2\nnpm error Missing: chalk@4.1.2 from lock file\nnpm error Invalid: lock file's cli-cursor@2.1.0 does not satisfy cli-cursor@3.1.0\nnpm error Invalid: lock file's cli-width@2.2.1 does not satisfy cli-width@3.0.0\nnpm error Invalid: lock file's figures@2.0.0 does not satisfy figures@3.2.0\nnpm error Invalid: lock file's mute-stream@0.0.7 does not satisfy mute-stream@0.0.8\nnpm error Invalid: lock file's rxjs@6.6.7 does not satisfy rxjs@7.8.2\nnpm error Invalid: lock file's strip-ansi@5.2.0 does not satisfy strip-ansi@6.0.1\nnpm error Missing: wrap-ansi@6.2.0 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Invalid: lock file's restore-cursor@2.0.0 does not satisfy restore-cursor@3.1.0\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Invalid: lock file's onetime@2.0.1 does not satisfy onetime@5.1.2\nnpm error Invalid: lock file's mimic-fn@1.2.0 does not satisfy mimic-fn@2.1.0\nnpm error Missing: ansi-escapes@3.2.0 from lock file\nnpm error Missing: cli-cursor@2.1.0 from lock file\nnpm error Missing: cli-width@2.2.1 from lock file\nnpm error Missing: figures@2.0.0 from lock file\nnpm error Missing: mute-stream@0.0.7 from lock file\nnpm error Missing: rxjs@6.6.7 from lock file\nnpm error Missing: string-width@2.1.1 from lock file\nnpm error Missing: strip-ansi@5.2.0 from lock file\nnpm error Missing: restore-cursor@2.0.0 from lock file\nnpm error Missing: onetime@2.0.1 from lock file\nnpm error Missing: mimic-fn@1.2.0 from lock file\nnpm error Missing: tslib@1.14.1 from lock file\nnpm error Missing: is-fullwidth-code-point@2.0.0 from lock file\nnpm error Missing: ansi-styles@4.3.0 from lock file\nnpm error Missing: supports-color@7.2.0 from lock file\nnpm error Missing: color-convert@2.0.1 from lock file\nnpm error Missing: color-name@1.1.4 from lock file\nnpm error Invalid: lock file's ansi-regex@4.1.1 does not satisfy ansi-regex@5.0.1\nnpm error Missing: has-flag@4.0.0 from lock file\nnpm error Missing: ansi-regex@4.1.1 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_24_07_614Z-debug-0.log; Error ID: 7fa33aaa"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-09-03T18:24:20.482Z] Error: Failed to update function sendInviteEmail in region us-central1
    at /Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:52:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV1Function (/Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:364:32)
    at async Fabricator.updateEndpoint (/Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:157:13)
    at async handle (/Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2025-09-03T18:27:16.523Z] ----------------------------------------------------------------------
[debug] [2025-09-03T18:27:16.527Z] Command:       /Users/hardeep/.nvm/versions/node/v20.19.4/bin/node /Users/hardeep/.nvm/versions/node/v20.19.4/bin/firebase deploy --only functions
[debug] [2025-09-03T18:27:16.528Z] CLI Version:   14.15.1
[debug] [2025-09-03T18:27:16.528Z] Platform:      darwin
[debug] [2025-09-03T18:27:16.528Z] Node Version:  v20.19.4
[debug] [2025-09-03T18:27:16.529Z] Time:          Wed Sep 03 2025 11:27:16 GMT-0700 (Pacific Daylight Time)
[debug] [2025-09-03T18:27:16.529Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-03T18:27:16.800Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-03T18:27:16.801Z] > authorizing via signed-in user (easietrucking@gmail.com)
[debug] [2025-09-03T18:27:16.801Z] [iam] checking project trucking-app-3e473 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-09-03T18:27:16.803Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:16.803Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:16.804Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions [none]
[debug] [2025-09-03T18:27:16.804Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions x-goog-quota-user=projects/trucking-app-3e473
[debug] [2025-09-03T18:27:16.804Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-03T18:27:17.273Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions 200
[debug] [2025-09-03T18:27:17.273Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-03T18:27:17.274Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:17.274Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:17.274Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-09-03T18:27:17.274Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-09-03T18:27:17.684Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-09-03T18:27:17.684Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/trucking-app-3e473/serviceAccounts/trucking-app-3e473@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'trucking-app-3e473'...
[info] 
[info] i  deploying functions 
[debug] [2025-09-03T18:27:17.688Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:17.688Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:17.688Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 [none]
[debug] [2025-09-03T18:27:17.869Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 200
[debug] [2025-09-03T18:27:17.869Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 {"projectNumber":"483740693601","projectId":"trucking-app-3e473","lifecycleState":"ACTIVE","name":"Trucking App","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-01T00:39:08.067334Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-09-03T18:27:17.871Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:17.871Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:17.871Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/trucking-app-3e473/adminSdkConfig [none]
[debug] [2025-09-03T18:27:18.471Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/trucking-app-3e473/adminSdkConfig 200
[debug] [2025-09-03T18:27:18.471Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/trucking-app-3e473/adminSdkConfig {"projectId":"trucking-app-3e473","storageBucket":"trucking-app-3e473.firebasestorage.app"}
[debug] [2025-09-03T18:27:18.472Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:18.472Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:18.472Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs [none]
[debug] [2025-09-03T18:27:18.935Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs 200
[debug] [2025-09-03T18:27:18.936Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs {"configs":[{"name":"projects/trucking-app-3e473/configs/email"}]}
[debug] [2025-09-03T18:27:18.936Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:18.936Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:18.936Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables [none]
[debug] [2025-09-03T18:27:19.118Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables 200
[debug] [2025-09-03T18:27:19.118Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables {"variables":[{"name":"projects/trucking-app-3e473/configs/email/variables/pass","updateTime":"2025-09-03T00:38:20.869548678Z"},{"name":"projects/trucking-app-3e473/configs/email/variables/user","updateTime":"2025-09-03T00:38:20.168701835Z"}]}
[debug] [2025-09-03T18:27:19.119Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:19.119Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:19.119Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:19.119Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:19.119Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/pass [none]
[debug] [2025-09-03T18:27:19.120Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/user [none]
[debug] [2025-09-03T18:27:19.303Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/pass 200
[debug] [2025-09-03T18:27:19.303Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/pass {"name":"projects/trucking-app-3e473/configs/email/variables/pass","updateTime":"2025-09-03T00:38:20.869548678Z","text":"EasieTrucking#88"}
[debug] [2025-09-03T18:27:19.443Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/user 200
[debug] [2025-09-03T18:27:19.443Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/trucking-app-3e473/configs/email/variables/user {"name":"projects/trucking-app-3e473/configs/email/variables/user","updateTime":"2025-09-03T00:38:20.168701835Z","text":"easietrucking@gmail.com"}
[debug] [2025-09-03T18:27:19.444Z] Validating nodejs source
[warn] ⚠  functions: Runtime Node.js 18 was deprecated on 2025-04-30 and will be decommissioned on 2025-10-30, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-09-03T18:27:20.318Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "dependencies": {
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^4.4.1",
    "firebase-tools": "^13.20.2",
    "nodemailer": "^7.0.6"
  },
  "devDependencies": {
    "eslint": "^5.12.0",
    "eslint-plugin-promise": "^4.0.1",
    "firebase-functions-test": "^0.1.6"
  },
  "private": true
}
[debug] [2025-09-03T18:27:20.319Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-09-03T18:27:20.320Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-09-03T18:27:20.337Z] Found firebase-functions binary at '/Users/hardeep/Personal_workspace/trucking-app/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8029

[debug] [2025-09-03T18:27:21.494Z] Got response from /__/functions.yaml {"endpoints":{"sendInviteEmail":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"sendInviteEmail"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/hardeep/Personal_workspace/trucking-app/functions (120.47 KB) for uploading 
[debug] [2025-09-03T18:27:25.591Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:25.591Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:25.592Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/-/functions [none]
[debug] [2025-09-03T18:27:26.252Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/-/functions 200
[debug] [2025-09-03T18:27:26.252Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/-/functions {"functions":[{"name":"projects/trucking-app-3e473/locations/us-central1/functions/ext-mailersend-email-processDocumentCreated","description":"Processes created document in Cloud Firestore collection, sends an email and updates status information.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/822cf1fda144b2655c5d69be067044e6655801a548b1ea3b55e66bf4aa6d3937","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/trucking-app-3e473/databases/(default)/documents/mail/{documentId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"processDocumentCreated","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-mailersend-email@trucking-app-3e473.iam.gserviceaccount.com","updateTime":"2025-09-03T00:20:15.645Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-mailersend-email","goog-firebase-ext":"mailersend-email","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"mailersend-email"},"environmentVariables":{"DATABASE_INSTANCE":"","DATABASE_URL":"","DEFAULT_FROM_EMAIL":"easietrucking@gmail.com","DEFAULT_FROM_NAME":"superadmin","DEFAULT_REPLY_TO_EMAIL":"easietrucking@gmail.com","DEFAULT_REPLY_TO_NAME":"Easy Trucking","EMAIL_COLLECTION":"mail","EXT_INSTANCE_ID":"mailersend-email","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"databaseURL\":\"\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","LOCATION":"us-central1","PROJECT_ID":"trucking-app-3e473","STORAGE_BUCKET":"trucking-app-3e473.firebasestorage.app"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"eefc39ae-6aa2-4d4b-a6ea-23fade319b96","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"secretEnvironmentVariables":[{"key":"MAILERSEND_API_KEY","projectId":"483740693601","secret":"mailersend-email-MAILERSEND_API_KEY","version":"1"}],"buildName":"projects/483740693601/locations/us-central1/builds/eefc39ae-6aa2-4d4b-a6ea-23fade319b96","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"trucking-app-3e473@appspot.gserviceaccount.com","updateTime":"2025-09-03T02:56:48.274570155Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"e15cadd8950d7e647dddc31bb31966b3d700d1a5"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/99628053-96c4-40e4-9bd8-8d7ca088fd73.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com","satisfiesPzi":true}]}
[debug] [2025-09-03T18:27:26.253Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:26.253Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:26.254Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/trucking-app-3e473/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-09-03T18:27:26.719Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/trucking-app-3e473/locations/-/functions 200
[debug] [2025-09-03T18:27:26.720Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/trucking-app-3e473/locations/-/functions {}
[debug] [2025-09-03T18:27:26.724Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:26.724Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:26.724Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 [none]
[debug] [2025-09-03T18:27:27.126Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 200
[debug] [2025-09-03T18:27:27.127Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/trucking-app-3e473 {"projectNumber":"483740693601","projectId":"trucking-app-3e473","lifecycleState":"ACTIVE","name":"Trucking App","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-01T00:39:08.067334Z"}
[debug] [2025-09-03T18:27:27.128Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:27.128Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:27.128Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-09-03T18:27:27.128Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl {}
[debug] [2025-09-03T18:27:27.786Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-09-03T18:27:27.786Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/fff1c73c-49c2-49e0-a239-a4feeb848c92.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925847&Signature=grq5KDBm684n%2FXdHvXyGJaUjrbIW2%2FX9DkfK1DCMDvs4NdCPpKuCgB8PSkgXQwm1gv9XyoPWWbPVBnCm0%2F%2BnbtaYwPgrlSmk6FY0lScZDJUAw5rKoTbsXHmWTkdkPtVS4kw0He64mTerNT%2FGigNdJqhOEcZNV3rk%2Bk5nwcQPljG5Yv8VnvA7w6NbAzed6PykTXbETkf2baTuN7W7pPjnjmi5wx6Z8cbTlZlFG%2FMi0QTYdyD8CEGGcjQysOJxgtZtLg84RRzjat9xNXRT6NKM%2FIFVuUfuRJaDyykeh2517%2F65TMW89vYnS1Uq7UY78HIt005zOH9UQOJ%2FucqFPPpZNA%3D%3D"}
[debug] [2025-09-03T18:27:27.787Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/fff1c73c-49c2-49e0-a239-a4feeb848c92.zip GoogleAccessId=service-483740693601%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925847&Signature=grq5KDBm684n%2FXdHvXyGJaUjrbIW2%2FX9DkfK1DCMDvs4NdCPpKuCgB8PSkgXQwm1gv9XyoPWWbPVBnCm0%2F%2BnbtaYwPgrlSmk6FY0lScZDJUAw5rKoTbsXHmWTkdkPtVS4kw0He64mTerNT%2FGigNdJqhOEcZNV3rk%2Bk5nwcQPljG5Yv8VnvA7w6NbAzed6PykTXbETkf2baTuN7W7pPjnjmi5wx6Z8cbTlZlFG%2FMi0QTYdyD8CEGGcjQysOJxgtZtLg84RRzjat9xNXRT6NKM%2FIFVuUfuRJaDyykeh2517%2F65TMW89vYnS1Uq7UY78HIt005zOH9UQOJ%2FucqFPPpZNA%3D%3D
[debug] [2025-09-03T18:27:27.787Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/fff1c73c-49c2-49e0-a239-a4feeb848c92.zip [stream]
[debug] [2025-09-03T18:27:28.508Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/fff1c73c-49c2-49e0-a239-a4feeb848c92.zip 200
[debug] [2025-09-03T18:27:28.509Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/fff1c73c-49c2-49e0-a239-a4feeb848c92.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (1st Gen) function sendInviteEmail(us-central1)... 
[debug] [2025-09-03T18:27:28.514Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:28.514Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:28.514Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-09-03T18:27:28.514Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail {"name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/fff1c73c-49c2-49e0-a239-a4feeb848c92.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925847&Signature=grq5KDBm684n%2FXdHvXyGJaUjrbIW2%2FX9DkfK1DCMDvs4NdCPpKuCgB8PSkgXQwm1gv9XyoPWWbPVBnCm0%2F%2BnbtaYwPgrlSmk6FY0lScZDJUAw5rKoTbsXHmWTkdkPtVS4kw0He64mTerNT%2FGigNdJqhOEcZNV3rk%2Bk5nwcQPljG5Yv8VnvA7w6NbAzed6PykTXbETkf2baTuN7W7pPjnjmi5wx6Z8cbTlZlFG%2FMi0QTYdyD8CEGGcjQysOJxgtZtLg84RRzjat9xNXRT6NKM%2FIFVuUfuRJaDyykeh2517%2F65TMW89vYnS1Uq7UY78HIt005zOH9UQOJ%2FucqFPPpZNA%3D%3D","entryPoint":"sendInviteEmail","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-09-03T18:27:28.987Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail 200
[debug] [2025-09-03T18:27:28.987Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/fff1c73c-49c2-49e0-a239-a4feeb848c92.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925847&Signature=grq5KDBm684n%2FXdHvXyGJaUjrbIW2%2FX9DkfK1DCMDvs4NdCPpKuCgB8PSkgXQwm1gv9XyoPWWbPVBnCm0%2F%2BnbtaYwPgrlSmk6FY0lScZDJUAw5rKoTbsXHmWTkdkPtVS4kw0He64mTerNT%2FGigNdJqhOEcZNV3rk%2Bk5nwcQPljG5Yv8VnvA7w6NbAzed6PykTXbETkf2baTuN7W7pPjnjmi5wx6Z8cbTlZlFG%2FMi0QTYdyD8CEGGcjQysOJxgtZtLg84RRzjat9xNXRT6NKM%2FIFVuUfuRJaDyykeh2517%2F65TMW89vYnS1Uq7UY78HIt005zOH9UQOJ%2FucqFPPpZNA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"6","updateTime":"2025-09-03T18:27:29Z"}}
[debug] [2025-09-03T18:27:28.988Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:28.988Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:28.989Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw [none]
[debug] [2025-09-03T18:27:29.179Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw 200
[debug] [2025-09-03T18:27:29.179Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/fff1c73c-49c2-49e0-a239-a4feeb848c92.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925847&Signature=grq5KDBm684n%2FXdHvXyGJaUjrbIW2%2FX9DkfK1DCMDvs4NdCPpKuCgB8PSkgXQwm1gv9XyoPWWbPVBnCm0%2F%2BnbtaYwPgrlSmk6FY0lScZDJUAw5rKoTbsXHmWTkdkPtVS4kw0He64mTerNT%2FGigNdJqhOEcZNV3rk%2Bk5nwcQPljG5Yv8VnvA7w6NbAzed6PykTXbETkf2baTuN7W7pPjnjmi5wx6Z8cbTlZlFG%2FMi0QTYdyD8CEGGcjQysOJxgtZtLg84RRzjat9xNXRT6NKM%2FIFVuUfuRJaDyykeh2517%2F65TMW89vYnS1Uq7UY78HIt005zOH9UQOJ%2FucqFPPpZNA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"6","updateTime":"2025-09-03T18:27:29Z"}}
[debug] [2025-09-03T18:27:29.681Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:27:29.682Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:29.682Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:29.682Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw [none]
[debug] [2025-09-03T18:27:29.932Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw 200
[debug] [2025-09-03T18:27:29.933Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/fff1c73c-49c2-49e0-a239-a4feeb848c92.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925847&Signature=grq5KDBm684n%2FXdHvXyGJaUjrbIW2%2FX9DkfK1DCMDvs4NdCPpKuCgB8PSkgXQwm1gv9XyoPWWbPVBnCm0%2F%2BnbtaYwPgrlSmk6FY0lScZDJUAw5rKoTbsXHmWTkdkPtVS4kw0He64mTerNT%2FGigNdJqhOEcZNV3rk%2Bk5nwcQPljG5Yv8VnvA7w6NbAzed6PykTXbETkf2baTuN7W7pPjnjmi5wx6Z8cbTlZlFG%2FMi0QTYdyD8CEGGcjQysOJxgtZtLg84RRzjat9xNXRT6NKM%2FIFVuUfuRJaDyykeh2517%2F65TMW89vYnS1Uq7UY78HIt005zOH9UQOJ%2FucqFPPpZNA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"6","updateTime":"2025-09-03T18:27:29Z","buildId":"516f77f0-48ed-4194-bfb3-31d1eb1e6f16","buildName":"projects/483740693601/locations/us-central1/builds/516f77f0-48ed-4194-bfb3-31d1eb1e6f16"}}
[debug] [2025-09-03T18:27:30.933Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:27:30.933Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:30.933Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:30.934Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw [none]
[debug] [2025-09-03T18:27:31.118Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw 200
[debug] [2025-09-03T18:27:31.118Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/fff1c73c-49c2-49e0-a239-a4feeb848c92.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925847&Signature=grq5KDBm684n%2FXdHvXyGJaUjrbIW2%2FX9DkfK1DCMDvs4NdCPpKuCgB8PSkgXQwm1gv9XyoPWWbPVBnCm0%2F%2BnbtaYwPgrlSmk6FY0lScZDJUAw5rKoTbsXHmWTkdkPtVS4kw0He64mTerNT%2FGigNdJqhOEcZNV3rk%2Bk5nwcQPljG5Yv8VnvA7w6NbAzed6PykTXbETkf2baTuN7W7pPjnjmi5wx6Z8cbTlZlFG%2FMi0QTYdyD8CEGGcjQysOJxgtZtLg84RRzjat9xNXRT6NKM%2FIFVuUfuRJaDyykeh2517%2F65TMW89vYnS1Uq7UY78HIt005zOH9UQOJ%2FucqFPPpZNA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"6","updateTime":"2025-09-03T18:27:29Z","buildId":"516f77f0-48ed-4194-bfb3-31d1eb1e6f16","buildName":"projects/483740693601/locations/us-central1/builds/516f77f0-48ed-4194-bfb3-31d1eb1e6f16"}}
[debug] [2025-09-03T18:27:33.119Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:27:33.119Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:33.119Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:33.120Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw [none]
[debug] [2025-09-03T18:27:33.308Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw 200
[debug] [2025-09-03T18:27:33.308Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/fff1c73c-49c2-49e0-a239-a4feeb848c92.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925847&Signature=grq5KDBm684n%2FXdHvXyGJaUjrbIW2%2FX9DkfK1DCMDvs4NdCPpKuCgB8PSkgXQwm1gv9XyoPWWbPVBnCm0%2F%2BnbtaYwPgrlSmk6FY0lScZDJUAw5rKoTbsXHmWTkdkPtVS4kw0He64mTerNT%2FGigNdJqhOEcZNV3rk%2Bk5nwcQPljG5Yv8VnvA7w6NbAzed6PykTXbETkf2baTuN7W7pPjnjmi5wx6Z8cbTlZlFG%2FMi0QTYdyD8CEGGcjQysOJxgtZtLg84RRzjat9xNXRT6NKM%2FIFVuUfuRJaDyykeh2517%2F65TMW89vYnS1Uq7UY78HIt005zOH9UQOJ%2FucqFPPpZNA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"6","updateTime":"2025-09-03T18:27:29Z","buildId":"516f77f0-48ed-4194-bfb3-31d1eb1e6f16","buildName":"projects/483740693601/locations/us-central1/builds/516f77f0-48ed-4194-bfb3-31d1eb1e6f16"}}
[debug] [2025-09-03T18:27:37.308Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:27:37.309Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:37.309Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:37.309Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw [none]
[debug] [2025-09-03T18:27:37.504Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw 200
[debug] [2025-09-03T18:27:37.504Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/fff1c73c-49c2-49e0-a239-a4feeb848c92.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925847&Signature=grq5KDBm684n%2FXdHvXyGJaUjrbIW2%2FX9DkfK1DCMDvs4NdCPpKuCgB8PSkgXQwm1gv9XyoPWWbPVBnCm0%2F%2BnbtaYwPgrlSmk6FY0lScZDJUAw5rKoTbsXHmWTkdkPtVS4kw0He64mTerNT%2FGigNdJqhOEcZNV3rk%2Bk5nwcQPljG5Yv8VnvA7w6NbAzed6PykTXbETkf2baTuN7W7pPjnjmi5wx6Z8cbTlZlFG%2FMi0QTYdyD8CEGGcjQysOJxgtZtLg84RRzjat9xNXRT6NKM%2FIFVuUfuRJaDyykeh2517%2F65TMW89vYnS1Uq7UY78HIt005zOH9UQOJ%2FucqFPPpZNA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"6","updateTime":"2025-09-03T18:27:29Z","buildId":"516f77f0-48ed-4194-bfb3-31d1eb1e6f16","buildName":"projects/483740693601/locations/us-central1/builds/516f77f0-48ed-4194-bfb3-31d1eb1e6f16"}}
[debug] [2025-09-03T18:27:45.504Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:27:45.504Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:45.504Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:45.504Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw [none]
[debug] [2025-09-03T18:27:45.841Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw 200
[debug] [2025-09-03T18:27:45.842Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/fff1c73c-49c2-49e0-a239-a4feeb848c92.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925847&Signature=grq5KDBm684n%2FXdHvXyGJaUjrbIW2%2FX9DkfK1DCMDvs4NdCPpKuCgB8PSkgXQwm1gv9XyoPWWbPVBnCm0%2F%2BnbtaYwPgrlSmk6FY0lScZDJUAw5rKoTbsXHmWTkdkPtVS4kw0He64mTerNT%2FGigNdJqhOEcZNV3rk%2Bk5nwcQPljG5Yv8VnvA7w6NbAzed6PykTXbETkf2baTuN7W7pPjnjmi5wx6Z8cbTlZlFG%2FMi0QTYdyD8CEGGcjQysOJxgtZtLg84RRzjat9xNXRT6NKM%2FIFVuUfuRJaDyykeh2517%2F65TMW89vYnS1Uq7UY78HIt005zOH9UQOJ%2FucqFPPpZNA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"6","updateTime":"2025-09-03T18:27:29Z","buildId":"516f77f0-48ed-4194-bfb3-31d1eb1e6f16","buildName":"projects/483740693601/locations/us-central1/builds/516f77f0-48ed-4194-bfb3-31d1eb1e6f16"}}
[debug] [2025-09-03T18:27:55.843Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:27:55.844Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:55.844Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:27:55.844Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw [none]
[debug] [2025-09-03T18:27:56.279Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw 200
[debug] [2025-09-03T18:27:56.280Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/fff1c73c-49c2-49e0-a239-a4feeb848c92.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925847&Signature=grq5KDBm684n%2FXdHvXyGJaUjrbIW2%2FX9DkfK1DCMDvs4NdCPpKuCgB8PSkgXQwm1gv9XyoPWWbPVBnCm0%2F%2BnbtaYwPgrlSmk6FY0lScZDJUAw5rKoTbsXHmWTkdkPtVS4kw0He64mTerNT%2FGigNdJqhOEcZNV3rk%2Bk5nwcQPljG5Yv8VnvA7w6NbAzed6PykTXbETkf2baTuN7W7pPjnjmi5wx6Z8cbTlZlFG%2FMi0QTYdyD8CEGGcjQysOJxgtZtLg84RRzjat9xNXRT6NKM%2FIFVuUfuRJaDyykeh2517%2F65TMW89vYnS1Uq7UY78HIt005zOH9UQOJ%2FucqFPPpZNA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"6","updateTime":"2025-09-03T18:27:29Z","buildId":"516f77f0-48ed-4194-bfb3-31d1eb1e6f16","buildName":"projects/483740693601/locations/us-central1/builds/516f77f0-48ed-4194-bfb3-31d1eb1e6f16"}}
[debug] [2025-09-03T18:28:06.280Z] [update-default-us-central1-sendInviteEmail] Retrying task index 0
[debug] [2025-09-03T18:28:06.281Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:28:06.281Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:28:06.281Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw [none]
[debug] [2025-09-03T18:28:06.632Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw 200
[debug] [2025-09-03T18:28:06.633Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw {"name":"operations/dHJ1Y2tpbmctYXBwLTNlNDczL3VzLWNlbnRyYWwxL3NlbmRJbnZpdGVFbWFpbC9iUzhjVjhjMlI0Yw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail","httpsTrigger":{"url":"https://us-central1-trucking-app-3e473.cloudfunctions.net/sendInviteEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInviteEmail","updateTime":"2025-09-03T02:56:42.326Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"60cb8b852aba598d6f1f4c427dca1ef508c3f244"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-943889663378.us-central1.cloudfunctions.appspot.com/fff1c73c-49c2-49e0-a239-a4feeb848c92.zip?GoogleAccessId=service-483740693601@gcf-admin-robot.iam.gserviceaccount.com&Expires=1756925847&Signature=grq5KDBm684n%2FXdHvXyGJaUjrbIW2%2FX9DkfK1DCMDvs4NdCPpKuCgB8PSkgXQwm1gv9XyoPWWbPVBnCm0%2F%2BnbtaYwPgrlSmk6FY0lScZDJUAw5rKoTbsXHmWTkdkPtVS4kw0He64mTerNT%2FGigNdJqhOEcZNV3rk%2Bk5nwcQPljG5Yv8VnvA7w6NbAzed6PykTXbETkf2baTuN7W7pPjnjmi5wx6Z8cbTlZlFG%2FMi0QTYdyD8CEGGcjQysOJxgtZtLg84RRzjat9xNXRT6NKM%2FIFVuUfuRJaDyykeh2517%2F65TMW89vYnS1Uq7UY78HIt005zOH9UQOJ%2FucqFPPpZNA%3D%3D","environmentVariables":{"EMAIL_USER":"easietrucking@gmail.com","EMAIL_PASS":"EasieTrucking","FIREBASE_CONFIG":"{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}","GCLOUD_PROJECT":"trucking-app-3e473","EVENTARC_CLOUD_EVENT_SOURCE":"projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs18","buildId":"a7d0eaf2-968e-4453-8c7b-7e5429633f54","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/483740693601/locations/us-central1/builds/a7d0eaf2-968e-4453-8c7b-7e5429633f54","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/trucking-app-3e473/serviceAccounts/483740693601-compute@developer.gserviceaccount.com"},"versionId":"6","updateTime":"2025-09-03T18:28:00Z","buildId":"516f77f0-48ed-4194-bfb3-31d1eb1e6f16","buildName":"projects/483740693601/locations/us-central1/builds/516f77f0-48ed-4194-bfb3-31d1eb1e6f16"},"done":true,"error":{"code":3,"message":"Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Invalid: lock file's inquirer@6.5.2 does not satisfy inquirer@8.2.7\nnpm error Missing: inquirer@6.5.2 from lock file\nnpm error Invalid: lock file's ansi-escapes@3.2.0 does not satisfy ansi-escapes@4.3.2\nnpm error Missing: chalk@4.1.2 from lock file\nnpm error Invalid: lock file's cli-cursor@2.1.0 does not satisfy cli-cursor@3.1.0\nnpm error Invalid: lock file's cli-width@2.2.1 does not satisfy cli-width@3.0.0\nnpm error Invalid: lock file's figures@2.0.0 does not satisfy figures@3.2.0\nnpm error Invalid: lock file's mute-stream@0.0.7 does not satisfy mute-stream@0.0.8\nnpm error Invalid: lock file's rxjs@6.6.7 does not satisfy rxjs@7.8.2\nnpm error Invalid: lock file's strip-ansi@5.2.0 does not satisfy strip-ansi@6.0.1\nnpm error Missing: wrap-ansi@6.2.0 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Invalid: lock file's restore-cursor@2.0.0 does not satisfy restore-cursor@3.1.0\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Invalid: lock file's onetime@2.0.1 does not satisfy onetime@5.1.2\nnpm error Invalid: lock file's mimic-fn@1.2.0 does not satisfy mimic-fn@2.1.0\nnpm error Missing: ansi-escapes@3.2.0 from lock file\nnpm error Missing: cli-cursor@2.1.0 from lock file\nnpm error Missing: cli-width@2.2.1 from lock file\nnpm error Missing: figures@2.0.0 from lock file\nnpm error Missing: mute-stream@0.0.7 from lock file\nnpm error Missing: rxjs@6.6.7 from lock file\nnpm error Missing: string-width@2.1.1 from lock file\nnpm error Missing: strip-ansi@5.2.0 from lock file\nnpm error Missing: restore-cursor@2.0.0 from lock file\nnpm error Missing: onetime@2.0.1 from lock file\nnpm error Missing: mimic-fn@1.2.0 from lock file\nnpm error Missing: tslib@1.14.1 from lock file\nnpm error Missing: is-fullwidth-code-point@2.0.0 from lock file\nnpm error Missing: ansi-styles@4.3.0 from lock file\nnpm error Missing: supports-color@7.2.0 from lock file\nnpm error Missing: color-convert@2.0.1 from lock file\nnpm error Missing: color-name@1.1.4 from lock file\nnpm error Invalid: lock file's ansi-regex@4.1.1 does not satisfy ansi-regex@5.0.1\nnpm error Missing: has-flag@4.0.0 from lock file\nnpm error Missing: ansi-regex@4.1.1 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_27_54_253Z-debug-0.log; Error ID: 7fa33aaa"}}
[debug] [2025-09-03T18:28:06.633Z] Got source token undefined for region us-central1
[error] Build failed: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3
npm error Missing: picomatch@2.3.1 from lock file
npm error Invalid: lock file's inquirer@6.5.2 does not satisfy inquirer@8.2.7
npm error Missing: inquirer@6.5.2 from lock file
npm error Invalid: lock file's ansi-escapes@3.2.0 does not satisfy ansi-escapes@4.3.2
npm error Missing: chalk@4.1.2 from lock file
npm error Invalid: lock file's cli-cursor@2.1.0 does not satisfy cli-cursor@3.1.0
npm error Invalid: lock file's cli-width@2.2.1 does not satisfy cli-width@3.0.0
npm error Invalid: lock file's figures@2.0.0 does not satisfy figures@3.2.0
npm error Invalid: lock file's mute-stream@0.0.7 does not satisfy mute-stream@0.0.8
npm error Invalid: lock file's rxjs@6.6.7 does not satisfy rxjs@7.8.2
npm error Invalid: lock file's strip-ansi@5.2.0 does not satisfy strip-ansi@6.0.1
npm error Missing: wrap-ansi@6.2.0 from lock file
npm error Missing: type-fest@0.21.3 from lock file
npm error Invalid: lock file's restore-cursor@2.0.0 does not satisfy restore-cursor@3.1.0
npm error Missing: picomatch@2.3.1 from lock file
npm error Invalid: lock file's onetime@2.0.1 does not satisfy onetime@5.1.2
npm error Invalid: lock file's mimic-fn@1.2.0 does not satisfy mimic-fn@2.1.0
npm error Missing: ansi-escapes@3.2.0 from lock file
npm error Missing: cli-cursor@2.1.0 from lock file
npm error Missing: cli-width@2.2.1 from lock file
npm error Missing: figures@2.0.0 from lock file
npm error Missing: mute-stream@0.0.7 from lock file
npm error Missing: rxjs@6.6.7 from lock file
npm error Missing: string-width@2.1.1 from lock file
npm error Missing: strip-ansi@5.2.0 from lock file
npm error Missing: restore-cursor@2.0.0 from lock file
npm error Missing: onetime@2.0.1 from lock file
npm error Missing: mimic-fn@1.2.0 from lock file
npm error Missing: tslib@1.14.1 from lock file
npm error Missing: is-fullwidth-code-point@2.0.0 from lock file
npm error Missing: ansi-styles@4.3.0 from lock file
npm error Missing: supports-color@7.2.0 from lock file
npm error Missing: color-convert@2.0.1 from lock file
npm error Missing: color-name@1.1.4 from lock file
npm error Invalid: lock file's ansi-regex@4.1.1 does not satisfy ansi-regex@5.0.1
npm error Missing: has-flag@4.0.0 from lock file
npm error Missing: ansi-regex@4.1.1 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_27_54_253Z-debug-0.log; Error ID: 7fa33aaa
[debug] [2025-09-03T18:28:06.639Z] Total Function Deployment time: 38122
[debug] [2025-09-03T18:28:06.640Z] 1 Functions Deployed
[debug] [2025-09-03T18:28:06.640Z] 1 Functions Errored
[debug] [2025-09-03T18:28:06.640Z] 0 Function Deployments Aborted
[debug] [2025-09-03T18:28:06.640Z] Average Function Deployment time: 38122
[info] 
[info] Functions deploy had errors with the following functions:
	sendInviteEmail(us-central1)
[debug] [2025-09-03T18:28:06.994Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:28:06.994Z] Checked if tokens are valid: true, expires at: 1756925916648
[debug] [2025-09-03T18:28:06.994Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-09-03T18:28:07.470Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-09-03T18:28:07.470Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts {"name":"projects/trucking-app-3e473/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-09-02T23:34:29.347346Z","updateTime":"2025-09-03T02:57:15.262652Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"86400s"}}},"sizeBytes":"535653920","vulnerabilityScanningConfig":{"lastEnableTime":"2025-09-02T23:34:14.605559835Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/trucking-app-3e473/gcf-artifacts"}
[debug] [2025-09-03T18:28:07.471Z] Functions deploy failed.
[debug] [2025-09-03T18:28:07.471Z] {
  "endpoint": {
    "id": "sendInviteEmail",
    "project": "trucking-app-3e473",
    "region": "us-central1",
    "entryPoint": "sendInviteEmail",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "EMAIL_USER": "easietrucking@gmail.com",
      "EMAIL_PASS": "EasieTrucking",
      "FIREBASE_CONFIG": "{\"projectId\":\"trucking-app-3e473\",\"storageBucket\":\"trucking-app-3e473.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "trucking-app-3e473",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/trucking-app-3e473/locations/us-central1/functions/sendInviteEmail"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "60cb8b852aba598d6f1f4c427dca1ef508c3f244"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Invalid: lock file's inquirer@6.5.2 does not satisfy inquirer@8.2.7\nnpm error Missing: inquirer@6.5.2 from lock file\nnpm error Invalid: lock file's ansi-escapes@3.2.0 does not satisfy ansi-escapes@4.3.2\nnpm error Missing: chalk@4.1.2 from lock file\nnpm error Invalid: lock file's cli-cursor@2.1.0 does not satisfy cli-cursor@3.1.0\nnpm error Invalid: lock file's cli-width@2.2.1 does not satisfy cli-width@3.0.0\nnpm error Invalid: lock file's figures@2.0.0 does not satisfy figures@3.2.0\nnpm error Invalid: lock file's mute-stream@0.0.7 does not satisfy mute-stream@0.0.8\nnpm error Invalid: lock file's rxjs@6.6.7 does not satisfy rxjs@7.8.2\nnpm error Invalid: lock file's strip-ansi@5.2.0 does not satisfy strip-ansi@6.0.1\nnpm error Missing: wrap-ansi@6.2.0 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Invalid: lock file's restore-cursor@2.0.0 does not satisfy restore-cursor@3.1.0\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Invalid: lock file's onetime@2.0.1 does not satisfy onetime@5.1.2\nnpm error Invalid: lock file's mimic-fn@1.2.0 does not satisfy mimic-fn@2.1.0\nnpm error Missing: ansi-escapes@3.2.0 from lock file\nnpm error Missing: cli-cursor@2.1.0 from lock file\nnpm error Missing: cli-width@2.2.1 from lock file\nnpm error Missing: figures@2.0.0 from lock file\nnpm error Missing: mute-stream@0.0.7 from lock file\nnpm error Missing: rxjs@6.6.7 from lock file\nnpm error Missing: string-width@2.1.1 from lock file\nnpm error Missing: strip-ansi@5.2.0 from lock file\nnpm error Missing: restore-cursor@2.0.0 from lock file\nnpm error Missing: onetime@2.0.1 from lock file\nnpm error Missing: mimic-fn@1.2.0 from lock file\nnpm error Missing: tslib@1.14.1 from lock file\nnpm error Missing: is-fullwidth-code-point@2.0.0 from lock file\nnpm error Missing: ansi-styles@4.3.0 from lock file\nnpm error Missing: supports-color@7.2.0 from lock file\nnpm error Missing: color-convert@2.0.1 from lock file\nnpm error Missing: color-name@1.1.4 from lock file\nnpm error Invalid: lock file's ansi-regex@4.1.1 does not satisfy ansi-regex@5.0.1\nnpm error Missing: has-flag@4.0.0 from lock file\nnpm error Missing: ansi-regex@4.1.1 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_27_54_253Z-debug-0.log; Error ID: 7fa33aaa",
    "original": {
      "code": 3,
      "message": "Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's picomatch@2.3.1 does not satisfy picomatch@4.0.3\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Invalid: lock file's inquirer@6.5.2 does not satisfy inquirer@8.2.7\nnpm error Missing: inquirer@6.5.2 from lock file\nnpm error Invalid: lock file's ansi-escapes@3.2.0 does not satisfy ansi-escapes@4.3.2\nnpm error Missing: chalk@4.1.2 from lock file\nnpm error Invalid: lock file's cli-cursor@2.1.0 does not satisfy cli-cursor@3.1.0\nnpm error Invalid: lock file's cli-width@2.2.1 does not satisfy cli-width@3.0.0\nnpm error Invalid: lock file's figures@2.0.0 does not satisfy figures@3.2.0\nnpm error Invalid: lock file's mute-stream@0.0.7 does not satisfy mute-stream@0.0.8\nnpm error Invalid: lock file's rxjs@6.6.7 does not satisfy rxjs@7.8.2\nnpm error Invalid: lock file's strip-ansi@5.2.0 does not satisfy strip-ansi@6.0.1\nnpm error Missing: wrap-ansi@6.2.0 from lock file\nnpm error Missing: type-fest@0.21.3 from lock file\nnpm error Invalid: lock file's restore-cursor@2.0.0 does not satisfy restore-cursor@3.1.0\nnpm error Missing: picomatch@2.3.1 from lock file\nnpm error Invalid: lock file's onetime@2.0.1 does not satisfy onetime@5.1.2\nnpm error Invalid: lock file's mimic-fn@1.2.0 does not satisfy mimic-fn@2.1.0\nnpm error Missing: ansi-escapes@3.2.0 from lock file\nnpm error Missing: cli-cursor@2.1.0 from lock file\nnpm error Missing: cli-width@2.2.1 from lock file\nnpm error Missing: figures@2.0.0 from lock file\nnpm error Missing: mute-stream@0.0.7 from lock file\nnpm error Missing: rxjs@6.6.7 from lock file\nnpm error Missing: string-width@2.1.1 from lock file\nnpm error Missing: strip-ansi@5.2.0 from lock file\nnpm error Missing: restore-cursor@2.0.0 from lock file\nnpm error Missing: onetime@2.0.1 from lock file\nnpm error Missing: mimic-fn@1.2.0 from lock file\nnpm error Missing: tslib@1.14.1 from lock file\nnpm error Missing: is-fullwidth-code-point@2.0.0 from lock file\nnpm error Missing: ansi-styles@4.3.0 from lock file\nnpm error Missing: supports-color@7.2.0 from lock file\nnpm error Missing: color-convert@2.0.1 from lock file\nnpm error Missing: color-name@1.1.4 from lock file\nnpm error Invalid: lock file's ansi-regex@4.1.1 does not satisfy ansi-regex@5.0.1\nnpm error Missing: has-flag@4.0.0 from lock file\nnpm error Missing: ansi-regex@4.1.1 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-03T18_27_54_253Z-debug-0.log; Error ID: 7fa33aaa"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-09-03T18:28:07.564Z] Error: Failed to update function sendInviteEmail in region us-central1
    at /Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:52:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV1Function (/Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:364:32)
    at async Fabricator.updateEndpoint (/Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:157:13)
    at async handle (/Users/hardeep/.nvm/versions/node/v20.19.4/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
